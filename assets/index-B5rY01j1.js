(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function tE(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Id={exports:{}},gl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d_;function cS(){if(d_)return gl;d_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return gl.Fragment=e,gl.jsx=n,gl.jsxs=n,gl}var m_;function hS(){return m_||(m_=1,Id.exports=cS()),Id.exports}var We=hS(),Dd={exports:{}},be={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p_;function fS(){if(p_)return be;p_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),w=Symbol.iterator;function D(O){return O===null||typeof O!="object"?null:(O=w&&O[w]||O["@@iterator"],typeof O=="function"?O:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,K={};function q(O,ee,ce){this.props=O,this.context=ee,this.refs=K,this.updater=ce||L}q.prototype.isReactComponent={},q.prototype.setState=function(O,ee){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,ee,"setState")},q.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function Q(){}Q.prototype=q.prototype;function Z(O,ee,ce){this.props=O,this.context=ee,this.refs=K,this.updater=ce||L}var ne=Z.prototype=new Q;ne.constructor=Z,z(ne,q.prototype),ne.isPureReactComponent=!0;var pe=Array.isArray,le={H:null,A:null,T:null,S:null},Se=Object.prototype.hasOwnProperty;function M(O,ee,ce,re,se,Re){return ce=Re.ref,{$$typeof:r,type:O,key:ee,ref:ce!==void 0?ce:null,props:Re}}function b(O,ee){return M(O.type,ee,void 0,void 0,void 0,O.props)}function S(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function C(O){var ee={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ce){return ee[ce]})}var V=/\/+/g;function U(O,ee){return typeof O=="object"&&O!==null&&O.key!=null?C(""+O.key):ee.toString(36)}function I(){}function yt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(I,I):(O.status="pending",O.then(function(ee){O.status==="pending"&&(O.status="fulfilled",O.value=ee)},function(ee){O.status==="pending"&&(O.status="rejected",O.reason=ee)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function ht(O,ee,ce,re,se){var Re=typeof O;(Re==="undefined"||Re==="boolean")&&(O=null);var we=!1;if(O===null)we=!0;else switch(Re){case"bigint":case"string":case"number":we=!0;break;case"object":switch(O.$$typeof){case r:case e:we=!0;break;case E:return we=O._init,ht(we(O._payload),ee,ce,re,se)}}if(we)return se=se(O),we=re===""?"."+U(O,0):re,pe(se)?(ce="",we!=null&&(ce=we.replace(V,"$&/")+"/"),ht(se,ee,ce,"",function(it){return it})):se!=null&&(S(se)&&(se=b(se,ce+(se.key==null||O&&O.key===se.key?"":(""+se.key).replace(V,"$&/")+"/")+we)),ee.push(se)),1;we=0;var ft=re===""?".":re+":";if(pe(O))for(var Ue=0;Ue<O.length;Ue++)re=O[Ue],Re=ft+U(re,Ue),we+=ht(re,ee,ce,Re,se);else if(Ue=D(O),typeof Ue=="function")for(O=Ue.call(O),Ue=0;!(re=O.next()).done;)re=re.value,Re=ft+U(re,Ue++),we+=ht(re,ee,ce,Re,se);else if(Re==="object"){if(typeof O.then=="function")return ht(yt(O),ee,ce,re,se);throw ee=String(O),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return we}function ie(O,ee,ce){if(O==null)return O;var re=[],se=0;return ht(O,re,"","",function(Re){return ee.call(ce,Re,se++)}),re}function _e(O){if(O._status===-1){var ee=O._result;ee=ee(),ee.then(function(ce){(O._status===0||O._status===-1)&&(O._status=1,O._result=ce)},function(ce){(O._status===0||O._status===-1)&&(O._status=2,O._result=ce)}),O._status===-1&&(O._status=0,O._result=ee)}if(O._status===1)return O._result.default;throw O._result}var fe=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function qe(){}return be.Children={map:ie,forEach:function(O,ee,ce){ie(O,function(){ee.apply(this,arguments)},ce)},count:function(O){var ee=0;return ie(O,function(){ee++}),ee},toArray:function(O){return ie(O,function(ee){return ee})||[]},only:function(O){if(!S(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},be.Component=q,be.Fragment=n,be.Profiler=o,be.PureComponent=Z,be.StrictMode=s,be.Suspense=p,be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=le,be.act=function(){throw Error("act(...) is not supported in production builds of React.")},be.cache=function(O){return function(){return O.apply(null,arguments)}},be.cloneElement=function(O,ee,ce){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var re=z({},O.props),se=O.key,Re=void 0;if(ee!=null)for(we in ee.ref!==void 0&&(Re=void 0),ee.key!==void 0&&(se=""+ee.key),ee)!Se.call(ee,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&ee.ref===void 0||(re[we]=ee[we]);var we=arguments.length-2;if(we===1)re.children=ce;else if(1<we){for(var ft=Array(we),Ue=0;Ue<we;Ue++)ft[Ue]=arguments[Ue+2];re.children=ft}return M(O.type,se,void 0,void 0,Re,re)},be.createContext=function(O){return O={$$typeof:f,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},be.createElement=function(O,ee,ce){var re,se={},Re=null;if(ee!=null)for(re in ee.key!==void 0&&(Re=""+ee.key),ee)Se.call(ee,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(se[re]=ee[re]);var we=arguments.length-2;if(we===1)se.children=ce;else if(1<we){for(var ft=Array(we),Ue=0;Ue<we;Ue++)ft[Ue]=arguments[Ue+2];se.children=ft}if(O&&O.defaultProps)for(re in we=O.defaultProps,we)se[re]===void 0&&(se[re]=we[re]);return M(O,Re,void 0,void 0,null,se)},be.createRef=function(){return{current:null}},be.forwardRef=function(O){return{$$typeof:m,render:O}},be.isValidElement=S,be.lazy=function(O){return{$$typeof:E,_payload:{_status:-1,_result:O},_init:_e}},be.memo=function(O,ee){return{$$typeof:y,type:O,compare:ee===void 0?null:ee}},be.startTransition=function(O){var ee=le.T,ce={};le.T=ce;try{var re=O(),se=le.S;se!==null&&se(ce,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(qe,fe)}catch(Re){fe(Re)}finally{le.T=ee}},be.unstable_useCacheRefresh=function(){return le.H.useCacheRefresh()},be.use=function(O){return le.H.use(O)},be.useActionState=function(O,ee,ce){return le.H.useActionState(O,ee,ce)},be.useCallback=function(O,ee){return le.H.useCallback(O,ee)},be.useContext=function(O){return le.H.useContext(O)},be.useDebugValue=function(){},be.useDeferredValue=function(O,ee){return le.H.useDeferredValue(O,ee)},be.useEffect=function(O,ee){return le.H.useEffect(O,ee)},be.useId=function(){return le.H.useId()},be.useImperativeHandle=function(O,ee,ce){return le.H.useImperativeHandle(O,ee,ce)},be.useInsertionEffect=function(O,ee){return le.H.useInsertionEffect(O,ee)},be.useLayoutEffect=function(O,ee){return le.H.useLayoutEffect(O,ee)},be.useMemo=function(O,ee){return le.H.useMemo(O,ee)},be.useOptimistic=function(O,ee){return le.H.useOptimistic(O,ee)},be.useReducer=function(O,ee,ce){return le.H.useReducer(O,ee,ce)},be.useRef=function(O){return le.H.useRef(O)},be.useState=function(O){return le.H.useState(O)},be.useSyncExternalStore=function(O,ee,ce){return le.H.useSyncExternalStore(O,ee,ce)},be.useTransition=function(){return le.H.useTransition()},be.version="19.0.0",be}var g_;function _m(){return g_||(g_=1,Dd.exports=fS()),Dd.exports}var Y=_m();const dS=tE(Y);var Od={exports:{}},yl={},Nd={exports:{}},Md={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y_;function mS(){return y_||(y_=1,function(r){function e(ie,_e){var fe=ie.length;ie.push(_e);e:for(;0<fe;){var qe=fe-1>>>1,O=ie[qe];if(0<o(O,_e))ie[qe]=_e,ie[fe]=O,fe=qe;else break e}}function n(ie){return ie.length===0?null:ie[0]}function s(ie){if(ie.length===0)return null;var _e=ie[0],fe=ie.pop();if(fe!==_e){ie[0]=fe;e:for(var qe=0,O=ie.length,ee=O>>>1;qe<ee;){var ce=2*(qe+1)-1,re=ie[ce],se=ce+1,Re=ie[se];if(0>o(re,fe))se<O&&0>o(Re,re)?(ie[qe]=Re,ie[se]=fe,qe=se):(ie[qe]=re,ie[ce]=fe,qe=ce);else if(se<O&&0>o(Re,fe))ie[qe]=Re,ie[se]=fe,qe=se;else break e}}return _e}function o(ie,_e){var fe=ie.sortIndex-_e.sortIndex;return fe!==0?fe:ie.id-_e.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],y=[],E=1,w=null,D=3,L=!1,z=!1,K=!1,q=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,Z=typeof setImmediate<"u"?setImmediate:null;function ne(ie){for(var _e=n(y);_e!==null;){if(_e.callback===null)s(y);else if(_e.startTime<=ie)s(y),_e.sortIndex=_e.expirationTime,e(p,_e);else break;_e=n(y)}}function pe(ie){if(K=!1,ne(ie),!z)if(n(p)!==null)z=!0,yt();else{var _e=n(y);_e!==null&&ht(pe,_e.startTime-ie)}}var le=!1,Se=-1,M=5,b=-1;function S(){return!(r.unstable_now()-b<M)}function C(){if(le){var ie=r.unstable_now();b=ie;var _e=!0;try{e:{z=!1,K&&(K=!1,Q(Se),Se=-1),L=!0;var fe=D;try{t:{for(ne(ie),w=n(p);w!==null&&!(w.expirationTime>ie&&S());){var qe=w.callback;if(typeof qe=="function"){w.callback=null,D=w.priorityLevel;var O=qe(w.expirationTime<=ie);if(ie=r.unstable_now(),typeof O=="function"){w.callback=O,ne(ie),_e=!0;break t}w===n(p)&&s(p),ne(ie)}else s(p);w=n(p)}if(w!==null)_e=!0;else{var ee=n(y);ee!==null&&ht(pe,ee.startTime-ie),_e=!1}}break e}finally{w=null,D=fe,L=!1}_e=void 0}}finally{_e?V():le=!1}}}var V;if(typeof Z=="function")V=function(){Z(C)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,I=U.port2;U.port1.onmessage=C,V=function(){I.postMessage(null)}}else V=function(){q(C,0)};function yt(){le||(le=!0,V())}function ht(ie,_e){Se=q(function(){ie(r.unstable_now())},_e)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ie){ie.callback=null},r.unstable_continueExecution=function(){z||L||(z=!0,yt())},r.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<ie?Math.floor(1e3/ie):5},r.unstable_getCurrentPriorityLevel=function(){return D},r.unstable_getFirstCallbackNode=function(){return n(p)},r.unstable_next=function(ie){switch(D){case 1:case 2:case 3:var _e=3;break;default:_e=D}var fe=D;D=_e;try{return ie()}finally{D=fe}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(ie,_e){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var fe=D;D=ie;try{return _e()}finally{D=fe}},r.unstable_scheduleCallback=function(ie,_e,fe){var qe=r.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?qe+fe:qe):fe=qe,ie){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=fe+O,ie={id:E++,callback:_e,priorityLevel:ie,startTime:fe,expirationTime:O,sortIndex:-1},fe>qe?(ie.sortIndex=fe,e(y,ie),n(p)===null&&ie===n(y)&&(K?(Q(Se),Se=-1):K=!0,ht(pe,fe-qe))):(ie.sortIndex=O,e(p,ie),z||L||(z=!0,yt())),ie},r.unstable_shouldYield=S,r.unstable_wrapCallback=function(ie){var _e=D;return function(){var fe=D;D=_e;try{return ie.apply(this,arguments)}finally{D=fe}}}}(Md)),Md}var __;function pS(){return __||(__=1,Nd.exports=mS()),Nd.exports}var Vd={exports:{}},Gt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v_;function gS(){if(v_)return Gt;v_=1;var r=_m();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,y,E){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:p,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Gt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Gt.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(p,y,null,E)},Gt.flushSync=function(p){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=y,s.p=E,s.d.f()}},Gt.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},Gt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Gt.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,w=m(E,y.crossOrigin),D=typeof y.integrity=="string"?y.integrity:void 0,L=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:w,integrity:D,fetchPriority:L}):E==="script"&&s.d.X(p,{crossOrigin:w,integrity:D,fetchPriority:L,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Gt.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},Gt.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,w=m(E,y.crossOrigin);s.d.L(p,E,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Gt.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},Gt.requestFormReset=function(p){s.d.r(p)},Gt.unstable_batchedUpdates=function(p,y){return p(y)},Gt.useFormState=function(p,y,E){return f.H.useFormState(p,y,E)},Gt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Gt.version="19.0.0",Gt}var E_;function yS(){if(E_)return Vd.exports;E_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Vd.exports=gS(),Vd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T_;function _S(){if(T_)return yl;T_=1;var r=pS(),e=_m(),n=yS();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var u=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),w=Symbol.for("react.provider"),D=Symbol.for("react.consumer"),L=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),ne=Symbol.for("react.offscreen"),pe=Symbol.for("react.memo_cache_sentinel"),le=Symbol.iterator;function Se(t){return t===null||typeof t!="object"?null:(t=le&&t[le]||t["@@iterator"],typeof t=="function"?t:null)}var M=Symbol.for("react.client.reference");function b(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===M?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case p:return"Fragment";case m:return"Portal";case E:return"Profiler";case y:return"StrictMode";case K:return"Suspense";case q:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case L:return(t.displayName||"Context")+".Provider";case D:return(t._context.displayName||"Context")+".Consumer";case z:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Q:return i=t.displayName||null,i!==null?i:b(t.type)||"Memo";case Z:i=t._payload,t=t._init;try{return b(t(i))}catch{}}return null}var S=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,C=Object.assign,V,U;function I(t){if(V===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);V=i&&i[1]||"",U=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+V+t+U}var yt=!1;function ht(t,i){if(!t||yt)return"";yt=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(F){var H=F}Reflect.construct(t,[],W)}else{try{W.call()}catch(F){H=F}t.call(W.prototype)}}else{try{throw Error()}catch(F){H=F}(W=t())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(F){if(F&&H&&typeof F.stack=="string")return[F.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var R=v.split(`
`),P=T.split(`
`);for(h=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(l===R.length||h===P.length)for(l=R.length-1,h=P.length-1;1<=l&&0<=h&&R[l]!==P[h];)h--;for(;1<=l&&0<=h;l--,h--)if(R[l]!==P[h]){if(l!==1||h!==1)do if(l--,h--,0>h||R[l]!==P[h]){var G=`
`+R[l].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=l&&0<=h);break}}}finally{yt=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?I(a):""}function ie(t){switch(t.tag){case 26:case 27:case 5:return I(t.type);case 16:return I("Lazy");case 13:return I("Suspense");case 19:return I("SuspenseList");case 0:case 15:return t=ht(t.type,!1),t;case 11:return t=ht(t.type.render,!1),t;case 1:return t=ht(t.type,!0),t;default:return""}}function _e(t){try{var i="";do i+=ie(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function fe(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function qe(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function O(t){if(fe(t)!==t)throw Error(s(188))}function ee(t){var i=t.alternate;if(!i){if(i=fe(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return O(h),t;if(d===l)return O(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,l=d;break}if(T===l){v=!0,l=h,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,l=h;break}if(T===l){v=!0,l=d,a=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function ce(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=ce(t),i!==null)return i;t=t.sibling}return null}var re=Array.isArray,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Re={pending:!1,data:null,method:null,action:null},we=[],ft=-1;function Ue(t){return{current:t}}function it(t){0>ft||(t.current=we[ft],we[ft]=null,ft--)}function Ge(t,i){ft++,we[ft]=t.current,t.current=i}var Xt=Ue(null),pi=Ue(null),pn=Ue(null),Ji=Ue(null);function er(t,i){switch(Ge(pn,i),Ge(pi,t),Ge(Xt,null),t=i.nodeType,t){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?qy(i):0;break;default:if(t=t===8?i.parentNode:i,i=t.tagName,t=t.namespaceURI)t=qy(t),i=jy(t,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}it(Xt),Ge(Xt,i)}function gi(){it(Xt),it(pi),it(pn)}function co(t){t.memoizedState!==null&&Ge(Ji,t);var i=Xt.current,a=jy(i,t.type);i!==a&&(Ge(pi,t),Ge(Xt,a))}function Qs(t){pi.current===t&&(it(Xt),it(pi)),Ji.current===t&&(it(Ji),hl._currentValue=Re)}var Ys=Object.prototype.hasOwnProperty,ns=r.unstable_scheduleCallback,$s=r.unstable_cancelCallback,Dh=r.unstable_shouldYield,ho=r.unstable_requestPaint,nn=r.unstable_now,Jl=r.unstable_getCurrentPriorityLevel,_t=r.unstable_ImmediatePriority,It=r.unstable_UserBlockingPriority,yi=r.unstable_NormalPriority,eu=r.unstable_LowPriority,fo=r.unstable_IdlePriority,Oh=r.log,is=r.unstable_setDisableYieldValue,tr=null,jt=null;function mo(t){if(jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(tr,t,void 0,(t.current.flags&128)===128)}catch{}}function jn(t){if(typeof Oh=="function"&&is(t),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(tr,t)}catch{}}var Wt=Math.clz32?Math.clz32:nu,po=Math.log,tu=Math.LN2;function nu(t){return t>>>=0,t===0?32:31-(po(t)/tu|0)|0}var Fn=128,nr=4194304;function Vn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function gn(t,i){var a=t.pendingLanes;if(a===0)return 0;var l=0,h=t.suspendedLanes,d=t.pingedLanes,v=t.warmLanes;t=t.finishedLanes!==0;var T=a&134217727;return T!==0?(a=T&~h,a!==0?l=Vn(a):(d&=T,d!==0?l=Vn(d):t||(v=T&~v,v!==0&&(l=Vn(v))))):(T=a&~h,T!==0?l=Vn(T):d!==0?l=Vn(d):t||(v=a&~v,v!==0&&(l=Vn(v)))),l===0?0:i!==0&&i!==l&&(i&h)===0&&(h=l&-l,v=i&-i,h>=v||h===32&&(v&4194176)!==0)?i:l}function ir(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Xs(t,i){switch(t){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function go(){var t=Fn;return Fn<<=1,(Fn&4194176)===0&&(Fn=128),t}function rr(){var t=nr;return nr<<=1,(nr&62914560)===0&&(nr=4194304),t}function Ws(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function lt(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function iu(t,i,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,R=t.expirationTimes,P=t.hiddenUpdates;for(a=v&~a;0<a;){var G=31-Wt(a),W=1<<G;T[G]=0,R[G]=-1;var H=P[G];if(H!==null)for(P[G]=null,G=0;G<H.length;G++){var F=H[G];F!==null&&(F.lane&=-536870913)}a&=~W}l!==0&&sr(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~i))}function sr(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-Wt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194218}function ar(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-Wt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function ru(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function su(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:o_(t.type))}function or(t,i){var a=se.p;try{return se.p=t,i()}finally{se.p=a}}var Gn=Math.random().toString(36).slice(2),Dt="__reactFiber$"+Gn,vt="__reactProps$"+Gn,_i="__reactContainer$"+Gn,rs="__reactEvents$"+Gn,Zs="__reactListeners$"+Gn,Kn="__reactHandles$"+Gn,yo="__reactResources$"+Gn,lr="__reactMarker$"+Gn;function ss(t){delete t[Dt],delete t[vt],delete t[rs],delete t[Zs],delete t[Kn]}function Pn(t){var i=t[Dt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[_i]||a[Dt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=Ky(t);t!==null;){if(a=t[Dt])return a;t=Ky(t)}return i}t=a,a=t.parentNode}return null}function vi(t){if(t=t[Dt]||t[_i]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function ur(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function cr(t){var i=t[yo];return i||(i=t[yo]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Je(t){t[lr]=!0}var _o=new Set,Js={};function on(t,i){rn(t,i),rn(t+"Capture",i)}function rn(t,i){for(Js[t]=i,t=0;t<i.length;t++)_o.add(i[t])}var ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vo={},Eo={};function au(t){return Ys.call(Eo,t)?!0:Ys.call(vo,t)?!1:Nh.test(t)?Eo[t]=!0:(vo[t]=!0,!1)}function hr(t,i,a){if(au(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function fr(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function yn(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Zt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ou(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Mh(t){var i=ou(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function as(t){t._valueTracker||(t._valueTracker=Mh(t))}function To(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=ou(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function ea(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ei=/[\n"\\]/g;function rt(t){return t.replace(Ei,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function dr(t,i,a,l,h,d,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Zt(i)):t.value!==""+Zt(i)&&(t.value=""+Zt(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?ta(t,v,Zt(i)):a!=null?ta(t,v,Zt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Zt(T):t.removeAttribute("name")}function os(t,i,a,l,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+Zt(a):"",i=i!=null?""+Zt(i):a,T||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function ta(t,i,a){i==="number"&&ea(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function ze(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Zt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function ls(t,i,a){if(i!=null&&(i=""+Zt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Zt(a):""}function mr(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(re(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Zt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function _n(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Vh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ao(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Vh.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function lu(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Ao(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Ao(t,d,i[d])}function So(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ph=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),kh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Qn(t){return kh.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var vn=null;function na(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ti=null,Ai=null;function Si(t){var i=vi(t);if(i&&(t=i.stateNode)){var a=t[vt]||null;e:switch(t=i.stateNode,i.type){case"input":if(dr(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+rt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[vt]||null;if(!h)throw Error(s(90));dr(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&To(l)}break e;case"textarea":ls(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&ze(t,!!a.multiple,i,!1)}}}var wo=!1;function uu(t,i,a){if(wo)return t(i,a);wo=!0;try{var l=t(i);return l}finally{if(wo=!1,(Ti!==null||Ai!==null)&&(ec(),Ti&&(i=Ti,t=Ai,Ai=Ti=null,Si(i),t)))for(i=0;i<t.length;i++)Si(t[i])}}function us(t,i){var a=t.stateNode;if(a===null)return null;var l=a[vt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var En=!1;if(ln)try{var cs={};Object.defineProperty(cs,"passive",{get:function(){En=!0}}),window.addEventListener("test",cs,cs),window.removeEventListener("test",cs,cs)}catch{En=!1}var Yn=null,pr=null,wi=null;function bo(){if(wi)return wi;var t,i=pr,a=i.length,l,h="value"in Yn?Yn.value:Yn.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return wi=h.slice(t,1<l?1-l:void 0)}function $n(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Xn(){return!0}function Ro(){return!1}function Ot(t){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Xn:Ro,this.isPropagationStopped=Ro,this}return C(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Xn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Xn)},persist:function(){},isPersistent:Xn}),i}var je={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ia=Ot(je),hs=C({},je,{view:0,detail:0}),cu=Ot(hs),ra,sa,Wn,fs=C({},hs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ps,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Wn&&(Wn&&t.type==="mousemove"?(ra=t.screenX-Wn.screenX,sa=t.screenY-Wn.screenY):sa=ra=0,Wn=t),ra)},movementY:function(t){return"movementY"in t?t.movementY:sa}}),Tn=Ot(fs),hu=C({},fs,{dataTransfer:0}),Lh=Ot(hu),ds=C({},hs,{relatedTarget:0}),aa=Ot(ds),Co=C({},je,{animationName:0,elapsedTime:0,pseudoElement:0}),oa=Ot(Co),fu=C({},je,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),la=Ot(fu),xh=C({},je,{data:0}),Io=Ot(xh),ms={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},du={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Do(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=mu[t])?!!i[t]:!1}function ps(){return Do}var pu=C({},hs,{key:function(t){if(t.key){var i=ms[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=$n(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?du[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ps,charCode:function(t){return t.type==="keypress"?$n(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?$n(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ua=Ot(pu),gu=C({},fs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Oo=Ot(gu),bi=C({},hs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ps}),yu=Ot(bi),_u=C({},je,{propertyName:0,elapsedTime:0,pseudoElement:0}),vu=Ot(_u),Eu=C({},fs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ca=Ot(Eu),Jt=C({},je,{newState:0,oldState:0}),Tu=Ot(Jt),Au=[9,13,27,32],Zn=ln&&"CompositionEvent"in window,c=null;ln&&"documentMode"in document&&(c=document.documentMode);var g=ln&&"TextEvent"in window&&!c,_=ln&&(!Zn||c&&8<c&&11>=c),A=" ",x=!1;function j(t,i){switch(t){case"keyup":return Au.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function te(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Pe=!1;function Et(t,i){switch(t){case"compositionend":return te(i);case"keypress":return i.which!==32?null:(x=!0,A);case"textInput":return t=i.data,t===A&&x?null:t;default:return null}}function ke(t,i){if(Pe)return t==="compositionend"||!Zn&&j(t,i)?(t=bo(),wi=pr=Yn=null,Pe=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var Nt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tt(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Nt[t.type]:i==="textarea"}function Ri(t,i,a,l){Ti?Ai?Ai.push(l):Ai=[l]:Ti=l,i=sc(i,"onChange"),0<i.length&&(a=new ia("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Lt=null,Jn=null;function No(t){xy(t,0)}function Su(t){var i=ur(t);if(To(i))return t}function fp(t,i){if(t==="change")return i}var dp=!1;if(ln){var Uh;if(ln){var zh="oninput"in document;if(!zh){var mp=document.createElement("div");mp.setAttribute("oninput","return;"),zh=typeof mp.oninput=="function"}Uh=zh}else Uh=!1;dp=Uh&&(!document.documentMode||9<document.documentMode)}function pp(){Lt&&(Lt.detachEvent("onpropertychange",gp),Jn=Lt=null)}function gp(t){if(t.propertyName==="value"&&Su(Jn)){var i=[];Ri(i,Jn,t,na(t)),uu(No,i)}}function B0(t,i,a){t==="focusin"?(pp(),Lt=i,Jn=a,Lt.attachEvent("onpropertychange",gp)):t==="focusout"&&pp()}function H0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Su(Jn)}function q0(t,i){if(t==="click")return Su(i)}function j0(t,i){if(t==="input"||t==="change")return Su(i)}function F0(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var un=typeof Object.is=="function"?Object.is:F0;function Mo(t,i){if(un(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Ys.call(i,h)||!un(t[h],i[h]))return!1}return!0}function yp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function _p(t,i){var a=yp(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=yp(a)}}function vp(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?vp(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Ep(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=ea(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=ea(t.document)}return i}function Bh(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}function G0(t,i){var a=Ep(i);i=t.focusedElem;var l=t.selectionRange;if(a!==i&&i&&i.ownerDocument&&vp(i.ownerDocument.documentElement,i)){if(l!==null&&Bh(i)){if(t=l.start,a=l.end,a===void 0&&(a=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(a,i.value.length);else if(a=(t=i.ownerDocument||document)&&t.defaultView||window,a.getSelection){a=a.getSelection();var h=i.textContent.length,d=Math.min(l.start,h);l=l.end===void 0?d:Math.min(l.end,h),!a.extend&&d>l&&(h=l,l=d,d=h),h=_p(i,d);var v=_p(i,l);h&&v&&(a.rangeCount!==1||a.anchorNode!==h.node||a.anchorOffset!==h.offset||a.focusNode!==v.node||a.focusOffset!==v.offset)&&(t=t.createRange(),t.setStart(h.node,h.offset),a.removeAllRanges(),d>l?(a.addRange(t),a.extend(v.node,v.offset)):(t.setEnd(v.node,v.offset),a.addRange(t)))}}for(t=[],a=i;a=a.parentNode;)a.nodeType===1&&t.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)a=t[i],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var K0=ln&&"documentMode"in document&&11>=document.documentMode,ha=null,Hh=null,Vo=null,qh=!1;function Tp(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;qh||ha==null||ha!==ea(l)||(l=ha,"selectionStart"in l&&Bh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Vo&&Mo(Vo,l)||(Vo=l,l=sc(Hh,"onSelect"),0<l.length&&(i=new ia("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=ha)))}function gs(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var fa={animationend:gs("Animation","AnimationEnd"),animationiteration:gs("Animation","AnimationIteration"),animationstart:gs("Animation","AnimationStart"),transitionrun:gs("Transition","TransitionRun"),transitionstart:gs("Transition","TransitionStart"),transitioncancel:gs("Transition","TransitionCancel"),transitionend:gs("Transition","TransitionEnd")},jh={},Ap={};ln&&(Ap=document.createElement("div").style,"AnimationEvent"in window||(delete fa.animationend.animation,delete fa.animationiteration.animation,delete fa.animationstart.animation),"TransitionEvent"in window||delete fa.transitionend.transition);function ys(t){if(jh[t])return jh[t];if(!fa[t])return t;var i=fa[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Ap)return jh[t]=i[a];return t}var Sp=ys("animationend"),wp=ys("animationiteration"),bp=ys("animationstart"),Q0=ys("transitionrun"),Y0=ys("transitionstart"),$0=ys("transitioncancel"),Rp=ys("transitionend"),Cp=new Map,Ip="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function kn(t,i){Cp.set(t,i),on(i,[t])}var An=[],da=0,Fh=0;function wu(){for(var t=da,i=Fh=da=0;i<t;){var a=An[i];An[i++]=null;var l=An[i];An[i++]=null;var h=An[i];An[i++]=null;var d=An[i];if(An[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&Dp(a,h,d)}}function bu(t,i,a,l){An[da++]=t,An[da++]=i,An[da++]=a,An[da++]=l,Fh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Gh(t,i,a,l){return bu(t,i,a,l),Ru(t)}function gr(t,i){return bu(t,null,null,i),Ru(t)}function Dp(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;h&&i!==null&&t.tag===3&&(d=t.stateNode,h=31-Wt(a),d=d.hiddenUpdates,t=d[h],t===null?d[h]=[i]:t.push(i),i.lane=a|536870912)}function Ru(t){if(50<rl)throw rl=0,Zf=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var ma={},Op=new WeakMap;function Sn(t,i){if(typeof t=="object"&&t!==null){var a=Op.get(t);return a!==void 0?a:(i={value:t,source:i,stack:_e(i)},Op.set(t,i),i)}return{value:t,source:i,stack:_e(i)}}var pa=[],ga=0,Cu=null,Iu=0,wn=[],bn=0,_s=null,Ci=1,Ii="";function vs(t,i){pa[ga++]=Iu,pa[ga++]=Cu,Cu=t,Iu=i}function Np(t,i,a){wn[bn++]=Ci,wn[bn++]=Ii,wn[bn++]=_s,_s=t;var l=Ci;t=Ii;var h=32-Wt(l)-1;l&=~(1<<h),a+=1;var d=32-Wt(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Ci=1<<32-Wt(i)+h|a<<h|l,Ii=d+t}else Ci=1<<d|a<<h|l,Ii=t}function Kh(t){t.return!==null&&(vs(t,1),Np(t,1,0))}function Qh(t){for(;t===Cu;)Cu=pa[--ga],pa[ga]=null,Iu=pa[--ga],pa[ga]=null;for(;t===_s;)_s=wn[--bn],wn[bn]=null,Ii=wn[--bn],wn[bn]=null,Ci=wn[--bn],wn[bn]=null}var en=null,xt=null,Be=!1,Ln=null,ei=!1,Yh=Error(s(519));function Es(t){var i=Error(s(418,""));throw Lo(Sn(i,t)),Yh}function Mp(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Dt]=t,i[vt]=l,a){case"dialog":Me("cancel",i),Me("close",i);break;case"iframe":case"object":case"embed":Me("load",i);break;case"video":case"audio":for(a=0;a<al.length;a++)Me(al[a],i);break;case"source":Me("error",i);break;case"img":case"image":case"link":Me("error",i),Me("load",i);break;case"details":Me("toggle",i);break;case"input":Me("invalid",i),os(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),as(i);break;case"select":Me("invalid",i);break;case"textarea":Me("invalid",i),mr(i,l.value,l.defaultValue,l.children),as(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||Hy(i.textContent,a)?(l.popover!=null&&(Me("beforetoggle",i),Me("toggle",i)),l.onScroll!=null&&Me("scroll",i),l.onScrollEnd!=null&&Me("scrollend",i),l.onClick!=null&&(i.onclick=ac),i=!0):i=!1,i||Es(t)}function Vp(t){for(en=t.return;en;)switch(en.tag){case 3:case 27:ei=!0;return;case 5:case 13:ei=!1;return;default:en=en.return}}function Po(t){if(t!==en)return!1;if(!Be)return Vp(t),Be=!0,!1;var i=!1,a;if((a=t.tag!==3&&t.tag!==27)&&((a=t.tag===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||pd(t.type,t.memoizedProps)),a=!a),a&&(i=!0),i&&xt&&Es(t),Vp(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){xt=Un(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}xt=null}}else xt=en?Un(t.stateNode.nextSibling):null;return!0}function ko(){xt=en=null,Be=!1}function Lo(t){Ln===null?Ln=[t]:Ln.push(t)}var xo=Error(s(460)),Pp=Error(s(474)),$h={then:function(){}};function kp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Du(){}function Lp(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Du,Du),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,t===xo?Error(s(483)):t;default:if(typeof i.status=="string")i.then(Du,Du);else{if(t=$e,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,t===xo?Error(s(483)):t}throw Uo=i,xo}}var Uo=null;function xp(){if(Uo===null)throw Error(s(459));var t=Uo;return Uo=null,t}var ya=null,zo=0;function Ou(t){var i=zo;return zo+=1,ya===null&&(ya=[]),Lp(ya,t,i)}function Bo(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Nu(t,i){throw i.$$typeof===u?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Up(t){var i=t._init;return i(t._payload)}function zp(t){function i(k,N){if(t){var B=k.deletions;B===null?(k.deletions=[N],k.flags|=16):B.push(N)}}function a(k,N){if(!t)return null;for(;N!==null;)i(k,N),N=N.sibling;return null}function l(k){for(var N=new Map;k!==null;)k.key!==null?N.set(k.key,k):N.set(k.index,k),k=k.sibling;return N}function h(k,N){return k=Ir(k,N),k.index=0,k.sibling=null,k}function d(k,N,B){return k.index=B,t?(B=k.alternate,B!==null?(B=B.index,B<N?(k.flags|=33554434,N):B):(k.flags|=33554434,N)):(k.flags|=1048576,N)}function v(k){return t&&k.alternate===null&&(k.flags|=33554434),k}function T(k,N,B,$){return N===null||N.tag!==6?(N=Ff(B,k.mode,$),N.return=k,N):(N=h(N,B),N.return=k,N)}function R(k,N,B,$){var oe=B.type;return oe===p?G(k,N,B.props.children,$,B.key):N!==null&&(N.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===Z&&Up(oe)===N.type)?(N=h(N,B.props),Bo(N,B),N.return=k,N):(N=$u(B.type,B.key,B.props,null,k.mode,$),Bo(N,B),N.return=k,N)}function P(k,N,B,$){return N===null||N.tag!==4||N.stateNode.containerInfo!==B.containerInfo||N.stateNode.implementation!==B.implementation?(N=Gf(B,k.mode,$),N.return=k,N):(N=h(N,B.children||[]),N.return=k,N)}function G(k,N,B,$,oe){return N===null||N.tag!==7?(N=Os(B,k.mode,$,oe),N.return=k,N):(N=h(N,B),N.return=k,N)}function W(k,N,B){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Ff(""+N,k.mode,B),N.return=k,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case f:return B=$u(N.type,N.key,N.props,null,k.mode,B),Bo(B,N),B.return=k,B;case m:return N=Gf(N,k.mode,B),N.return=k,N;case Z:var $=N._init;return N=$(N._payload),W(k,N,B)}if(re(N)||Se(N))return N=Os(N,k.mode,B,null),N.return=k,N;if(typeof N.then=="function")return W(k,Ou(N),B);if(N.$$typeof===L)return W(k,Ku(k,N),B);Nu(k,N)}return null}function H(k,N,B,$){var oe=N!==null?N.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return oe!==null?null:T(k,N,""+B,$);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case f:return B.key===oe?R(k,N,B,$):null;case m:return B.key===oe?P(k,N,B,$):null;case Z:return oe=B._init,B=oe(B._payload),H(k,N,B,$)}if(re(B)||Se(B))return oe!==null?null:G(k,N,B,$,null);if(typeof B.then=="function")return H(k,N,Ou(B),$);if(B.$$typeof===L)return H(k,N,Ku(k,B),$);Nu(k,B)}return null}function F(k,N,B,$,oe){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return k=k.get(B)||null,T(N,k,""+$,oe);if(typeof $=="object"&&$!==null){switch($.$$typeof){case f:return k=k.get($.key===null?B:$.key)||null,R(N,k,$,oe);case m:return k=k.get($.key===null?B:$.key)||null,P(N,k,$,oe);case Z:var Ie=$._init;return $=Ie($._payload),F(k,N,B,$,oe)}if(re($)||Se($))return k=k.get(B)||null,G(N,k,$,oe,null);if(typeof $.then=="function")return F(k,N,B,Ou($),oe);if($.$$typeof===L)return F(k,N,B,Ku(N,$),oe);Nu(N,$)}return null}function ue(k,N,B,$){for(var oe=null,Ie=null,he=N,ge=N=0,Pt=null;he!==null&&ge<B.length;ge++){he.index>ge?(Pt=he,he=null):Pt=he.sibling;var He=H(k,he,B[ge],$);if(He===null){he===null&&(he=Pt);break}t&&he&&He.alternate===null&&i(k,he),N=d(He,N,ge),Ie===null?oe=He:Ie.sibling=He,Ie=He,he=Pt}if(ge===B.length)return a(k,he),Be&&vs(k,ge),oe;if(he===null){for(;ge<B.length;ge++)he=W(k,B[ge],$),he!==null&&(N=d(he,N,ge),Ie===null?oe=he:Ie.sibling=he,Ie=he);return Be&&vs(k,ge),oe}for(he=l(he);ge<B.length;ge++)Pt=F(he,k,ge,B[ge],$),Pt!==null&&(t&&Pt.alternate!==null&&he.delete(Pt.key===null?ge:Pt.key),N=d(Pt,N,ge),Ie===null?oe=Pt:Ie.sibling=Pt,Ie=Pt);return t&&he.forEach(function(kr){return i(k,kr)}),Be&&vs(k,ge),oe}function Te(k,N,B,$){if(B==null)throw Error(s(151));for(var oe=null,Ie=null,he=N,ge=N=0,Pt=null,He=B.next();he!==null&&!He.done;ge++,He=B.next()){he.index>ge?(Pt=he,he=null):Pt=he.sibling;var kr=H(k,he,He.value,$);if(kr===null){he===null&&(he=Pt);break}t&&he&&kr.alternate===null&&i(k,he),N=d(kr,N,ge),Ie===null?oe=kr:Ie.sibling=kr,Ie=kr,he=Pt}if(He.done)return a(k,he),Be&&vs(k,ge),oe;if(he===null){for(;!He.done;ge++,He=B.next())He=W(k,He.value,$),He!==null&&(N=d(He,N,ge),Ie===null?oe=He:Ie.sibling=He,Ie=He);return Be&&vs(k,ge),oe}for(he=l(he);!He.done;ge++,He=B.next())He=F(he,k,ge,He.value,$),He!==null&&(t&&He.alternate!==null&&he.delete(He.key===null?ge:He.key),N=d(He,N,ge),Ie===null?oe=He:Ie.sibling=He,Ie=He);return t&&he.forEach(function(uS){return i(k,uS)}),Be&&vs(k,ge),oe}function ot(k,N,B,$){if(typeof B=="object"&&B!==null&&B.type===p&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case f:e:{for(var oe=B.key;N!==null;){if(N.key===oe){if(oe=B.type,oe===p){if(N.tag===7){a(k,N.sibling),$=h(N,B.props.children),$.return=k,k=$;break e}}else if(N.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===Z&&Up(oe)===N.type){a(k,N.sibling),$=h(N,B.props),Bo($,B),$.return=k,k=$;break e}a(k,N);break}else i(k,N);N=N.sibling}B.type===p?($=Os(B.props.children,k.mode,$,B.key),$.return=k,k=$):($=$u(B.type,B.key,B.props,null,k.mode,$),Bo($,B),$.return=k,k=$)}return v(k);case m:e:{for(oe=B.key;N!==null;){if(N.key===oe)if(N.tag===4&&N.stateNode.containerInfo===B.containerInfo&&N.stateNode.implementation===B.implementation){a(k,N.sibling),$=h(N,B.children||[]),$.return=k,k=$;break e}else{a(k,N);break}else i(k,N);N=N.sibling}$=Gf(B,k.mode,$),$.return=k,k=$}return v(k);case Z:return oe=B._init,B=oe(B._payload),ot(k,N,B,$)}if(re(B))return ue(k,N,B,$);if(Se(B)){if(oe=Se(B),typeof oe!="function")throw Error(s(150));return B=oe.call(B),Te(k,N,B,$)}if(typeof B.then=="function")return ot(k,N,Ou(B),$);if(B.$$typeof===L)return ot(k,N,Ku(k,B),$);Nu(k,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,N!==null&&N.tag===6?(a(k,N.sibling),$=h(N,B),$.return=k,k=$):(a(k,N),$=Ff(B,k.mode,$),$.return=k,k=$),v(k)):a(k,N)}return function(k,N,B,$){try{zo=0;var oe=ot(k,N,B,$);return ya=null,oe}catch(he){if(he===xo)throw he;var Ie=Dn(29,he,null,k.mode);return Ie.lanes=$,Ie.return=k,Ie}finally{}}}var Ts=zp(!0),Bp=zp(!1),_a=Ue(null),Mu=Ue(0);function Hp(t,i){t=zi,Ge(Mu,t),Ge(_a,i),zi=t|i.baseLanes}function Xh(){Ge(Mu,zi),Ge(_a,_a.current)}function Wh(){zi=Mu.current,it(_a),it(Mu)}var Rn=Ue(null),ti=null;function yr(t){var i=t.alternate;Ge(At,At.current&1),Ge(Rn,t),ti===null&&(i===null||_a.current!==null||i.memoizedState!==null)&&(ti=t)}function qp(t){if(t.tag===22){if(Ge(At,At.current),Ge(Rn,t),ti===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(ti=t)}}else _r()}function _r(){Ge(At,At.current),Ge(Rn,Rn.current)}function Di(t){it(Rn),ti===t&&(ti=null),it(At)}var At=Ue(0);function Vu(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var X0=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},W0=r.unstable_scheduleCallback,Z0=r.unstable_NormalPriority,St={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zh(){return{controller:new X0,data:new Map,refCount:0}}function Ho(t){t.refCount--,t.refCount===0&&W0(Z0,function(){t.controller.abort()})}var qo=null,Jh=0,va=0,Ea=null;function J0(t,i){if(qo===null){var a=qo=[];Jh=0,va=ad(),Ea={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Jh++,i.then(jp,jp),i}function jp(){if(--Jh===0&&qo!==null){Ea!==null&&(Ea.status="fulfilled");var t=qo;qo=null,va=0,Ea=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function eA(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Fp=S.S;S.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&J0(t,i),Fp!==null&&Fp(t,i)};var As=Ue(null);function ef(){var t=As.current;return t!==null?t:$e.pooledCache}function Pu(t,i){i===null?Ge(As,As.current):Ge(As,i.pool)}function Gp(){var t=ef();return t===null?null:{parent:St._currentValue,pool:t}}var vr=0,Ce=null,Ke=null,dt=null,ku=!1,Ta=!1,Ss=!1,Lu=0,jo=0,Aa=null,tA=0;function ut(){throw Error(s(321))}function tf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!un(t[a],i[a]))return!1;return!0}function nf(t,i,a,l,h,d){return vr=d,Ce=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,S.H=t===null||t.memoizedState===null?ws:Er,Ss=!1,d=a(l,h),Ss=!1,Ta&&(d=Qp(i,a,l,h)),Kp(t),d}function Kp(t){S.H=ni;var i=Ke!==null&&Ke.next!==null;if(vr=0,dt=Ke=Ce=null,ku=!1,jo=0,Aa=null,i)throw Error(s(300));t===null||Mt||(t=t.dependencies,t!==null&&Gu(t)&&(Mt=!0))}function Qp(t,i,a,l){Ce=t;var h=0;do{if(Ta&&(Aa=null),jo=0,Ta=!1,25<=h)throw Error(s(301));if(h+=1,dt=Ke=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}S.H=bs,d=i(a,l)}while(Ta);return d}function nA(){var t=S.H,i=t.useState()[0];return i=typeof i.then=="function"?Fo(i):i,t=t.useState()[0],(Ke!==null?Ke.memoizedState:null)!==t&&(Ce.flags|=1024),i}function rf(){var t=Lu!==0;return Lu=0,t}function sf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function af(t){if(ku){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}ku=!1}vr=0,dt=Ke=Ce=null,Ta=!1,jo=Lu=0,Aa=null}function sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?Ce.memoizedState=dt=t:dt=dt.next=t,dt}function mt(){if(Ke===null){var t=Ce.alternate;t=t!==null?t.memoizedState:null}else t=Ke.next;var i=dt===null?Ce.memoizedState:dt.next;if(i!==null)dt=i,Ke=t;else{if(t===null)throw Ce.alternate===null?Error(s(467)):Error(s(310));Ke=t,t={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},dt===null?Ce.memoizedState=dt=t:dt=dt.next=t}return dt}var xu;xu=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Fo(t){var i=jo;return jo+=1,Aa===null&&(Aa=[]),t=Lp(Aa,t,i),i=Ce,(dt===null?i.memoizedState:dt.next)===null&&(i=i.alternate,S.H=i===null||i.memoizedState===null?ws:Er),t}function Uu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Fo(t);if(t.$$typeof===L)return Ft(t)}throw Error(s(438,String(t)))}function of(t){var i=null,a=Ce.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ce.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=xu(),Ce.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=pe;return i.index++,a}function Oi(t,i){return typeof i=="function"?i(t):i}function zu(t){var i=mt();return lf(i,Ke,t)}function lf(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var T=v=null,R=null,P=i,G=!1;do{var W=P.lane&-536870913;if(W!==P.lane?(Le&W)===W:(vr&W)===W){var H=P.revertLane;if(H===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),W===va&&(G=!0);else if((vr&H)===H){P=P.next,H===va&&(G=!0);continue}else W={lane:0,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(T=R=W,v=d):R=R.next=W,Ce.lanes|=H,Dr|=H;W=P.action,Ss&&a(d,W),d=P.hasEagerState?P.eagerState:a(d,W)}else H={lane:W,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(T=R=H,v=d):R=R.next=H,Ce.lanes|=W,Dr|=W;P=P.next}while(P!==null&&P!==i);if(R===null?v=d:R.next=T,!un(d,t.memoizedState)&&(Mt=!0,G&&(a=Ea,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=R,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function uf(t){var i=mt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);un(d,i.memoizedState)||(Mt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Yp(t,i,a){var l=Ce,h=mt(),d=Be;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!un((Ke||h).memoizedState,a);if(v&&(h.memoizedState=a,Mt=!0),h=h.queue,ff(Wp.bind(null,l,h,t),[t]),h.getSnapshot!==i||v||dt!==null&&dt.memoizedState.tag&1){if(l.flags|=2048,Sa(9,Xp.bind(null,l,h,a,i),{destroy:void 0},null),$e===null)throw Error(s(349));d||(vr&60)!==0||$p(l,i,a)}return a}function $p(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ce.updateQueue,i===null?(i=xu(),Ce.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Xp(t,i,a,l){i.value=a,i.getSnapshot=l,Zp(i)&&Jp(t)}function Wp(t,i,a){return a(function(){Zp(i)&&Jp(t)})}function Zp(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!un(t,a)}catch{return!0}}function Jp(t){var i=gr(t,2);i!==null&&tn(i,t,2)}function cf(t){var i=sn();if(typeof t=="function"){var a=t;if(t=a(),Ss){jn(!0);try{a()}finally{jn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:t},i}function eg(t,i,a,l){return t.baseState=a,lf(t,Ke,typeof l=="function"?l:Oi)}function iA(t,i,a,l,h){if(qu(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};S.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,tg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function tg(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=S.T,v={};S.T=v;try{var T=a(h,l),R=S.S;R!==null&&R(v,T),ng(t,i,T)}catch(P){hf(t,i,P)}finally{S.T=d}}else try{d=a(h,l),ng(t,i,d)}catch(P){hf(t,i,P)}}function ng(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){ig(t,i,l)},function(l){return hf(t,i,l)}):ig(t,i,a)}function ig(t,i,a){i.status="fulfilled",i.value=a,rg(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,tg(t,a)))}function hf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,rg(i),i=i.next;while(i!==l)}t.action=null}function rg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function sg(t,i){return i}function ag(t,i){if(Be){var a=$e.formState;if(a!==null){e:{var l=Ce;if(Be){if(xt){t:{for(var h=xt,d=ei;h.nodeType!==8;){if(!d){h=null;break t}if(h=Un(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){xt=Un(h.nextSibling),l=h.data==="F!";break e}}Es(l)}l=!1}l&&(i=a[0])}}return a=sn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sg,lastRenderedState:i},a.queue=l,a=wg.bind(null,Ce,l),l.dispatch=a,l=cf(!1),d=yf.bind(null,Ce,!1,l.queue),l=sn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=iA.bind(null,Ce,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function og(t){var i=mt();return lg(i,Ke,t)}function lg(t,i,a){i=lf(t,i,sg)[0],t=zu(Oi)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?Fo(i):i;var l=mt(),h=l.queue,d=h.dispatch;return a!==l.memoizedState&&(Ce.flags|=2048,Sa(9,rA.bind(null,h,a),{destroy:void 0},null)),[i,d,t]}function rA(t,i){t.action=i}function ug(t){var i=mt(),a=Ke;if(a!==null)return lg(i,a,t);mt(),i=i.memoizedState,a=mt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Sa(t,i,a,l){return t={tag:t,create:i,inst:a,deps:l,next:null},i=Ce.updateQueue,i===null&&(i=xu(),Ce.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function cg(){return mt().memoizedState}function Bu(t,i,a,l){var h=sn();Ce.flags|=t,h.memoizedState=Sa(1|i,a,{destroy:void 0},l===void 0?null:l)}function Hu(t,i,a,l){var h=mt();l=l===void 0?null:l;var d=h.memoizedState.inst;Ke!==null&&l!==null&&tf(l,Ke.memoizedState.deps)?h.memoizedState=Sa(i,a,d,l):(Ce.flags|=t,h.memoizedState=Sa(1|i,a,d,l))}function hg(t,i){Bu(8390656,8,t,i)}function ff(t,i){Hu(2048,8,t,i)}function fg(t,i){return Hu(4,2,t,i)}function dg(t,i){return Hu(4,4,t,i)}function mg(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function pg(t,i,a){a=a!=null?a.concat([t]):null,Hu(4,4,mg.bind(null,i,t),a)}function df(){}function gg(t,i){var a=mt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&tf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function yg(t,i){var a=mt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&tf(i,l[1]))return l[0];if(l=t(),Ss){jn(!0);try{t()}finally{jn(!1)}}return a.memoizedState=[l,i],l}function mf(t,i,a){return a===void 0||(vr&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=vy(),Ce.lanes|=t,Dr|=t,a)}function _g(t,i,a,l){return un(a,i)?a:_a.current!==null?(t=mf(t,a,l),un(t,i)||(Mt=!0),t):(vr&42)===0?(Mt=!0,t.memoizedState=a):(t=vy(),Ce.lanes|=t,Dr|=t,i)}function vg(t,i,a,l,h){var d=se.p;se.p=d!==0&&8>d?d:8;var v=S.T,T={};S.T=T,yf(t,!1,i,a);try{var R=h(),P=S.S;if(P!==null&&P(T,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var G=eA(R,l);Go(t,i,G,dn(t))}else Go(t,i,l,dn(t))}catch(W){Go(t,i,{then:function(){},status:"rejected",reason:W},dn())}finally{se.p=d,S.T=v}}function sA(){}function pf(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=Eg(t).queue;vg(t,h,i,Re,a===null?sA:function(){return Tg(t),a(l)})}function Eg(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:Re,baseState:Re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:Re},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Tg(t){var i=Eg(t).next.queue;Go(t,i,{},dn())}function gf(){return Ft(hl)}function Ag(){return mt().memoizedState}function Sg(){return mt().memoizedState}function aA(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=dn();t=Sr(a);var l=wr(i,t,a);l!==null&&(tn(l,i,a),Yo(l,i,a)),i={cache:Zh()},t.payload=i;return}i=i.return}}function oA(t,i,a){var l=dn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},qu(t)?bg(i,a):(a=Gh(t,i,a,l),a!==null&&(tn(a,t,l),Rg(a,i,l)))}function wg(t,i,a){var l=dn();Go(t,i,a,l)}function Go(t,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(qu(t))bg(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,T=d(v,a);if(h.hasEagerState=!0,h.eagerState=T,un(T,v))return bu(t,i,h,0),$e===null&&wu(),!1}catch{}finally{}if(a=Gh(t,i,h,l),a!==null)return tn(a,t,l),Rg(a,i,l),!0}return!1}function yf(t,i,a,l){if(l={lane:2,revertLane:ad(),action:l,hasEagerState:!1,eagerState:null,next:null},qu(t)){if(i)throw Error(s(479))}else i=Gh(t,a,l,2),i!==null&&tn(i,t,2)}function qu(t){var i=t.alternate;return t===Ce||i!==null&&i===Ce}function bg(t,i){Ta=ku=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Rg(t,i,a){if((a&4194176)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,ar(t,a)}}var ni={readContext:Ft,use:Uu,useCallback:ut,useContext:ut,useEffect:ut,useImperativeHandle:ut,useLayoutEffect:ut,useInsertionEffect:ut,useMemo:ut,useReducer:ut,useRef:ut,useState:ut,useDebugValue:ut,useDeferredValue:ut,useTransition:ut,useSyncExternalStore:ut,useId:ut};ni.useCacheRefresh=ut,ni.useMemoCache=ut,ni.useHostTransitionStatus=ut,ni.useFormState=ut,ni.useActionState=ut,ni.useOptimistic=ut;var ws={readContext:Ft,use:Uu,useCallback:function(t,i){return sn().memoizedState=[t,i===void 0?null:i],t},useContext:Ft,useEffect:hg,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Bu(4194308,4,mg.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Bu(4194308,4,t,i)},useInsertionEffect:function(t,i){Bu(4,2,t,i)},useMemo:function(t,i){var a=sn();i=i===void 0?null:i;var l=t();if(Ss){jn(!0);try{t()}finally{jn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=sn();if(a!==void 0){var h=a(i);if(Ss){jn(!0);try{a(i)}finally{jn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=oA.bind(null,Ce,t),[l.memoizedState,t]},useRef:function(t){var i=sn();return t={current:t},i.memoizedState=t},useState:function(t){t=cf(t);var i=t.queue,a=wg.bind(null,Ce,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:df,useDeferredValue:function(t,i){var a=sn();return mf(a,t,i)},useTransition:function(){var t=cf(!1);return t=vg.bind(null,Ce,t.queue,!0,!1),sn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ce,h=sn();if(Be){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),$e===null)throw Error(s(349));(Le&60)!==0||$p(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,hg(Wp.bind(null,l,d,t),[t]),l.flags|=2048,Sa(9,Xp.bind(null,l,d,a,i),{destroy:void 0},null),a},useId:function(){var t=sn(),i=$e.identifierPrefix;if(Be){var a=Ii,l=Ci;a=(l&~(1<<32-Wt(l)-1)).toString(32)+a,i=":"+i+"R"+a,a=Lu++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=tA++,i=":"+i+"r"+a.toString(32)+":";return t.memoizedState=i},useCacheRefresh:function(){return sn().memoizedState=aA.bind(null,Ce)}};ws.useMemoCache=of,ws.useHostTransitionStatus=gf,ws.useFormState=ag,ws.useActionState=ag,ws.useOptimistic=function(t){var i=sn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=yf.bind(null,Ce,!0,a),a.dispatch=i,[t,i]};var Er={readContext:Ft,use:Uu,useCallback:gg,useContext:Ft,useEffect:ff,useImperativeHandle:pg,useInsertionEffect:fg,useLayoutEffect:dg,useMemo:yg,useReducer:zu,useRef:cg,useState:function(){return zu(Oi)},useDebugValue:df,useDeferredValue:function(t,i){var a=mt();return _g(a,Ke.memoizedState,t,i)},useTransition:function(){var t=zu(Oi)[0],i=mt().memoizedState;return[typeof t=="boolean"?t:Fo(t),i]},useSyncExternalStore:Yp,useId:Ag};Er.useCacheRefresh=Sg,Er.useMemoCache=of,Er.useHostTransitionStatus=gf,Er.useFormState=og,Er.useActionState=og,Er.useOptimistic=function(t,i){var a=mt();return eg(a,Ke,t,i)};var bs={readContext:Ft,use:Uu,useCallback:gg,useContext:Ft,useEffect:ff,useImperativeHandle:pg,useInsertionEffect:fg,useLayoutEffect:dg,useMemo:yg,useReducer:uf,useRef:cg,useState:function(){return uf(Oi)},useDebugValue:df,useDeferredValue:function(t,i){var a=mt();return Ke===null?mf(a,t,i):_g(a,Ke.memoizedState,t,i)},useTransition:function(){var t=uf(Oi)[0],i=mt().memoizedState;return[typeof t=="boolean"?t:Fo(t),i]},useSyncExternalStore:Yp,useId:Ag};bs.useCacheRefresh=Sg,bs.useMemoCache=of,bs.useHostTransitionStatus=gf,bs.useFormState=ug,bs.useActionState=ug,bs.useOptimistic=function(t,i){var a=mt();return Ke!==null?eg(a,Ke,t,i):(a.baseState=t,[t,a.queue.dispatch])};function _f(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:C({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var vf={isMounted:function(t){return(t=t._reactInternals)?fe(t)===t:!1},enqueueSetState:function(t,i,a){t=t._reactInternals;var l=dn(),h=Sr(l);h.payload=i,a!=null&&(h.callback=a),i=wr(t,h,l),i!==null&&(tn(i,t,l),Yo(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=dn(),h=Sr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=wr(t,h,l),i!==null&&(tn(i,t,l),Yo(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=dn(),l=Sr(a);l.tag=2,i!=null&&(l.callback=i),i=wr(t,l,a),i!==null&&(tn(i,t,a),Yo(i,t,a))}};function Cg(t,i,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!Mo(a,l)||!Mo(h,d):!0}function Ig(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&vf.enqueueReplaceState(i,i.state,null)}function Rs(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=C({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var ju=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Dg(t){ju(t)}function Og(t){console.error(t)}function Ng(t){ju(t)}function Fu(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Mg(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Ef(t,i,a){return a=Sr(a),a.tag=3,a.payload={element:null},a.callback=function(){Fu(t,i)},a}function Vg(t){return t=Sr(t),t.tag=3,t}function Pg(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Mg(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Mg(i,a,l),typeof h!="function"&&(Or===null?Or=new Set([this]):Or.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function lA(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Qo(i,a,h,!0),a=Rn.current,a!==null){switch(a.tag){case 13:return ti===null?td():a.alternate===null&&at===0&&(at=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===$h?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),id(t,l,h)),!1;case 22:return a.flags|=65536,l===$h?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),id(t,l,h)),!1}throw Error(s(435,a.tag))}return id(t,l,h),td(),!1}if(Be)return i=Rn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Yh&&(t=Error(s(422),{cause:l}),Lo(Sn(t,a)))):(l!==Yh&&(i=Error(s(423),{cause:l}),Lo(Sn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Sn(l,a),h=Ef(t.stateNode,l,h),kf(t,h),at!==4&&(at=2)),!1;var d=Error(s(520),{cause:l});if(d=Sn(d,a),nl===null?nl=[d]:nl.push(d),at!==4&&(at=2),i===null)return!0;l=Sn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Ef(a.stateNode,l,t),kf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Or===null||!Or.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Vg(h),Pg(h,t,a,l),kf(a,h),!1}a=a.return}while(a!==null);return!1}var kg=Error(s(461)),Mt=!1;function Ut(t,i,a,l){i.child=t===null?Bp(i,null,a,l):Ts(i,t.child,a,l)}function Lg(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return Is(i),l=nf(t,i,a,v,d,h),T=rf(),t!==null&&!Mt?(sf(t,i,h),Ni(t,i,h)):(Be&&T&&Kh(i),i.flags|=1,Ut(t,i,l,h),i.child)}function xg(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!jf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Ug(t,i,d,l,h)):(t=$u(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Df(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Mo,a(v,l)&&t.ref===i.ref)return Ni(t,i,h)}return i.flags|=1,t=Ir(d,l),t.ref=i.ref,t.return=i,i.child=t}function Ug(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(Mo(d,l)&&t.ref===i.ref)if(Mt=!1,i.pendingProps=l=d,Df(t,h))(t.flags&131072)!==0&&(Mt=!0);else return i.lanes=t.lanes,Ni(t,i,h)}return Tf(t,i,a,l,h)}function zg(t,i,a){var l=i.pendingProps,h=l.children,d=(i.stateNode._pendingVisibility&2)!==0,v=t!==null?t.memoizedState:null;if(Ko(t,i),l.mode==="hidden"||d){if((i.flags&128)!==0){if(l=v!==null?v.baseLanes|a:a,t!==null){for(h=i.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return Bg(t,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Pu(i,v!==null?v.cachePool:null),v!==null?Hp(i,v):Xh(),qp(i);else return i.lanes=i.childLanes=536870912,Bg(t,i,v!==null?v.baseLanes|a:a,a)}else v!==null?(Pu(i,v.cachePool),Hp(i,v),_r(),i.memoizedState=null):(t!==null&&Pu(i,null),Xh(),_r());return Ut(t,i,h,a),i.child}function Bg(t,i,a,l){var h=ef();return h=h===null?null:{parent:St._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},t!==null&&Pu(i,null),Xh(),qp(i),t!==null&&Qo(t,i,l,!0),null}function Ko(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=2097664)}}function Tf(t,i,a,l,h){return Is(i),a=nf(t,i,a,l,void 0,h),l=rf(),t!==null&&!Mt?(sf(t,i,h),Ni(t,i,h)):(Be&&l&&Kh(i),i.flags|=1,Ut(t,i,a,h),i.child)}function Hg(t,i,a,l,h,d){return Is(i),i.updateQueue=null,a=Qp(i,l,a,h),Kp(t),l=rf(),t!==null&&!Mt?(sf(t,i,d),Ni(t,i,d)):(Be&&l&&Kh(i),i.flags|=1,Ut(t,i,a,d),i.child)}function qg(t,i,a,l,h){if(Is(i),i.stateNode===null){var d=ma,v=a.contextType;typeof v=="object"&&v!==null&&(d=Ft(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=vf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Vf(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?Ft(v):ma,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(_f(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&vf.enqueueReplaceState(d,d.state,null),Xo(i,l,d,h),$o(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var T=i.memoizedProps,R=Rs(a,T);d.props=R;var P=d.context,G=a.contextType;v=ma,typeof G=="object"&&G!==null&&(v=Ft(G));var W=a.getDerivedStateFromProps;G=typeof W=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,G||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||P!==v)&&Ig(i,d,l,v),Ar=!1;var H=i.memoizedState;d.state=H,Xo(i,l,d,h),$o(),P=i.memoizedState,T||H!==P||Ar?(typeof W=="function"&&(_f(i,a,W,l),P=i.memoizedState),(R=Ar||Cg(i,a,R,l,H,P,v))?(G||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=P),d.props=l,d.state=P,d.context=v,l=R):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Pf(t,i),v=i.memoizedProps,G=Rs(a,v),d.props=G,W=i.pendingProps,H=d.context,P=a.contextType,R=ma,typeof P=="object"&&P!==null&&(R=Ft(P)),T=a.getDerivedStateFromProps,(P=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==W||H!==R)&&Ig(i,d,l,R),Ar=!1,H=i.memoizedState,d.state=H,Xo(i,l,d,h),$o();var F=i.memoizedState;v!==W||H!==F||Ar||t!==null&&t.dependencies!==null&&Gu(t.dependencies)?(typeof T=="function"&&(_f(i,a,T,l),F=i.memoizedState),(G=Ar||Cg(i,a,G,l,H,F,R)||t!==null&&t.dependencies!==null&&Gu(t.dependencies))?(P||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,F,R),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,F,R)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=F),d.props=l,d.state=F,d.context=R,l=G):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,Ko(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Ts(i,t.child,null,h),i.child=Ts(i,null,a,h)):Ut(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Ni(t,i,h),t}function jg(t,i,a,l){return ko(),i.flags|=256,Ut(t,i,a,l),i.child}var Af={dehydrated:null,treeContext:null,retryLane:0};function Sf(t){return{baseLanes:t,cachePool:Gp()}}function wf(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=On),t}function Fg(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(At.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(Be){if(h?yr(i):_r(),Be){var T=xt,R;if(R=T){e:{for(R=T,T=ei;R.nodeType!==8;){if(!T){T=null;break e}if(R=Un(R.nextSibling),R===null){T=null;break e}}T=R}T!==null?(i.memoizedState={dehydrated:T,treeContext:_s!==null?{id:Ci,overflow:Ii}:null,retryLane:536870912},R=Dn(18,null,null,0),R.stateNode=T,R.return=i,i.child=R,en=i,xt=null,R=!0):R=!1}R||Es(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return T.data==="$!"?i.lanes=16:i.lanes=536870912,null;Di(i)}return T=l.children,l=l.fallback,h?(_r(),h=i.mode,T=Rf({mode:"hidden",children:T},h),l=Os(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,h=i.child,h.memoizedState=Sf(a),h.childLanes=wf(t,v,a),i.memoizedState=Af,l):(yr(i),bf(i,T))}if(R=t.memoizedState,R!==null&&(T=R.dehydrated,T!==null)){if(d)i.flags&256?(yr(i),i.flags&=-257,i=Cf(t,i,a)):i.memoizedState!==null?(_r(),i.child=t.child,i.flags|=128,i=null):(_r(),h=l.fallback,T=i.mode,l=Rf({mode:"visible",children:l.children},T),h=Os(h,T,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,Ts(i,t.child,null,a),l=i.child,l.memoizedState=Sf(a),l.childLanes=wf(t,v,a),i.memoizedState=Af,i=h);else if(yr(i),T.data==="$!"){if(v=T.nextSibling&&T.nextSibling.dataset,v)var P=v.dgst;v=P,l=Error(s(419)),l.stack="",l.digest=v,Lo({value:l,source:null,stack:null}),i=Cf(t,i,a)}else if(Mt||Qo(t,i,a,!1),v=(a&t.childLanes)!==0,Mt||v){if(v=$e,v!==null){if(l=a&-a,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==R.retryLane)throw R.retryLane=l,gr(t,l),tn(v,t,l),kg}T.data==="$?"||td(),i=Cf(t,i,a)}else T.data==="$?"?(i.flags|=128,i.child=t.child,i=SA.bind(null,t),T._reactRetry=i,i=null):(t=R.treeContext,xt=Un(T.nextSibling),en=i,Be=!0,Ln=null,ei=!1,t!==null&&(wn[bn++]=Ci,wn[bn++]=Ii,wn[bn++]=_s,Ci=t.id,Ii=t.overflow,_s=i),i=bf(i,l.children),i.flags|=4096);return i}return h?(_r(),h=l.fallback,T=i.mode,R=t.child,P=R.sibling,l=Ir(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&31457280,P!==null?h=Ir(P,h):(h=Os(h,T,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,T=t.child.memoizedState,T===null?T=Sf(a):(R=T.cachePool,R!==null?(P=St._currentValue,R=R.parent!==P?{parent:P,pool:P}:R):R=Gp(),T={baseLanes:T.baseLanes|a,cachePool:R}),h.memoizedState=T,h.childLanes=wf(t,v,a),i.memoizedState=Af,l):(yr(i),a=t.child,t=a.sibling,a=Ir(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function bf(t,i){return i=Rf({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Rf(t,i){return gy(t,i,0,null)}function Cf(t,i,a){return Ts(i,t.child,null,a),t=bf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Gg(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Nf(t.return,i,a)}function If(t,i,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function Kg(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(Ut(t,i,l.children,a),l=At.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Gg(t,a,i);else if(t.tag===19)Gg(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(Ge(At,l),h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&Vu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),If(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&Vu(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}If(i,!0,a,null,d);break;case"together":If(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Ni(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Dr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Qo(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Ir(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Ir(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Df(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Gu(t)))}function uA(t,i,a){switch(i.tag){case 3:er(i,i.stateNode.containerInfo),Tr(i,St,t.memoizedState.cache),ko();break;case 27:case 5:co(i);break;case 4:er(i,i.stateNode.containerInfo);break;case 10:Tr(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(yr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Fg(t,i,a):(yr(i),t=Ni(t,i,a),t!==null?t.sibling:null);yr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Qo(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Kg(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Ge(At,At.current),l)break;return null;case 22:case 23:return i.lanes=0,zg(t,i,a);case 24:Tr(i,St,t.memoizedState.cache)}return Ni(t,i,a)}function Qg(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Mt=!0;else{if(!Df(t,a)&&(i.flags&128)===0)return Mt=!1,uA(t,i,a);Mt=(t.flags&131072)!==0}else Mt=!1,Be&&(i.flags&1048576)!==0&&Np(i,Iu,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")jf(l)?(t=Rs(l,t),i.tag=1,i=qg(null,i,l,t,a)):(i.tag=0,i=Tf(null,i,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===z){i.tag=11,i=Lg(null,i,l,t,a);break e}else if(h===Q){i.tag=14,i=xg(null,i,l,t,a);break e}}throw i=b(l)||l,Error(s(306,i,""))}}return i;case 0:return Tf(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Rs(l,i.pendingProps),qg(t,i,l,h,a);case 3:e:{if(er(i,i.stateNode.containerInfo),t===null)throw Error(s(387));var d=i.pendingProps;h=i.memoizedState,l=h.element,Pf(t,i),Xo(i,d,null,a);var v=i.memoizedState;if(d=v.cache,Tr(i,St,d),d!==h.cache&&Mf(i,[St],a,!0),$o(),d=v.element,h.isDehydrated)if(h={element:d,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=h,i.memoizedState=h,i.flags&256){i=jg(t,i,d,a);break e}else if(d!==l){l=Sn(Error(s(424)),i),Lo(l),i=jg(t,i,d,a);break e}else for(xt=Un(i.stateNode.containerInfo.firstChild),en=i,Be=!0,Ln=null,ei=!0,a=Bp(i,null,d,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(ko(),d===l){i=Ni(t,i,a);break e}Ut(t,i,d,a)}i=i.child}return i;case 26:return Ko(t,i),t===null?(a=Xy(i.type,null,i.pendingProps,null))?i.memoizedState=a:Be||(a=i.type,t=i.pendingProps,l=oc(pn.current).createElement(a),l[Dt]=i,l[vt]=t,zt(l,a,t),Je(l),i.stateNode=l):i.memoizedState=Xy(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return co(i),t===null&&Be&&(l=i.stateNode=Qy(i.type,i.pendingProps,pn.current),en=i,ei=!0,xt=Un(l.firstChild)),l=i.pendingProps.children,t!==null||Be?Ut(t,i,l,a):i.child=Ts(i,null,l,a),Ko(t,i),i.child;case 5:return t===null&&Be&&((h=l=xt)&&(l=zA(l,i.type,i.pendingProps,ei),l!==null?(i.stateNode=l,en=i,xt=Un(l.firstChild),ei=!1,h=!0):h=!1),h||Es(i)),co(i),h=i.type,d=i.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,pd(h,d)?l=null:v!==null&&pd(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=nf(t,i,nA,null,null,a),hl._currentValue=h),Ko(t,i),Ut(t,i,l,a),i.child;case 6:return t===null&&Be&&((t=a=xt)&&(a=BA(a,i.pendingProps,ei),a!==null?(i.stateNode=a,en=i,xt=null,t=!0):t=!1),t||Es(i)),null;case 13:return Fg(t,i,a);case 4:return er(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Ts(i,null,l,a):Ut(t,i,l,a),i.child;case 11:return Lg(t,i,i.type,i.pendingProps,a);case 7:return Ut(t,i,i.pendingProps,a),i.child;case 8:return Ut(t,i,i.pendingProps.children,a),i.child;case 12:return Ut(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Tr(i,i.type,l.value),Ut(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Is(i),h=Ft(h),l=l(h),i.flags|=1,Ut(t,i,l,a),i.child;case 14:return xg(t,i,i.type,i.pendingProps,a);case 15:return Ug(t,i,i.type,i.pendingProps,a);case 19:return Kg(t,i,a);case 22:return zg(t,i,a);case 24:return Is(i),l=Ft(St),t===null?(h=ef(),h===null&&(h=$e,d=Zh(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Vf(i),Tr(i,St,h)):((t.lanes&a)!==0&&(Pf(t,i),Xo(i,null,null,a),$o()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Tr(i,St,l)):(l=d.cache,Tr(i,St,l),l!==h.cache&&Mf(i,[St],a,!0))),Ut(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}var Of=Ue(null),Cs=null,Mi=null;function Tr(t,i,a){Ge(Of,i._currentValue),i._currentValue=a}function Vi(t){t._currentValue=Of.current,it(Of)}function Nf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Mf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var R=0;R<i.length;R++)if(T.context===i[R]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),Nf(d.return,a,t),l||(v=null);break e}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Nf(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Qo(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;un(h.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(h===Ji.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(hl):t=[hl])}h=h.return}t!==null&&Mf(i,t,a,l),i.flags|=262144}function Gu(t){for(t=t.firstContext;t!==null;){if(!un(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Is(t){Cs=t,Mi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ft(t){return Yg(Cs,t)}function Ku(t,i){return Cs===null&&Is(t),Yg(t,i)}function Yg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Mi===null){if(t===null)throw Error(s(308));Mi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Mi=Mi.next=i;return a}var Ar=!1;function Vf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Pf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Sr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function wr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(tt&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Ru(t),Dp(t,null,a),i}return bu(t,l,i,a),Ru(t)}function Yo(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194176)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,ar(t,a)}}function kf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Lf=!1;function $o(){if(Lf){var t=Ea;if(t!==null)throw t}}function Xo(t,i,a,l){Lf=!1;var h=t.updateQueue;Ar=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var R=T,P=R.next;R.next=null,v===null?d=P:v.next=P,v=R;var G=t.alternate;G!==null&&(G=G.updateQueue,T=G.lastBaseUpdate,T!==v&&(T===null?G.firstBaseUpdate=P:T.next=P,G.lastBaseUpdate=R))}if(d!==null){var W=h.baseState;v=0,G=P=R=null,T=d;do{var H=T.lane&-536870913,F=H!==T.lane;if(F?(Le&H)===H:(l&H)===H){H!==0&&H===va&&(Lf=!0),G!==null&&(G=G.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var ue=t,Te=T;H=i;var ot=a;switch(Te.tag){case 1:if(ue=Te.payload,typeof ue=="function"){W=ue.call(ot,W,H);break e}W=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=Te.payload,H=typeof ue=="function"?ue.call(ot,W,H):ue,H==null)break e;W=C({},W,H);break e;case 2:Ar=!0}}H=T.callback,H!==null&&(t.flags|=64,F&&(t.flags|=8192),F=h.callbacks,F===null?h.callbacks=[H]:F.push(H))}else F={lane:H,tag:T.tag,payload:T.payload,callback:T.callback,next:null},G===null?(P=G=F,R=W):G=G.next=F,v|=H;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;F=T,T=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);G===null&&(R=W),h.baseState=R,h.firstBaseUpdate=P,h.lastBaseUpdate=G,d===null&&(h.shared.lanes=0),Dr|=v,t.lanes=v,t.memoizedState=W}}function $g(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function Xg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)$g(a[t],i)}function Wo(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(T){Ye(i,i.return,T)}}function br(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=i;var R=a;try{T()}catch(P){Ye(h,R,P)}}}l=l.next}while(l!==d)}}catch(P){Ye(i,i.return,P)}}function Wg(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Xg(i,a)}catch(l){Ye(t,t.return,l)}}}function Zg(t,i,a){a.props=Rs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ye(t,i,l)}}function Ds(t,i){try{var a=t.ref;if(a!==null){var l=t.stateNode;switch(t.tag){case 26:case 27:case 5:var h=l;break;default:h=l}typeof a=="function"?t.refCleanup=a(h):a.current=h}}catch(d){Ye(t,i,d)}}function cn(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Ye(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Ye(t,i,h)}else a.current=null}function Jg(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Ye(t,t.return,h)}}function ey(t,i,a){try{var l=t.stateNode;PA(l,t.type,a,i),l[vt]=i}catch(h){Ye(t,t.return,h)}}function ty(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function xf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ty(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Uf(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(t,i):a.insertBefore(t,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(t,a)):(i=a,i.appendChild(t)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=ac));else if(l!==4&&l!==27&&(t=t.child,t!==null))for(Uf(t,i,a),t=t.sibling;t!==null;)Uf(t,i,a),t=t.sibling}function Qu(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&l!==27&&(t=t.child,t!==null))for(Qu(t,i,a),t=t.sibling;t!==null;)Qu(t,i,a),t=t.sibling}var Pi=!1,st=!1,zf=!1,ny=typeof WeakSet=="function"?WeakSet:Set,Vt=null,iy=!1;function cA(t,i){if(t=t.containerInfo,dd=dc,t=Ep(t),Bh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,T=-1,R=-1,P=0,G=0,W=t,H=null;t:for(;;){for(var F;W!==a||h!==0&&W.nodeType!==3||(T=v+h),W!==d||l!==0&&W.nodeType!==3||(R=v+l),W.nodeType===3&&(v+=W.nodeValue.length),(F=W.firstChild)!==null;)H=W,W=F;for(;;){if(W===t)break t;if(H===a&&++P===h&&(T=v),H===d&&++G===l&&(R=v),(F=W.nextSibling)!==null)break;W=H,H=W.parentNode}W=F}a=T===-1||R===-1?null:{start:T,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(md={focusedElem:t,selectionRange:a},dc=!1,Vt=i;Vt!==null;)if(i=Vt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Vt=t;else for(;Vt!==null;){switch(i=Vt,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ue=Rs(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(ue,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Te){Ye(a,a.return,Te)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)_d(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":_d(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Vt=t;break}Vt=i.return}return ue=iy,iy=!1,ue}function ry(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Li(t,a),l&4&&Wo(5,a);break;case 1:if(Li(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(T){Ye(a,a.return,T)}else{var h=Rs(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(T){Ye(a,a.return,T)}}l&64&&Wg(a),l&512&&Ds(a,a.return);break;case 3:if(Li(t,a),l&64&&(l=a.updateQueue,l!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Xg(l,t)}catch(T){Ye(a,a.return,T)}}break;case 26:Li(t,a),l&512&&Ds(a,a.return);break;case 27:case 5:Li(t,a),i===null&&l&4&&Jg(a),l&512&&Ds(a,a.return);break;case 12:Li(t,a);break;case 13:Li(t,a),l&4&&oy(t,a);break;case 22:if(h=a.memoizedState!==null||Pi,!h){i=i!==null&&i.memoizedState!==null||st;var d=Pi,v=st;Pi=h,(st=i)&&!v?Rr(t,a,(a.subtreeFlags&8772)!==0):Li(t,a),Pi=d,st=v}l&512&&(a.memoizedProps.mode==="manual"?Ds(a,a.return):cn(a,a.return));break;default:Li(t,a)}}function sy(t){var i=t.alternate;i!==null&&(t.alternate=null,sy(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&ss(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var pt=null,hn=!1;function ki(t,i,a){for(a=a.child;a!==null;)ay(t,i,a),a=a.sibling}function ay(t,i,a){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(tr,a)}catch{}switch(a.tag){case 26:st||cn(a,i),ki(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:st||cn(a,i);var l=pt,h=hn;for(pt=a.stateNode,ki(t,i,a),a=a.stateNode,i=a.attributes;i.length;)a.removeAttributeNode(i[0]);ss(a),pt=l,hn=h;break;case 5:st||cn(a,i);case 6:h=pt;var d=hn;if(pt=null,ki(t,i,a),pt=h,hn=d,pt!==null)if(hn)try{t=pt,l=a.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)}catch(v){Ye(a,i,v)}else try{pt.removeChild(a.stateNode)}catch(v){Ye(a,i,v)}break;case 18:pt!==null&&(hn?(i=pt,a=a.stateNode,i.nodeType===8?yd(i.parentNode,a):i.nodeType===1&&yd(i,a),pl(i)):yd(pt,a.stateNode));break;case 4:l=pt,h=hn,pt=a.stateNode.containerInfo,hn=!0,ki(t,i,a),pt=l,hn=h;break;case 0:case 11:case 14:case 15:st||br(2,a,i),st||br(4,a,i),ki(t,i,a);break;case 1:st||(cn(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Zg(a,i,l)),ki(t,i,a);break;case 21:ki(t,i,a);break;case 22:st||cn(a,i),st=(l=st)||a.memoizedState!==null,ki(t,i,a),st=l;break;default:ki(t,i,a)}}function oy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{pl(t)}catch(a){Ye(i,i.return,a)}}function hA(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new ny),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new ny),i;default:throw Error(s(435,t.tag))}}function Bf(t,i){var a=hA(t);i.forEach(function(l){var h=wA.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function Cn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=i,T=v;e:for(;T!==null;){switch(T.tag){case 27:case 5:pt=T.stateNode,hn=!1;break e;case 3:pt=T.stateNode.containerInfo,hn=!0;break e;case 4:pt=T.stateNode.containerInfo,hn=!0;break e}T=T.return}if(pt===null)throw Error(s(160));ay(d,v,h),pt=null,hn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)ly(i,t),i=i.sibling}var xn=null;function ly(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Cn(i,t),In(t),l&4&&(br(3,t,t.return),Wo(3,t),br(5,t,t.return));break;case 1:Cn(i,t),In(t),l&512&&(st||a===null||cn(a,a.return)),l&64&&Pi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=xn;if(Cn(i,t),In(t),l&512&&(st||a===null||cn(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[lr]||d[Dt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),zt(d,l,a),d[Dt]=t,Je(d),l=d;break e;case"link":var v=Jy("link","href",h).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break t}}d=h.createElement(l),zt(d,l,a),h.head.appendChild(d);break;case"meta":if(v=Jy("meta","content",h).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break t}}d=h.createElement(l),zt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Dt]=t,Je(d),l=d}t.stateNode=l}else e_(h,t.type,t.stateNode);else t.stateNode=Zy(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?e_(h,t.type,t.stateNode):Zy(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&ey(t,t.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&t.alternate===null){h=t.stateNode,d=t.memoizedProps;try{for(var R=h.firstChild;R;){var P=R.nextSibling,G=R.nodeName;R[lr]||G==="HEAD"||G==="BODY"||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&R.rel.toLowerCase()==="stylesheet"||h.removeChild(R),R=P}for(var W=t.type,H=h.attributes;H.length;)h.removeAttributeNode(H[0]);zt(h,W,d),h[Dt]=t,h[vt]=d}catch(ue){Ye(t,t.return,ue)}}case 5:if(Cn(i,t),In(t),l&512&&(st||a===null||cn(a,a.return)),t.flags&32){h=t.stateNode;try{_n(h,"")}catch(ue){Ye(t,t.return,ue)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,ey(t,h,a!==null?a.memoizedProps:h)),l&1024&&(zf=!0);break;case 6:if(Cn(i,t),In(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ue){Ye(t,t.return,ue)}}break;case 3:if(cc=null,h=xn,xn=lc(i.containerInfo),Cn(i,t),xn=h,In(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{pl(i.containerInfo)}catch(ue){Ye(t,t.return,ue)}zf&&(zf=!1,uy(t));break;case 4:l=xn,xn=lc(t.stateNode.containerInfo),Cn(i,t),In(t),xn=l;break;case 12:Cn(i,t),In(t);break;case 13:Cn(i,t),In(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&($f=nn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Bf(t,l)));break;case 22:if(l&512&&(st||a===null||cn(a,a.return)),R=t.memoizedState!==null,P=a!==null&&a.memoizedState!==null,G=Pi,W=st,Pi=G||R,st=W||P,Cn(i,t),st=W,Pi=G,In(t),i=t.stateNode,i._current=t,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,l&8192&&(i._visibility=R?i._visibility&-2:i._visibility|1,R&&(i=Pi||st,a===null||P||i||wa(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))e:for(a=null,i=t;;){if(i.tag===5||i.tag===26||i.tag===27){if(a===null){P=a=i;try{if(h=P.stateNode,R)d=h.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{v=P.stateNode,T=P.memoizedProps.style;var F=T!=null&&T.hasOwnProperty("display")?T.display:null;v.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(ue){Ye(P,P.return,ue)}}}else if(i.tag===6){if(a===null){P=i;try{P.stateNode.nodeValue=R?"":P.memoizedProps}catch(ue){Ye(P,P.return,ue)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Bf(t,a))));break;case 19:Cn(i,t),In(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Bf(t,l)));break;case 21:break;default:Cn(i,t),In(t)}}function In(t){var i=t.flags;if(i&2){try{if(t.tag!==27){e:{for(var a=t.return;a!==null;){if(ty(a)){var l=a;break e}a=a.return}throw Error(s(160))}switch(l.tag){case 27:var h=l.stateNode,d=xf(t);Qu(t,d,h);break;case 5:var v=l.stateNode;l.flags&32&&(_n(v,""),l.flags&=-33);var T=xf(t);Qu(t,T,v);break;case 3:case 4:var R=l.stateNode.containerInfo,P=xf(t);Uf(t,P,R);break;default:throw Error(s(161))}}}catch(G){Ye(t,t.return,G)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function uy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;uy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Li(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)ry(t,i.alternate,i),i=i.sibling}function wa(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:br(4,i,i.return),wa(i);break;case 1:cn(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Zg(i,i.return,a),wa(i);break;case 26:case 27:case 5:cn(i,i.return),wa(i);break;case 22:cn(i,i.return),i.memoizedState===null&&wa(i);break;default:wa(i)}t=t.sibling}}function Rr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:Rr(h,d,a),Wo(4,d);break;case 1:if(Rr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){Ye(l,l.return,P)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)$g(R[h],T)}catch(P){Ye(l,l.return,P)}}a&&v&64&&Wg(d),Ds(d,d.return);break;case 26:case 27:case 5:Rr(h,d,a),a&&l===null&&v&4&&Jg(d),Ds(d,d.return);break;case 12:Rr(h,d,a);break;case 13:Rr(h,d,a),a&&v&4&&oy(h,d);break;case 22:d.memoizedState===null&&Rr(h,d,a),Ds(d,d.return);break;default:Rr(h,d,a)}i=i.sibling}}function Hf(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Ho(a))}function qf(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Ho(t))}function Cr(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)cy(t,i,a,l),i=i.sibling}function cy(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Cr(t,i,a,l),h&2048&&Wo(9,i);break;case 3:Cr(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Ho(t)));break;case 12:if(h&2048){Cr(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){Ye(i,i.return,R)}}else Cr(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,i.memoizedState!==null?d._visibility&4?Cr(t,i,a,l):Zo(t,i):d._visibility&4?Cr(t,i,a,l):(d._visibility|=4,ba(t,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&Hf(i.alternate,i);break;case 24:Cr(t,i,a,l),h&2048&&qf(i.alternate,i);break;default:Cr(t,i,a,l)}}function ba(t,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,v=i,T=a,R=l,P=v.flags;switch(v.tag){case 0:case 11:case 15:ba(d,v,T,R,h),Wo(8,v);break;case 23:break;case 22:var G=v.stateNode;v.memoizedState!==null?G._visibility&4?ba(d,v,T,R,h):Zo(d,v):(G._visibility|=4,ba(d,v,T,R,h)),h&&P&2048&&Hf(v.alternate,v);break;case 24:ba(d,v,T,R,h),h&&P&2048&&qf(v.alternate,v);break;default:ba(d,v,T,R,h)}i=i.sibling}}function Zo(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:Zo(a,l),h&2048&&Hf(l.alternate,l);break;case 24:Zo(a,l),h&2048&&qf(l.alternate,l);break;default:Zo(a,l)}i=i.sibling}}var Jo=8192;function Ra(t){if(t.subtreeFlags&Jo)for(t=t.child;t!==null;)hy(t),t=t.sibling}function hy(t){switch(t.tag){case 26:Ra(t),t.flags&Jo&&t.memoizedState!==null&&JA(xn,t.memoizedState,t.memoizedProps);break;case 5:Ra(t);break;case 3:case 4:var i=xn;xn=lc(t.stateNode.containerInfo),Ra(t),xn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=Jo,Jo=16777216,Ra(t),Jo=i):Ra(t));break;default:Ra(t)}}function fy(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function el(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Vt=l,my(l,t)}fy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)dy(t),t=t.sibling}function dy(t){switch(t.tag){case 0:case 11:case 15:el(t),t.flags&2048&&br(9,t,t.return);break;case 3:el(t);break;case 12:el(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&4&&(t.return===null||t.return.tag!==13)?(i._visibility&=-5,Yu(t)):el(t);break;default:el(t)}}function Yu(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Vt=l,my(l,t)}fy(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:br(8,i,i.return),Yu(i);break;case 22:a=i.stateNode,a._visibility&4&&(a._visibility&=-5,Yu(i));break;default:Yu(i)}t=t.sibling}}function my(t,i){for(;Vt!==null;){var a=Vt;switch(a.tag){case 0:case 11:case 15:br(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ho(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Vt=l;else e:for(a=t;Vt!==null;){l=Vt;var h=l.sibling,d=l.return;if(sy(l),l===a){Vt=null;break e}if(h!==null){h.return=d,Vt=h;break e}Vt=d}}}function fA(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(t,i,a,l){return new fA(t,i,a,l)}function jf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ir(t,i){var a=t.alternate;return a===null?(a=Dn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&31457280,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function py(t,i){t.flags&=31457282;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function $u(t,i,a,l,h,d){var v=0;if(l=t,typeof t=="function")jf(t)&&(v=1);else if(typeof t=="string")v=WA(t,a,Xt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case p:return Os(a.children,h,d,i);case y:v=8,h|=24;break;case E:return t=Dn(12,a,i,h|2),t.elementType=E,t.lanes=d,t;case K:return t=Dn(13,a,i,h),t.elementType=K,t.lanes=d,t;case q:return t=Dn(19,a,i,h),t.elementType=q,t.lanes=d,t;case ne:return gy(a,h,d,i);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case w:case L:v=10;break e;case D:v=9;break e;case z:v=11;break e;case Q:v=14;break e;case Z:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=Dn(v,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Os(t,i,a,l){return t=Dn(7,t,l,i),t.lanes=a,t}function gy(t,i,a,l){t=Dn(22,t,l,i),t.elementType=ne,t.lanes=a;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var d=h._current;if(d===null)throw Error(s(456));if((h._pendingVisibility&2)===0){var v=gr(d,2);v!==null&&(h._pendingVisibility|=2,tn(v,d,2))}},attach:function(){var d=h._current;if(d===null)throw Error(s(456));if((h._pendingVisibility&2)!==0){var v=gr(d,2);v!==null&&(h._pendingVisibility&=-3,tn(v,d,2))}}};return t.stateNode=h,t}function Ff(t,i,a){return t=Dn(6,t,null,i),t.lanes=a,t}function Gf(t,i,a){return i=Dn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}function xi(t){t.flags|=4}function yy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!t_(i)){if(i=Rn.current,i!==null&&((Le&4194176)===Le?ti!==null:(Le&62914560)!==Le&&(Le&536870912)===0||i!==ti))throw Uo=$h,Pp;t.flags|=8192}}function Xu(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?rr():536870912,t.lanes|=i,Ia|=i)}function tl(t,i){if(!Be)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function et(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&31457280,l|=h.flags&31457280,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function dA(t,i,a){var l=i.pendingProps;switch(Qh(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return et(i),null;case 1:return et(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Vi(St),gi(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Po(i)?xi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Ln!==null&&(Jf(Ln),Ln=null))),et(i),null;case 26:return a=i.memoizedState,t===null?(xi(i),a!==null?(et(i),yy(i,a)):(et(i),i.flags&=-16777217)):a?a!==t.memoizedState?(xi(i),et(i),yy(i,a)):(et(i),i.flags&=-16777217):(t.memoizedProps!==l&&xi(i),et(i),i.flags&=-16777217),null;case 27:Qs(i),a=pn.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&xi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return et(i),null}t=Xt.current,Po(i)?Mp(i):(t=Qy(h,l,a),i.stateNode=t,xi(i))}return et(i),null;case 5:if(Qs(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&xi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return et(i),null}if(t=Xt.current,Po(i))Mp(i);else{switch(h=oc(pn.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[Dt]=i,t[vt]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(zt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&xi(i)}}return et(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&xi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=pn.current,Po(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=en,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Dt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Hy(t.nodeValue,a)),t||Es(i)}else t=oc(t).createTextNode(l),t[Dt]=i,i.stateNode=t}return et(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Po(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Dt]=i}else ko(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;et(i),h=!1}else Ln!==null&&(Jf(Ln),Ln=null),h=!0;if(!h)return i.flags&256?(Di(i),i):(Di(i),null)}if(Di(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),Xu(i,i.updateQueue),et(i),null;case 4:return gi(),t===null&&cd(i.stateNode.containerInfo),et(i),null;case 10:return Vi(i.type),et(i),null;case 19:if(it(At),h=i.memoizedState,h===null)return et(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)tl(h,!1);else{if(at!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=Vu(t),d!==null){for(i.flags|=128,tl(h,!1),t=d.updateQueue,i.updateQueue=t,Xu(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)py(a,t),a=a.sibling;return Ge(At,At.current&1|2),i.child}t=t.sibling}h.tail!==null&&nn()>Wu&&(i.flags|=128,l=!0,tl(h,!1),i.lanes=4194304)}else{if(!l)if(t=Vu(d),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,Xu(i,t),tl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Be)return et(i),null}else 2*nn()-h.renderingStartTime>Wu&&a!==536870912&&(i.flags|=128,l=!0,tl(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(t=h.last,t!==null?t.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=nn(),i.sibling=null,t=At.current,Ge(At,l?t&1|2:t&1),i):(et(i),null);case 22:case 23:return Di(i),Wh(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(et(i),i.subtreeFlags&6&&(i.flags|=8192)):et(i),a=i.updateQueue,a!==null&&Xu(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&it(As),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Vi(St),et(i),null;case 25:return null}throw Error(s(156,i.tag))}function mA(t,i){switch(Qh(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Vi(St),gi(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Qs(i),null;case 13:if(Di(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));ko()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return it(At),null;case 4:return gi(),null;case 10:return Vi(i.type),null;case 22:case 23:return Di(i),Wh(),t!==null&&it(As),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Vi(St),null;case 25:return null;default:return null}}function _y(t,i){switch(Qh(i),i.tag){case 3:Vi(St),gi();break;case 26:case 27:case 5:Qs(i);break;case 4:gi();break;case 13:Di(i);break;case 19:it(At);break;case 10:Vi(i.type);break;case 22:case 23:Di(i),Wh(),t!==null&&it(As);break;case 24:Vi(St)}}var pA={getCacheForType:function(t){var i=Ft(St),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},gA=typeof WeakMap=="function"?WeakMap:Map,tt=0,$e=null,De=null,Le=0,Xe=0,fn=null,Ui=!1,Ca=!1,Kf=!1,zi=0,at=0,Dr=0,Ns=0,Qf=0,On=0,Ia=0,nl=null,ii=null,Yf=!1,$f=0,Wu=1/0,Zu=null,Or=null,Ju=!1,Ms=null,il=0,Xf=0,Wf=null,rl=0,Zf=null;function dn(){if((tt&2)!==0&&Le!==0)return Le&-Le;if(S.T!==null){var t=va;return t!==0?t:ad()}return su()}function vy(){On===0&&(On=(Le&536870912)===0||Be?go():536870912);var t=Rn.current;return t!==null&&(t.flags|=32),On}function tn(t,i,a){(t===$e&&Xe===2||t.cancelPendingCommit!==null)&&(Da(t,0),Bi(t,Le,On,!1)),lt(t,a),((tt&2)===0||t!==$e)&&(t===$e&&((tt&2)===0&&(Ns|=a),at===4&&Bi(t,Le,On,!1)),ri(t))}function Ey(t,i,a){if((tt&6)!==0)throw Error(s(327));var l=!a&&(i&60)===0&&(i&t.expiredLanes)===0||ir(t,i),h=l?vA(t,i):nd(t,i,!0),d=l;do{if(h===0){Ca&&!l&&Bi(t,i,0,!1);break}else if(h===6)Bi(t,i,0,!Ui);else{if(a=t.current.alternate,d&&!yA(a)){h=nd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var T=t;h=nl;var R=T.current.memoizedState.isDehydrated;if(R&&(Da(T,v).flags|=256),v=nd(T,v,!1),v!==2){if(Kf&&!R){T.errorRecoveryDisabledLanes|=d,Ns|=d,h=4;break e}d=ii,ii=h,d!==null&&Jf(d)}h=v}if(d=!1,h!==2)continue}}if(h===1){Da(t,0),Bi(t,i,0,!0);break}e:{switch(l=t,h){case 0:case 1:throw Error(s(345));case 4:if((i&4194176)===i){Bi(l,i,On,!Ui);break e}break;case 2:ii=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=a,l.finishedLanes=i,(i&62914560)===i&&(d=$f+300-nn(),10<d)){if(Bi(l,i,On,!Ui),gn(l,0)!==0)break e;l.timeoutHandle=Fy(Ty.bind(null,l,a,ii,Zu,Yf,i,On,Ns,Ia,Ui,2,-0,0),d);break e}Ty(l,a,ii,Zu,Yf,i,On,Ns,Ia,Ui,0,-0,0)}}break}while(!0);ri(t)}function Jf(t){ii===null?ii=t:ii.push.apply(ii,t)}function Ty(t,i,a,l,h,d,v,T,R,P,G,W,H){var F=i.subtreeFlags;if((F&8192||(F&16785408)===16785408)&&(cl={stylesheets:null,count:0,unsuspend:ZA},hy(i),i=eS(),i!==null)){t.cancelPendingCommit=i(Iy.bind(null,t,a,l,h,v,T,R,1,W,H)),Bi(t,d,v,!P);return}Iy(t,a,l,h,v,T,R,G,W,H)}function yA(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!un(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Bi(t,i,a,l){i&=~Qf,i&=~Ns,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-Wt(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&sr(t,a,i)}function ec(){return(tt&6)===0?(sl(0),!1):!0}function ed(){if(De!==null){if(Xe===0)var t=De.return;else t=De,Mi=Cs=null,af(t),ya=null,zo=0,t=De;for(;t!==null;)_y(t.alternate,t),t=t.return;De=null}}function Da(t,i){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,LA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ed(),$e=t,De=a=Ir(t.current,null),Le=i,Xe=0,fn=null,Ui=!1,Ca=ir(t,i),Kf=!1,Ia=On=Qf=Ns=Dr=at=0,ii=nl=null,Yf=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-Wt(l),d=1<<h;i|=t[h],l&=~d}return zi=i,wu(),a}function Ay(t,i){Ce=null,S.H=ni,i===xo?(i=xp(),Xe=3):i===Pp?(i=xp(),Xe=4):Xe=i===kg?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,fn=i,De===null&&(at=1,Fu(t,Sn(i,t.current)))}function Sy(){var t=S.H;return S.H=ni,t===null?ni:t}function wy(){var t=S.A;return S.A=pA,t}function td(){at=4,Ui||(Le&4194176)!==Le&&Rn.current!==null||(Ca=!0),(Dr&134217727)===0&&(Ns&134217727)===0||$e===null||Bi($e,Le,On,!1)}function nd(t,i,a){var l=tt;tt|=2;var h=Sy(),d=wy();($e!==t||Le!==i)&&(Zu=null,Da(t,i)),i=!1;var v=at;e:do try{if(Xe!==0&&De!==null){var T=De,R=fn;switch(Xe){case 8:ed(),v=6;break e;case 3:case 2:case 6:Rn.current===null&&(i=!0);var P=Xe;if(Xe=0,fn=null,Oa(t,T,R,P),a&&Ca){v=0;break e}break;default:P=Xe,Xe=0,fn=null,Oa(t,T,R,P)}}_A(),v=at;break}catch(G){Ay(t,G)}while(!0);return i&&t.shellSuspendCounter++,Mi=Cs=null,tt=l,S.H=h,S.A=d,De===null&&($e=null,Le=0,wu()),v}function _A(){for(;De!==null;)by(De)}function vA(t,i){var a=tt;tt|=2;var l=Sy(),h=wy();$e!==t||Le!==i?(Zu=null,Wu=nn()+500,Da(t,i)):Ca=ir(t,i);e:do try{if(Xe!==0&&De!==null){i=De;var d=fn;t:switch(Xe){case 1:Xe=0,fn=null,Oa(t,i,d,1);break;case 2:if(kp(d)){Xe=0,fn=null,Ry(i);break}i=function(){Xe===2&&$e===t&&(Xe=7),ri(t)},d.then(i,i);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:kp(d)?(Xe=0,fn=null,Ry(i)):(Xe=0,fn=null,Oa(t,i,d,7));break;case 5:var v=null;switch(De.tag){case 26:v=De.memoizedState;case 5:case 27:var T=De;if(!v||t_(v)){Xe=0,fn=null;var R=T.sibling;if(R!==null)De=R;else{var P=T.return;P!==null?(De=P,tc(P)):De=null}break t}}Xe=0,fn=null,Oa(t,i,d,5);break;case 6:Xe=0,fn=null,Oa(t,i,d,6);break;case 8:ed(),at=6;break e;default:throw Error(s(462))}}EA();break}catch(G){Ay(t,G)}while(!0);return Mi=Cs=null,S.H=l,S.A=h,tt=a,De!==null?0:($e=null,Le=0,wu(),at)}function EA(){for(;De!==null&&!Dh();)by(De)}function by(t){var i=Qg(t.alternate,t,zi);t.memoizedProps=t.pendingProps,i===null?tc(t):De=i}function Ry(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Hg(a,i,i.pendingProps,i.type,void 0,Le);break;case 11:i=Hg(a,i,i.pendingProps,i.type.render,i.ref,Le);break;case 5:af(i);default:_y(a,i),i=De=py(i,zi),i=Qg(a,i,zi)}t.memoizedProps=t.pendingProps,i===null?tc(t):De=i}function Oa(t,i,a,l){Mi=Cs=null,af(i),ya=null,zo=0;var h=i.return;try{if(lA(t,h,i,a,Le)){at=1,Fu(t,Sn(a,t.current)),De=null;return}}catch(d){if(h!==null)throw De=h,d;at=1,Fu(t,Sn(a,t.current)),De=null;return}i.flags&32768?(Be||l===1?t=!0:Ca||(Le&536870912)!==0?t=!1:(Ui=t=!0,(l===2||l===3||l===6)&&(l=Rn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Cy(i,t)):tc(i)}function tc(t){var i=t;do{if((i.flags&32768)!==0){Cy(i,Ui);return}t=i.return;var a=dA(i.alternate,i,zi);if(a!==null){De=a;return}if(i=i.sibling,i!==null){De=i;return}De=i=t}while(i!==null);at===0&&(at=5)}function Cy(t,i){do{var a=mA(t.alternate,t);if(a!==null){a.flags&=32767,De=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){De=t;return}De=t=a}while(t!==null);at=6,De=null}function Iy(t,i,a,l,h,d,v,T,R,P){var G=S.T,W=se.p;try{se.p=2,S.T=null,TA(t,i,a,l,W,h,d,v,T,R,P)}finally{S.T=G,se.p=W}}function TA(t,i,a,l,h,d,v,T){do Na();while(Ms!==null);if((tt&6)!==0)throw Error(s(327));var R=t.finishedWork;if(l=t.finishedLanes,R===null)return null;if(t.finishedWork=null,t.finishedLanes=0,R===t.current)throw Error(s(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var P=R.lanes|R.childLanes;if(P|=Fh,iu(t,l,P,d,v,T),t===$e&&(De=$e=null,Le=0),(R.subtreeFlags&10256)===0&&(R.flags&10256)===0||Ju||(Ju=!0,Xf=P,Wf=a,bA(yi,function(){return Na(),null})),a=(R.flags&15990)!==0,(R.subtreeFlags&15990)!==0||a?(a=S.T,S.T=null,d=se.p,se.p=2,v=tt,tt|=4,cA(t,R),ly(R,t),G0(md,t.containerInfo),dc=!!dd,md=dd=null,t.current=R,ry(t,R.alternate,R),ho(),tt=v,se.p=d,S.T=a):t.current=R,Ju?(Ju=!1,Ms=t,il=l):Dy(t,P),P=t.pendingLanes,P===0&&(Or=null),mo(R.stateNode),ri(t),i!==null)for(h=t.onRecoverableError,R=0;R<i.length;R++)P=i[R],h(P.value,{componentStack:P.stack});return(il&3)!==0&&Na(),P=t.pendingLanes,(l&4194218)!==0&&(P&42)!==0?t===Zf?rl++:(rl=0,Zf=t):rl=0,sl(0),null}function Dy(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Ho(i)))}function Na(){if(Ms!==null){var t=Ms,i=Xf;Xf=0;var a=ru(il),l=S.T,h=se.p;try{if(se.p=32>a?32:a,S.T=null,Ms===null)var d=!1;else{a=Wf,Wf=null;var v=Ms,T=il;if(Ms=null,il=0,(tt&6)!==0)throw Error(s(331));var R=tt;if(tt|=4,dy(v.current),cy(v,v.current,T,a),tt=R,sl(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(tr,v)}catch{}d=!0}return d}finally{se.p=h,S.T=l,Dy(t,i)}}return!1}function Oy(t,i,a){i=Sn(a,i),i=Ef(t.stateNode,i,2),t=wr(t,i,2),t!==null&&(lt(t,2),ri(t))}function Ye(t,i,a){if(t.tag===3)Oy(t,t,a);else for(;i!==null;){if(i.tag===3){Oy(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Or===null||!Or.has(l))){t=Sn(a,t),a=Vg(2),l=wr(i,a,2),l!==null&&(Pg(a,l,i,t),lt(l,2),ri(l));break}}i=i.return}}function id(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new gA;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Kf=!0,h.add(a),t=AA.bind(null,t,i,a),i.then(t,t))}function AA(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,$e===t&&(Le&a)===a&&(at===4||at===3&&(Le&62914560)===Le&&300>nn()-$f?(tt&2)===0&&Da(t,0):Qf|=a,Ia===Le&&(Ia=0)),ri(t)}function Ny(t,i){i===0&&(i=rr()),t=gr(t,i),t!==null&&(lt(t,i),ri(t))}function SA(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),Ny(t,a)}function wA(t,i){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),Ny(t,a)}function bA(t,i){return ns(t,i)}var nc=null,Ma=null,rd=!1,ic=!1,sd=!1,Vs=0;function ri(t){t!==Ma&&t.next===null&&(Ma===null?nc=Ma=t:Ma=Ma.next=t),ic=!0,rd||(rd=!0,CA(RA))}function sl(t,i){if(!sd&&ic){sd=!0;do for(var a=!1,l=nc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Wt(42|t)+1)-1,d&=h&~(v&~T),d=d&201326677?d&201326677|1:d?d|2:0}d!==0&&(a=!0,Py(l,d))}else d=Le,d=gn(l,l===$e?d:0),(d&3)===0||ir(l,d)||(a=!0,Py(l,d));l=l.next}while(a);sd=!1}}function RA(){ic=rd=!1;var t=0;Vs!==0&&(kA()&&(t=Vs),Vs=0);for(var i=nn(),a=null,l=nc;l!==null;){var h=l.next,d=My(l,i);d===0?(l.next=null,a===null?nc=h:a.next=h,h===null&&(Ma=a)):(a=l,(t!==0||(d&3)!==0)&&(ic=!0)),l=h}sl(t)}function My(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-Wt(d),T=1<<v,R=h[v];R===-1?((T&a)===0||(T&l)!==0)&&(h[v]=Xs(T,i)):R<=i&&(t.expiredLanes|=T),d&=~T}if(i=$e,a=Le,a=gn(t,t===i?a:0),l=t.callbackNode,a===0||t===i&&Xe===2||t.cancelPendingCommit!==null)return l!==null&&l!==null&&$s(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||ir(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&$s(l),ru(a)){case 2:case 8:a=It;break;case 32:a=yi;break;case 268435456:a=fo;break;default:a=yi}return l=Vy.bind(null,t),a=ns(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&$s(l),t.callbackPriority=2,t.callbackNode=null,2}function Vy(t,i){var a=t.callbackNode;if(Na()&&t.callbackNode!==a)return null;var l=Le;return l=gn(t,t===$e?l:0),l===0?null:(Ey(t,l,i),My(t,nn()),t.callbackNode!=null&&t.callbackNode===a?Vy.bind(null,t):null)}function Py(t,i){if(Na())return null;Ey(t,i,!0)}function CA(t){xA(function(){(tt&6)!==0?ns(_t,t):t()})}function ad(){return Vs===0&&(Vs=go()),Vs}function ky(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Qn(""+t)}function Ly(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function IA(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=ky((h[vt]||null).action),v=l.submitter;v&&(i=(i=v[vt]||null)?ky(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var T=new ia("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Vs!==0){var R=v?Ly(h,v):new FormData(h);pf(a,{pending:!0,data:R,method:h.method,action:d},null,R)}}else typeof d=="function"&&(T.preventDefault(),R=v?Ly(h,v):new FormData(h),pf(a,{pending:!0,data:R,method:h.method,action:d},d,R))},currentTarget:h}]})}}for(var od=0;od<Ip.length;od++){var ld=Ip[od],DA=ld.toLowerCase(),OA=ld[0].toUpperCase()+ld.slice(1);kn(DA,"on"+OA)}kn(Sp,"onAnimationEnd"),kn(wp,"onAnimationIteration"),kn(bp,"onAnimationStart"),kn("dblclick","onDoubleClick"),kn("focusin","onFocus"),kn("focusout","onBlur"),kn(Q0,"onTransitionRun"),kn(Y0,"onTransitionStart"),kn($0,"onTransitionCancel"),kn(Rp,"onTransitionEnd"),rn("onMouseEnter",["mouseout","mouseover"]),rn("onMouseLeave",["mouseout","mouseover"]),rn("onPointerEnter",["pointerout","pointerover"]),rn("onPointerLeave",["pointerout","pointerover"]),on("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),on("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),on("onBeforeInput",["compositionend","keypress","textInput","paste"]),on("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),on("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),on("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(al));function xy(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var T=l[v],R=T.instance,P=T.currentTarget;if(T=T.listener,R!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=P;try{d(h)}catch(G){ju(G)}h.currentTarget=null,d=R}else for(v=0;v<l.length;v++){if(T=l[v],R=T.instance,P=T.currentTarget,T=T.listener,R!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=P;try{d(h)}catch(G){ju(G)}h.currentTarget=null,d=R}}}}function Me(t,i){var a=i[rs];a===void 0&&(a=i[rs]=new Set);var l=t+"__bubble";a.has(l)||(Uy(i,t,2,!1),a.add(l))}function ud(t,i,a){var l=0;i&&(l|=4),Uy(a,t,l,i)}var rc="_reactListening"+Math.random().toString(36).slice(2);function cd(t){if(!t[rc]){t[rc]=!0,_o.forEach(function(a){a!=="selectionchange"&&(NA.has(a)||ud(a,!1,t),ud(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[rc]||(i[rc]=!0,ud("selectionchange",!1,i))}}function Uy(t,i,a,l){switch(o_(i)){case 2:var h=iS;break;case 8:h=rS;break;default:h=Sd}a=h.bind(null,i,a,t),h=void 0,!En||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function hd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h||T.nodeType===8&&T.parentNode===h)break;if(v===4)for(v=l.return;v!==null;){var R=v.tag;if((R===3||R===4)&&(R=v.stateNode.containerInfo,R===h||R.nodeType===8&&R.parentNode===h))return;v=v.return}for(;T!==null;){if(v=Pn(T),v===null)return;if(R=v.tag,R===5||R===6||R===26||R===27){l=d=v;continue e}T=T.parentNode}}l=l.return}uu(function(){var P=d,G=na(a),W=[];e:{var H=Cp.get(t);if(H!==void 0){var F=ia,ue=t;switch(t){case"keypress":if($n(a)===0)break e;case"keydown":case"keyup":F=ua;break;case"focusin":ue="focus",F=aa;break;case"focusout":ue="blur",F=aa;break;case"beforeblur":case"afterblur":F=aa;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Tn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=Lh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=yu;break;case Sp:case wp:case bp:F=oa;break;case Rp:F=vu;break;case"scroll":case"scrollend":F=cu;break;case"wheel":F=ca;break;case"copy":case"cut":case"paste":F=la;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Oo;break;case"toggle":case"beforetoggle":F=Tu}var Te=(i&4)!==0,ot=!Te&&(t==="scroll"||t==="scrollend"),k=Te?H!==null?H+"Capture":null:H;Te=[];for(var N=P,B;N!==null;){var $=N;if(B=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||B===null||k===null||($=us(N,k),$!=null&&Te.push(ol(N,$,B))),ot)break;N=N.return}0<Te.length&&(H=new F(H,ue,null,a,G),W.push({event:H,listeners:Te}))}}if((i&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",H&&a!==vn&&(ue=a.relatedTarget||a.fromElement)&&(Pn(ue)||ue[_i]))break e;if((F||H)&&(H=G.window===G?G:(H=G.ownerDocument)?H.defaultView||H.parentWindow:window,F?(ue=a.relatedTarget||a.toElement,F=P,ue=ue?Pn(ue):null,ue!==null&&(ot=fe(ue),Te=ue.tag,ue!==ot||Te!==5&&Te!==27&&Te!==6)&&(ue=null)):(F=null,ue=P),F!==ue)){if(Te=Tn,$="onMouseLeave",k="onMouseEnter",N="mouse",(t==="pointerout"||t==="pointerover")&&(Te=Oo,$="onPointerLeave",k="onPointerEnter",N="pointer"),ot=F==null?H:ur(F),B=ue==null?H:ur(ue),H=new Te($,N+"leave",F,a,G),H.target=ot,H.relatedTarget=B,$=null,Pn(G)===P&&(Te=new Te(k,N+"enter",ue,a,G),Te.target=B,Te.relatedTarget=ot,$=Te),ot=$,F&&ue)t:{for(Te=F,k=ue,N=0,B=Te;B;B=Va(B))N++;for(B=0,$=k;$;$=Va($))B++;for(;0<N-B;)Te=Va(Te),N--;for(;0<B-N;)k=Va(k),B--;for(;N--;){if(Te===k||k!==null&&Te===k.alternate)break t;Te=Va(Te),k=Va(k)}Te=null}else Te=null;F!==null&&zy(W,H,F,Te,!1),ue!==null&&ot!==null&&zy(W,ot,ue,Te,!0)}}e:{if(H=P?ur(P):window,F=H.nodeName&&H.nodeName.toLowerCase(),F==="select"||F==="input"&&H.type==="file")var oe=fp;else if(Tt(H))if(dp)oe=j0;else{oe=H0;var Ie=B0}else F=H.nodeName,!F||F.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?P&&So(P.elementType)&&(oe=fp):oe=q0;if(oe&&(oe=oe(t,P))){Ri(W,oe,a,G);break e}Ie&&Ie(t,H,P),t==="focusout"&&P&&H.type==="number"&&P.memoizedProps.value!=null&&ta(H,"number",H.value)}switch(Ie=P?ur(P):window,t){case"focusin":(Tt(Ie)||Ie.contentEditable==="true")&&(ha=Ie,Hh=P,Vo=null);break;case"focusout":Vo=Hh=ha=null;break;case"mousedown":qh=!0;break;case"contextmenu":case"mouseup":case"dragend":qh=!1,Tp(W,a,G);break;case"selectionchange":if(K0)break;case"keydown":case"keyup":Tp(W,a,G)}var he;if(Zn)e:{switch(t){case"compositionstart":var ge="onCompositionStart";break e;case"compositionend":ge="onCompositionEnd";break e;case"compositionupdate":ge="onCompositionUpdate";break e}ge=void 0}else Pe?j(t,a)&&(ge="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ge="onCompositionStart");ge&&(_&&a.locale!=="ko"&&(Pe||ge!=="onCompositionStart"?ge==="onCompositionEnd"&&Pe&&(he=bo()):(Yn=G,pr="value"in Yn?Yn.value:Yn.textContent,Pe=!0)),Ie=sc(P,ge),0<Ie.length&&(ge=new Io(ge,t,null,a,G),W.push({event:ge,listeners:Ie}),he?ge.data=he:(he=te(a),he!==null&&(ge.data=he)))),(he=g?Et(t,a):ke(t,a))&&(ge=sc(P,"onBeforeInput"),0<ge.length&&(Ie=new Io("onBeforeInput","beforeinput",null,a,G),W.push({event:Ie,listeners:ge}),Ie.data=he)),IA(W,t,P,a,G)}xy(W,i)})}function ol(t,i,a){return{instance:t,listener:i,currentTarget:a}}function sc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=us(t,a),h!=null&&l.unshift(ol(t,h,d)),h=us(t,i),h!=null&&l.push(ol(t,h,d))),t=t.return}return l}function Va(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function zy(t,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var T=a,R=T.alternate,P=T.stateNode;if(T=T.tag,R!==null&&R===l)break;T!==5&&T!==26&&T!==27||P===null||(R=P,h?(P=us(a,d),P!=null&&v.unshift(ol(a,P,R))):h||(P=us(a,d),P!=null&&v.push(ol(a,P,R)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var MA=/\r\n?/g,VA=/\u0000|\uFFFD/g;function By(t){return(typeof t=="string"?t:""+t).replace(MA,`
`).replace(VA,"")}function Hy(t,i){return i=By(i),By(t)===i}function ac(){}function Qe(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||_n(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&_n(t,""+l);break;case"className":fr(t,"class",l);break;case"tabIndex":fr(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":fr(t,a,l);break;case"style":lu(t,l,d);break;case"data":if(i!=="object"){fr(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Qn(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Qe(t,i,"name",h.name,h,null),Qe(t,i,"formEncType",h.formEncType,h,null),Qe(t,i,"formMethod",h.formMethod,h,null),Qe(t,i,"formTarget",h.formTarget,h,null)):(Qe(t,i,"encType",h.encType,h,null),Qe(t,i,"method",h.method,h,null),Qe(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Qn(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=ac);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Qn(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Me("beforetoggle",t),Me("toggle",t),hr(t,"popover",l);break;case"xlinkActuate":yn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":yn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":yn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":yn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":yn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":yn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":yn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":yn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":yn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":hr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ph.get(a)||a,hr(t,a,l))}}function fd(t,i,a,l,h,d){switch(a){case"style":lu(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?_n(t,l):(typeof l=="number"||typeof l=="bigint")&&_n(t,""+l);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ac);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Js.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[vt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):hr(t,a,l)}}}function zt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",t),Me("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Qe(t,i,d,v,a,null)}}h&&Qe(t,i,"srcSet",a.srcSet,a,null),l&&Qe(t,i,"src",a.src,a,null);return;case"input":Me("invalid",t);var T=d=v=h=null,R=null,P=null;for(l in a)if(a.hasOwnProperty(l)){var G=a[l];if(G!=null)switch(l){case"name":h=G;break;case"type":v=G;break;case"checked":R=G;break;case"defaultChecked":P=G;break;case"value":d=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:Qe(t,i,l,G,a,null)}}os(t,d,T,R,P,v,h,!1),as(t);return;case"select":Me("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:Qe(t,i,h,T,a,null)}i=d,a=v,t.multiple=!!l,i!=null?ze(t,!!l,i,!1):a!=null&&ze(t,!!l,a,!0);return;case"textarea":Me("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Qe(t,i,v,T,a,null)}mr(t,l,h,d),as(t);return;case"option":for(R in a)if(a.hasOwnProperty(R)&&(l=a[R],l!=null))switch(R){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Qe(t,i,R,l,a,null)}return;case"dialog":Me("cancel",t),Me("close",t);break;case"iframe":case"object":Me("load",t);break;case"video":case"audio":for(l=0;l<al.length;l++)Me(al[l],t);break;case"image":Me("error",t),Me("load",t);break;case"details":Me("toggle",t);break;case"embed":case"source":case"link":Me("error",t),Me("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in a)if(a.hasOwnProperty(P)&&(l=a[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Qe(t,i,P,l,a,null)}return;default:if(So(i)){for(G in a)a.hasOwnProperty(G)&&(l=a[G],l!==void 0&&fd(t,i,G,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Qe(t,i,T,l,a,null))}function PA(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,R=null,P=null,G=null;for(F in a){var W=a[F];if(a.hasOwnProperty(F)&&W!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":R=W;default:l.hasOwnProperty(F)||Qe(t,i,F,null,l,W)}}for(var H in l){var F=l[H];if(W=a[H],l.hasOwnProperty(H)&&(F!=null||W!=null))switch(H){case"type":d=F;break;case"name":h=F;break;case"checked":P=F;break;case"defaultChecked":G=F;break;case"value":v=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:F!==W&&Qe(t,i,H,F,l,W)}}dr(t,v,T,R,P,G,d,h);return;case"select":F=v=T=H=null;for(d in a)if(R=a[d],a.hasOwnProperty(d)&&R!=null)switch(d){case"value":break;case"multiple":F=R;default:l.hasOwnProperty(d)||Qe(t,i,d,null,l,R)}for(h in l)if(d=l[h],R=a[h],l.hasOwnProperty(h)&&(d!=null||R!=null))switch(h){case"value":H=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==R&&Qe(t,i,h,d,l,R)}i=T,a=v,l=F,H!=null?ze(t,!!a,H,!1):!!l!=!!a&&(i!=null?ze(t,!!a,i,!0):ze(t,!!a,a?[]:"",!1));return;case"textarea":F=H=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Qe(t,i,T,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":H=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Qe(t,i,v,h,l,d)}ls(t,H,F);return;case"option":for(var ue in a)if(H=a[ue],a.hasOwnProperty(ue)&&H!=null&&!l.hasOwnProperty(ue))switch(ue){case"selected":t.selected=!1;break;default:Qe(t,i,ue,null,l,H)}for(R in l)if(H=l[R],F=a[R],l.hasOwnProperty(R)&&H!==F&&(H!=null||F!=null))switch(R){case"selected":t.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:Qe(t,i,R,H,l,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in a)H=a[Te],a.hasOwnProperty(Te)&&H!=null&&!l.hasOwnProperty(Te)&&Qe(t,i,Te,null,l,H);for(P in l)if(H=l[P],F=a[P],l.hasOwnProperty(P)&&H!==F&&(H!=null||F!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:Qe(t,i,P,H,l,F)}return;default:if(So(i)){for(var ot in a)H=a[ot],a.hasOwnProperty(ot)&&H!==void 0&&!l.hasOwnProperty(ot)&&fd(t,i,ot,void 0,l,H);for(G in l)H=l[G],F=a[G],!l.hasOwnProperty(G)||H===F||H===void 0&&F===void 0||fd(t,i,G,H,l,F);return}}for(var k in a)H=a[k],a.hasOwnProperty(k)&&H!=null&&!l.hasOwnProperty(k)&&Qe(t,i,k,null,l,H);for(W in l)H=l[W],F=a[W],!l.hasOwnProperty(W)||H===F||H==null&&F==null||Qe(t,i,W,H,l,F)}var dd=null,md=null;function oc(t){return t.nodeType===9?t:t.ownerDocument}function qy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function jy(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function pd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var gd=null;function kA(){var t=window.event;return t&&t.type==="popstate"?t===gd?!1:(gd=t,!0):(gd=null,!1)}var Fy=typeof setTimeout=="function"?setTimeout:void 0,LA=typeof clearTimeout=="function"?clearTimeout:void 0,Gy=typeof Promise=="function"?Promise:void 0,xA=typeof queueMicrotask=="function"?queueMicrotask:typeof Gy<"u"?function(t){return Gy.resolve(null).then(t).catch(UA)}:Fy;function UA(t){setTimeout(function(){throw t})}function yd(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(l===0){t.removeChild(h),pl(i);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=h}while(a);pl(i)}function _d(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":_d(a),ss(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function zA(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[lr])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Un(t.nextSibling),t===null)break}return null}function BA(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Un(t.nextSibling),t===null))return null;return t}function Un(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}function Ky(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function Qy(t,i,a){switch(i=oc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}var Nn=new Map,Yy=new Set;function lc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var Hi=se.d;se.d={f:HA,r:qA,D:jA,C:FA,L:GA,m:KA,X:YA,S:QA,M:$A};function HA(){var t=Hi.f(),i=ec();return t||i}function qA(t){var i=vi(t);i!==null&&i.tag===5&&i.type==="form"?Tg(i):Hi.r(t)}var Pa=typeof document>"u"?null:document;function $y(t,i,a){var l=Pa;if(l&&typeof i=="string"&&i){var h=rt(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Yy.has(h)||(Yy.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),zt(i,"link",t),Je(i),l.head.appendChild(i)))}}function jA(t){Hi.D(t),$y("dns-prefetch",t,null)}function FA(t,i){Hi.C(t,i),$y("preconnect",t,i)}function GA(t,i,a){Hi.L(t,i,a);var l=Pa;if(l&&t&&i){var h='link[rel="preload"][as="'+rt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+rt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+rt(a.imageSizes)+'"]')):h+='[href="'+rt(t)+'"]';var d=h;switch(i){case"style":d=ka(t);break;case"script":d=La(t)}Nn.has(d)||(t=C({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Nn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(ll(d))||i==="script"&&l.querySelector(ul(d))||(i=l.createElement("link"),zt(i,"link",t),Je(i),l.head.appendChild(i)))}}function KA(t,i){Hi.m(t,i);var a=Pa;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+rt(l)+'"][href="'+rt(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=La(t)}if(!Nn.has(d)&&(t=C({rel:"modulepreload",href:t},i),Nn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ul(d)))return}l=a.createElement("link"),zt(l,"link",t),Je(l),a.head.appendChild(l)}}}function QA(t,i,a){Hi.S(t,i,a);var l=Pa;if(l&&t){var h=cr(l).hoistableStyles,d=ka(t);i=i||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(ll(d)))T.loading=5;else{t=C({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Nn.get(d))&&vd(t,a);var R=v=l.createElement("link");Je(R),zt(R,"link",t),R._p=new Promise(function(P,G){R.onload=P,R.onerror=G}),R.addEventListener("load",function(){T.loading|=1}),R.addEventListener("error",function(){T.loading|=2}),T.loading|=4,uc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function YA(t,i){Hi.X(t,i);var a=Pa;if(a&&t){var l=cr(a).hoistableScripts,h=La(t),d=l.get(h);d||(d=a.querySelector(ul(h)),d||(t=C({src:t,async:!0},i),(i=Nn.get(h))&&Ed(t,i),d=a.createElement("script"),Je(d),zt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function $A(t,i){Hi.M(t,i);var a=Pa;if(a&&t){var l=cr(a).hoistableScripts,h=La(t),d=l.get(h);d||(d=a.querySelector(ul(h)),d||(t=C({src:t,async:!0,type:"module"},i),(i=Nn.get(h))&&Ed(t,i),d=a.createElement("script"),Je(d),zt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Xy(t,i,a,l){var h=(h=pn.current)?lc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=ka(a.href),a=cr(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=ka(a.href);var d=cr(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(ll(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Nn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Nn.set(t,a),d||XA(h,t,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=La(a),a=cr(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function ka(t){return'href="'+rt(t)+'"'}function ll(t){return'link[rel="stylesheet"]['+t+"]"}function Wy(t){return C({},t,{"data-precedence":t.precedence,precedence:null})}function XA(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),zt(i,"link",a),Je(i),t.head.appendChild(i))}function La(t){return'[src="'+rt(t)+'"]'}function ul(t){return"script[async]"+t}function Zy(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+rt(a.href)+'"]');if(l)return i.instance=l,Je(l),l;var h=C({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Je(l),zt(l,"style",h),uc(l,a.precedence,t),i.instance=l;case"stylesheet":h=ka(a.href);var d=t.querySelector(ll(h));if(d)return i.state.loading|=4,i.instance=d,Je(d),d;l=Wy(a),(h=Nn.get(h))&&vd(l,h),d=(t.ownerDocument||t).createElement("link"),Je(d);var v=d;return v._p=new Promise(function(T,R){v.onload=T,v.onerror=R}),zt(d,"link",l),i.state.loading|=4,uc(d,a.precedence,t),i.instance=d;case"script":return d=La(a.src),(h=t.querySelector(ul(d)))?(i.instance=h,Je(h),h):(l=a,(h=Nn.get(d))&&(l=C({},a),Ed(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Je(h),zt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,uc(l,a.precedence,t));return i.instance}function uc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function vd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Ed(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var cc=null;function Jy(t,i,a){if(cc===null){var l=new Map,h=cc=new Map;h.set(a,l)}else h=cc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[lr]||d[Dt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=t+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function e_(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function WA(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function t_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var cl=null;function ZA(){}function JA(t,i,a){if(cl===null)throw Error(s(475));var l=cl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=ka(a.href),d=t.querySelector(ll(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=hc.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=d,Je(d);return}d=t.ownerDocument||t,a=Wy(a),(h=Nn.get(h))&&vd(a,h),d=d.createElement("link"),Je(d);var v=d;v._p=new Promise(function(T,R){v.onload=T,v.onerror=R}),zt(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=hc.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function eS(){if(cl===null)throw Error(s(475));var t=cl;return t.stylesheets&&t.count===0&&Td(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&Td(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function hc(){if(this.count--,this.count===0){if(this.stylesheets)Td(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var fc=null;function Td(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,fc=new Map,i.forEach(tS,t),fc=null,hc.call(t))}function tS(t,i){if(!(i.state.loading&4)){var a=fc.get(t);if(a)var l=a.get(null);else{a=new Map,fc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=hc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var hl={$$typeof:L,Provider:null,Consumer:null,_currentValue:Re,_currentValue2:Re,_threadCount:0};function nS(t,i,a,l,h,d,v,T){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ws(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ws(0),this.hiddenUpdates=Ws(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function n_(t,i,a,l,h,d,v,T,R,P,G,W){return t=new nS(t,i,a,v,T,R,P,W),i=1,d===!0&&(i|=24),d=Dn(3,null,null,i),t.current=d,d.stateNode=t,i=Zh(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Vf(d),t}function i_(t){return t?(t=ma,t):ma}function r_(t,i,a,l,h,d){h=i_(h),l.context===null?l.context=h:l.pendingContext=h,l=Sr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=wr(t,l,i),a!==null&&(tn(a,t,i),Yo(a,t,i))}function s_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Ad(t,i){s_(t,i),(t=t.alternate)&&s_(t,i)}function a_(t){if(t.tag===13){var i=gr(t,67108864);i!==null&&tn(i,t,67108864),Ad(t,67108864)}}var dc=!0;function iS(t,i,a,l){var h=S.T;S.T=null;var d=se.p;try{se.p=2,Sd(t,i,a,l)}finally{se.p=d,S.T=h}}function rS(t,i,a,l){var h=S.T;S.T=null;var d=se.p;try{se.p=8,Sd(t,i,a,l)}finally{se.p=d,S.T=h}}function Sd(t,i,a,l){if(dc){var h=wd(l);if(h===null)hd(t,i,l,mc,a),l_(t,l);else if(aS(h,t,i,a,l))l.stopPropagation();else if(l_(t,l),i&4&&-1<sS.indexOf(t)){for(;h!==null;){var d=vi(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Vn(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var R=1<<31-Wt(v);T.entanglements[1]|=R,v&=~R}ri(d),(tt&6)===0&&(Wu=nn()+500,sl(0))}}break;case 13:T=gr(d,2),T!==null&&tn(T,d,2),ec(),Ad(d,2)}if(d=wd(l),d===null&&hd(t,i,l,mc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else hd(t,i,l,null,a)}}function wd(t){return t=na(t),bd(t)}var mc=null;function bd(t){if(mc=null,t=Pn(t),t!==null){var i=fe(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=qe(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return mc=t,null}function o_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Jl()){case _t:return 2;case It:return 8;case yi:case eu:return 32;case fo:return 268435456;default:return 32}default:return 32}}var Rd=!1,Nr=null,Mr=null,Vr=null,fl=new Map,dl=new Map,Pr=[],sS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function l_(t,i){switch(t){case"focusin":case"focusout":Nr=null;break;case"dragenter":case"dragleave":Mr=null;break;case"mouseover":case"mouseout":Vr=null;break;case"pointerover":case"pointerout":fl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":dl.delete(i.pointerId)}}function ml(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=vi(i),i!==null&&a_(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function aS(t,i,a,l,h){switch(i){case"focusin":return Nr=ml(Nr,t,i,a,l,h),!0;case"dragenter":return Mr=ml(Mr,t,i,a,l,h),!0;case"mouseover":return Vr=ml(Vr,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return fl.set(d,ml(fl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,dl.set(d,ml(dl.get(d)||null,t,i,a,l,h)),!0}return!1}function u_(t){var i=Pn(t.target);if(i!==null){var a=fe(i);if(a!==null){if(i=a.tag,i===13){if(i=qe(a),i!==null){t.blockedOn=i,or(t.priority,function(){if(a.tag===13){var l=dn(),h=gr(a,l);h!==null&&tn(h,a,l),Ad(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function pc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=wd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);vn=l,a.target.dispatchEvent(l),vn=null}else return i=vi(a),i!==null&&a_(i),t.blockedOn=a,!1;i.shift()}return!0}function c_(t,i,a){pc(t)&&a.delete(i)}function oS(){Rd=!1,Nr!==null&&pc(Nr)&&(Nr=null),Mr!==null&&pc(Mr)&&(Mr=null),Vr!==null&&pc(Vr)&&(Vr=null),fl.forEach(c_),dl.forEach(c_)}function gc(t,i){t.blockedOn===i&&(t.blockedOn=null,Rd||(Rd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,oS)))}var yc=null;function h_(t){yc!==t&&(yc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){yc===t&&(yc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(bd(l||a)===null)continue;break}var d=vi(a);d!==null&&(t.splice(i,3),i-=3,pf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function pl(t){function i(R){return gc(R,t)}Nr!==null&&gc(Nr,t),Mr!==null&&gc(Mr,t),Vr!==null&&gc(Vr,t),fl.forEach(i),dl.forEach(i);for(var a=0;a<Pr.length;a++){var l=Pr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Pr.length&&(a=Pr[0],a.blockedOn===null);)u_(a),a.blockedOn===null&&Pr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[vt]||null;if(typeof d=="function")v||h_(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[vt]||null)T=v.formAction;else if(bd(h)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),h_(a)}}}function Cd(t){this._internalRoot=t}_c.prototype.render=Cd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=dn();r_(a,l,t,i,null,null)},_c.prototype.unmount=Cd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;t.tag===0&&Na(),r_(t.current,2,null,t,null,null),ec(),i[_i]=null}};function _c(t){this._internalRoot=t}_c.prototype.unstable_scheduleHydration=function(t){if(t){var i=su();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Pr.length&&i!==0&&i<Pr[a].priority;a++);Pr.splice(a,0,t),a===0&&u_(t)}};var f_=e.version;if(f_!=="19.0.0")throw Error(s(527,f_,"19.0.0"));se.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=ee(i),t=t!==null?ce(t):null,t=t===null?null:t.stateNode,t};var lS={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:S,findFiberByHostInstance:Pn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vc.isDisabled&&vc.supportsFiber)try{tr=vc.inject(lS),jt=vc}catch{}}return yl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=Dg,d=Og,v=Ng,T=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=n_(t,1,!1,null,null,a,l,h,d,v,T,null),t[_i]=i.current,cd(t.nodeType===8?t.parentNode:t),new Cd(i)},yl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=Dg,v=Og,T=Ng,R=null,P=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(R=a.unstable_transitionCallbacks),a.formState!==void 0&&(P=a.formState)),i=n_(t,1,!0,i,a??null,l,h,d,v,T,R,P),i.context=i_(null),a=i.current,l=dn(),h=Sr(l),h.callback=null,wr(a,h,l),i.current.lanes=l,lt(i,l),ri(i),t[_i]=i.current,cd(t),new _c(i)},yl.version="19.0.0",yl}var A_;function vS(){if(A_)return Od.exports;A_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Od.exports=_S(),Od.exports}var ES=vS();const TS=tE(ES);var _l={},S_;function AS(){if(S_)return _l;S_=1,Object.defineProperty(_l,"__esModule",{value:!0}),_l.parse=f,_l.serialize=y;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const D=function(){};return D.prototype=Object.create(null),D})();function f(D,L){const z=new u,K=D.length;if(K<2)return z;const q=(L==null?void 0:L.decode)||E;let Q=0;do{const Z=D.indexOf("=",Q);if(Z===-1)break;const ne=D.indexOf(";",Q),pe=ne===-1?K:ne;if(Z>pe){Q=D.lastIndexOf(";",Z-1)+1;continue}const le=m(D,Q,Z),Se=p(D,Z,le),M=D.slice(le,Se);if(z[M]===void 0){let b=m(D,Z+1,pe),S=p(D,pe,b);const C=q(D.slice(b,S));z[M]=C}Q=pe+1}while(Q<K);return z}function m(D,L,z){do{const K=D.charCodeAt(L);if(K!==32&&K!==9)return L}while(++L<z);return z}function p(D,L,z){for(;L>z;){const K=D.charCodeAt(--L);if(K!==32&&K!==9)return L+1}return z}function y(D,L,z){const K=(z==null?void 0:z.encode)||encodeURIComponent;if(!r.test(D))throw new TypeError(`argument name is invalid: ${D}`);const q=K(L);if(!e.test(q))throw new TypeError(`argument val is invalid: ${L}`);let Q=D+"="+q;if(!z)return Q;if(z.maxAge!==void 0){if(!Number.isInteger(z.maxAge))throw new TypeError(`option maxAge is invalid: ${z.maxAge}`);Q+="; Max-Age="+z.maxAge}if(z.domain){if(!n.test(z.domain))throw new TypeError(`option domain is invalid: ${z.domain}`);Q+="; Domain="+z.domain}if(z.path){if(!s.test(z.path))throw new TypeError(`option path is invalid: ${z.path}`);Q+="; Path="+z.path}if(z.expires){if(!w(z.expires)||!Number.isFinite(z.expires.valueOf()))throw new TypeError(`option expires is invalid: ${z.expires}`);Q+="; Expires="+z.expires.toUTCString()}if(z.httpOnly&&(Q+="; HttpOnly"),z.secure&&(Q+="; Secure"),z.partitioned&&(Q+="; Partitioned"),z.priority)switch(typeof z.priority=="string"?z.priority.toLowerCase():void 0){case"low":Q+="; Priority=Low";break;case"medium":Q+="; Priority=Medium";break;case"high":Q+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${z.priority}`)}if(z.sameSite)switch(typeof z.sameSite=="string"?z.sameSite.toLowerCase():z.sameSite){case!0:case"strict":Q+="; SameSite=Strict";break;case"lax":Q+="; SameSite=Lax";break;case"none":Q+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${z.sameSite}`)}return Q}function E(D){if(D.indexOf("%")===-1)return D;try{return decodeURIComponent(D)}catch{return D}}function w(D){return o.call(D)==="[object Date]"}return _l}AS();/**
 * react-router v7.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var w_="popstate";function SS(r={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return Yd("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Ol(o)}return bS(e,n,null,r)}function bt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function hi(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function wS(){return Math.random().toString(36).substring(2,10)}function b_(r,e){return{usr:r.state,key:r.key,idx:e}}function Yd(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Hl(e):e,state:n,key:e&&e.key||s||wS()}}function Ol({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Hl(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function bS(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function w(){m="POP";let q=E(),Q=q==null?null:q-y;y=q,p&&p({action:m,location:K.location,delta:Q})}function D(q,Q){m="PUSH";let Z=Yd(K.location,q,Q);y=E()+1;let ne=b_(Z,y),pe=K.createHref(Z);try{f.pushState(ne,"",pe)}catch(le){if(le instanceof DOMException&&le.name==="DataCloneError")throw le;o.location.assign(pe)}u&&p&&p({action:m,location:K.location,delta:1})}function L(q,Q){m="REPLACE";let Z=Yd(K.location,q,Q);y=E();let ne=b_(Z,y),pe=K.createHref(Z);f.replaceState(ne,"",pe),u&&p&&p({action:m,location:K.location,delta:0})}function z(q){let Q=o.location.origin!=="null"?o.location.origin:o.location.href,Z=typeof q=="string"?q:Ol(q);return Z=Z.replace(/ $/,"%20"),bt(Q,`No window.location.(origin|href) available to create URL for href: ${Z}`),new URL(Z,Q)}let K={get action(){return m},get location(){return r(o,f)},listen(q){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(w_,w),p=q,()=>{o.removeEventListener(w_,w),p=null}},createHref(q){return e(o,q)},createURL:z,encodeLocation(q){let Q=z(q);return{pathname:Q.pathname,search:Q.search,hash:Q.hash}},push:D,replace:L,go(q){return f.go(q)}};return K}function nE(r,e,n="/"){return RS(r,e,n,!1)}function RS(r,e,n,s){let o=typeof e=="string"?Hl(e):e,u=Ki(o.pathname||"/",n);if(u==null)return null;let f=iE(r);CS(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let y=US(u);m=LS(f[p],y,s)}return m}function iE(r,e=[],n=[],s=""){let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(bt(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let y=Gi([s,p.relativePath]),E=n.concat(p);u.children&&u.children.length>0&&(bt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),iE(u.children,e,E,y)),!(u.path==null&&!u.index)&&e.push({path:y,score:PS(y,u.index),routesMeta:E})};return r.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let p of rE(u.path))o(u,f,p)}),e}function rE(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=rE(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function CS(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:kS(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var IS=/^:[\w-]+$/,DS=3,OS=2,NS=1,MS=10,VS=-2,R_=r=>r==="*";function PS(r,e){let n=r.split("/"),s=n.length;return n.some(R_)&&(s+=VS),e&&(s+=OS),n.filter(o=>!R_(o)).reduce((o,u)=>o+(IS.test(u)?DS:u===""?NS:MS),s)}function kS(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function LS(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],y=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",w=Bc({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},E),D=p.route;if(!w&&y&&n&&!s[s.length-1].route.index&&(w=Bc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!w)return null;Object.assign(o,w.params),f.push({params:o,pathname:Gi([u,w.pathname]),pathnameBase:qS(Gi([u,w.pathnameBase])),route:D}),w.pathnameBase!=="/"&&(u=Gi([u,w.pathnameBase]))}return f}function Bc(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=xS(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:w},D)=>{if(E==="*"){let z=m[D]||"";f=u.slice(0,u.length-z.length).replace(/(.)\/+$/,"$1")}const L=m[D];return w&&!L?y[E]=void 0:y[E]=(L||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:r}}function xS(r,e=!1,n=!0){hi(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function US(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return hi(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Ki(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function zS(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?Hl(r):r;return{pathname:n?n.startsWith("/")?n:BS(n,e):e,search:jS(s),hash:FS(o)}}function BS(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Pd(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function HS(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function sE(r){let e=HS(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function aE(r,e,n,s=!1){let o;typeof r=="string"?o=Hl(r):(o={...r},bt(!o.pathname||!o.pathname.includes("?"),Pd("?","pathname","search",o)),bt(!o.pathname||!o.pathname.includes("#"),Pd("#","pathname","hash",o)),bt(!o.search||!o.search.includes("#"),Pd("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let w=e.length-1;if(!s&&f.startsWith("..")){let D=f.split("/");for(;D[0]==="..";)D.shift(),w-=1;o.pathname=D.join("/")}m=w>=0?e[w]:"/"}let p=zS(o,m),y=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(y||E)&&(p.pathname+="/"),p}var Gi=r=>r.join("/").replace(/\/\/+/g,"/"),qS=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),jS=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,FS=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function GS(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var oE=["POST","PUT","PATCH","DELETE"];new Set(oE);var KS=["GET",...oE];new Set(KS);var no=Y.createContext(null);no.displayName="DataRouter";var ah=Y.createContext(null);ah.displayName="DataRouterState";var lE=Y.createContext({isTransitioning:!1});lE.displayName="ViewTransition";var QS=Y.createContext(new Map);QS.displayName="Fetchers";var YS=Y.createContext(null);YS.displayName="Await";var mi=Y.createContext(null);mi.displayName="Navigation";var oh=Y.createContext(null);oh.displayName="Location";var Wi=Y.createContext({outlet:null,matches:[],isDataRoute:!1});Wi.displayName="Route";var vm=Y.createContext(null);vm.displayName="RouteError";function $S(r,{relative:e}={}){bt(ql(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=Y.useContext(mi),{hash:o,pathname:u,search:f}=jl(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:Gi([n,u])),s.createHref({pathname:m,search:f,hash:o})}function ql(){return Y.useContext(oh)!=null}function Hs(){return bt(ql(),"useLocation() may be used only in the context of a <Router> component."),Y.useContext(oh).location}var uE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function cE(r){Y.useContext(mi).static||Y.useLayoutEffect(r)}function Em(){let{isDataRoute:r}=Y.useContext(Wi);return r?lw():XS()}function XS(){bt(ql(),"useNavigate() may be used only in the context of a <Router> component.");let r=Y.useContext(no),{basename:e,navigator:n}=Y.useContext(mi),{matches:s}=Y.useContext(Wi),{pathname:o}=Hs(),u=JSON.stringify(sE(s)),f=Y.useRef(!1);return cE(()=>{f.current=!0}),Y.useCallback((p,y={})=>{if(hi(f.current,uE),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=aE(p,JSON.parse(u),o,y.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Gi([e,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[e,n,u,o,r])}Y.createContext(null);function jl(r,{relative:e}={}){let{matches:n}=Y.useContext(Wi),{pathname:s}=Hs(),o=JSON.stringify(sE(n));return Y.useMemo(()=>aE(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function WS(r,e,n,s){bt(ql(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=Y.useContext(mi),{matches:f}=Y.useContext(Wi),m=f[f.length-1],p=m?m.params:{},y=m?m.pathname:"/",E=m?m.pathnameBase:"/",w=m&&m.route;{let Z=w&&w.path||"";hE(y,!w||Z.endsWith("*")||Z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${Z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Z}"> to <Route path="${Z==="/"?"*":`${Z}/*`}">.`)}let D=Hs(),L;L=D;let z=L.pathname||"/",K=z;if(E!=="/"){let Z=E.replace(/^\//,"").split("/");K="/"+z.replace(/^\//,"").split("/").slice(Z.length).join("/")}let q=!u&&n&&n.matches&&n.matches.length>0?n.matches:nE(r,{pathname:K});return hi(w||q!=null,`No routes matched location "${L.pathname}${L.search}${L.hash}" `),hi(q==null||q[q.length-1].route.element!==void 0||q[q.length-1].route.Component!==void 0||q[q.length-1].route.lazy!==void 0,`Matched leaf route at location "${L.pathname}${L.search}${L.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),nw(q&&q.map(Z=>Object.assign({},Z,{params:Object.assign({},p,Z.params),pathname:Gi([E,o.encodeLocation?o.encodeLocation(Z.pathname).pathname:Z.pathname]),pathnameBase:Z.pathnameBase==="/"?E:Gi([E,o.encodeLocation?o.encodeLocation(Z.pathnameBase).pathname:Z.pathnameBase])})),f,n,s)}function ZS(){let r=ow(),e=GS(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=Y.createElement(Y.Fragment,null,Y.createElement("p",null," Hey developer "),Y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Y.createElement("code",{style:u},"ErrorBoundary")," or"," ",Y.createElement("code",{style:u},"errorElement")," prop on your route.")),Y.createElement(Y.Fragment,null,Y.createElement("h2",null,"Unexpected Application Error!"),Y.createElement("h3",{style:{fontStyle:"italic"}},e),n?Y.createElement("pre",{style:o},n):null,f)}var JS=Y.createElement(ZS,null),ew=class extends Y.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?Y.createElement(Wi.Provider,{value:this.props.routeContext},Y.createElement(vm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function tw({routeContext:r,match:e,children:n}){let s=Y.useContext(no);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),Y.createElement(Wi.Provider,{value:r},n)}function nw(r,e=[],n=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(y=>y.route.id&&(u==null?void 0:u[y.route.id])!==void 0);bt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let y=o[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=p),y.route.id){let{loaderData:E,errors:w}=n,D=y.route.loader&&!E.hasOwnProperty(y.route.id)&&(!w||w[y.route.id]===void 0);if(y.route.lazy||D){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,y,E)=>{let w,D=!1,L=null,z=null;n&&(w=u&&y.route.id?u[y.route.id]:void 0,L=y.route.errorElement||JS,f&&(m<0&&E===0?(hE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),D=!0,z=null):m===E&&(D=!0,z=y.route.hydrateFallbackElement||null)));let K=e.concat(o.slice(0,E+1)),q=()=>{let Q;return w?Q=L:D?Q=z:y.route.Component?Q=Y.createElement(y.route.Component,null):y.route.element?Q=y.route.element:Q=p,Y.createElement(tw,{match:y,routeContext:{outlet:p,matches:K,isDataRoute:n!=null},children:Q})};return n&&(y.route.ErrorBoundary||y.route.errorElement||E===0)?Y.createElement(ew,{location:n.location,revalidation:n.revalidation,component:L,error:w,children:q(),routeContext:{outlet:null,matches:K,isDataRoute:!0}}):q()},null)}function Tm(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function iw(r){let e=Y.useContext(no);return bt(e,Tm(r)),e}function rw(r){let e=Y.useContext(ah);return bt(e,Tm(r)),e}function sw(r){let e=Y.useContext(Wi);return bt(e,Tm(r)),e}function Am(r){let e=sw(r),n=e.matches[e.matches.length-1];return bt(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function aw(){return Am("useRouteId")}function ow(){var s;let r=Y.useContext(vm),e=rw("useRouteError"),n=Am("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[n]}function lw(){let{router:r}=iw("useNavigate"),e=Am("useNavigate"),n=Y.useRef(!1);return cE(()=>{n.current=!0}),Y.useCallback(async(o,u={})=>{hi(n.current,uE),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var C_={};function hE(r,e,n){!e&&!C_[r]&&(C_[r]=!0,hi(!1,n))}Y.memo(uw);function uw({routes:r,future:e,state:n}){return WS(r,void 0,n,e)}function cw({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){bt(!ql(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=Y.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=Hl(n));let{pathname:p="/",search:y="",hash:E="",state:w=null,key:D="default"}=n,L=Y.useMemo(()=>{let z=Ki(p,f);return z==null?null:{location:{pathname:z,search:y,hash:E,state:w,key:D},navigationType:s}},[f,p,y,E,w,D,s]);return hi(L!=null,`<Router basename="${f}"> is not able to match the URL "${p}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),L==null?null:Y.createElement(mi.Provider,{value:m},Y.createElement(oh.Provider,{children:e,value:L}))}var Ic="get",Dc="application/x-www-form-urlencoded";function lh(r){return r!=null&&typeof r.tagName=="string"}function hw(r){return lh(r)&&r.tagName.toLowerCase()==="button"}function fw(r){return lh(r)&&r.tagName.toLowerCase()==="form"}function dw(r){return lh(r)&&r.tagName.toLowerCase()==="input"}function mw(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function pw(r,e){return r.button===0&&(!e||e==="_self")&&!mw(r)}var Ec=null;function gw(){if(Ec===null)try{new FormData(document.createElement("form"),0),Ec=!1}catch{Ec=!0}return Ec}var yw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function kd(r){return r!=null&&!yw.has(r)?(hi(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Dc}"`),null):r}function _w(r,e){let n,s,o,u,f;if(fw(r)){let m=r.getAttribute("action");s=m?Ki(m,e):null,n=r.getAttribute("method")||Ic,o=kd(r.getAttribute("enctype"))||Dc,u=new FormData(r)}else if(hw(r)||dw(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?Ki(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Ic,o=kd(r.getAttribute("formenctype"))||kd(m.getAttribute("enctype"))||Dc,u=new FormData(m,r),!gw()){let{name:y,type:E,value:w}=r;if(E==="image"){let D=y?`${y}.`:"";u.append(`${D}x`,"0"),u.append(`${D}y`,"0")}else y&&u.append(y,w)}}else{if(lh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ic,s=null,o=Dc,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}function Sm(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function vw(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ew(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Tw(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await vw(u,n);return f.links?f.links():[]}return[]}));return bw(s.flat(1).filter(Ew).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function I_(r,e,n,s,o,u){let f=(p,y)=>n[y]?p.route.id!==n[y].route.id:!0,m=(p,y)=>{var E;return n[y].pathname!==p.pathname||((E=n[y].route.path)==null?void 0:E.endsWith("*"))&&n[y].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,y)=>f(p,y)||m(p,y)):u==="data"?e.filter((p,y)=>{var w;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,y)||m(p,y))return!0;if(p.route.shouldRevalidate){let D=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((w=n[0])==null?void 0:w.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof D=="boolean")return D}return!0}):[]}function Aw(r,e,{includeHydrateFallback:n}={}){return Sw(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function Sw(r){return[...new Set(r)]}function ww(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function bw(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(ww(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function Rw(r,e){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname="_root.data":e&&Ki(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function fE(){let r=Y.useContext(no);return Sm(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Cw(){let r=Y.useContext(ah);return Sm(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var wm=Y.createContext(void 0);wm.displayName="FrameworkContext";function dE(){let r=Y.useContext(wm);return Sm(r,"You must render this element inside a <HydratedRouter> element"),r}function Iw(r,e){let n=Y.useContext(wm),[s,o]=Y.useState(!1),[u,f]=Y.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:y,onMouseLeave:E,onTouchStart:w}=e,D=Y.useRef(null);Y.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let K=Q=>{Q.forEach(Z=>{f(Z.isIntersecting)})},q=new IntersectionObserver(K,{threshold:.5});return D.current&&q.observe(D.current),()=>{q.disconnect()}}},[r]),Y.useEffect(()=>{if(s){let K=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(K)}}},[s]);let L=()=>{o(!0)},z=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,D,{}]:[u,D,{onFocus:vl(m,L),onBlur:vl(p,z),onMouseEnter:vl(y,L),onMouseLeave:vl(E,z),onTouchStart:vl(w,L)}]:[!1,D,{}]}function vl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function Dw({page:r,...e}){let{router:n}=fE(),s=Y.useMemo(()=>nE(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?Y.createElement(Nw,{page:r,matches:s,...e}):null}function Ow(r){let{manifest:e,routeModules:n}=dE(),[s,o]=Y.useState([]);return Y.useEffect(()=>{let u=!1;return Tw(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function Nw({page:r,matches:e,...n}){let s=Hs(),{manifest:o,routeModules:u}=dE(),{basename:f}=fE(),{loaderData:m,matches:p}=Cw(),y=Y.useMemo(()=>I_(r,e,p,o,s,"data"),[r,e,p,o,s]),E=Y.useMemo(()=>I_(r,e,p,o,s,"assets"),[r,e,p,o,s]),w=Y.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let z=new Set,K=!1;if(e.forEach(Q=>{var ne;let Z=o.routes[Q.route.id];!Z||!Z.hasLoader||(!y.some(pe=>pe.route.id===Q.route.id)&&Q.route.id in m&&((ne=u[Q.route.id])!=null&&ne.shouldRevalidate)||Z.hasClientLoader?K=!0:z.add(Q.route.id))}),z.size===0)return[];let q=Rw(r,f);return K&&z.size>0&&q.searchParams.set("_routes",e.filter(Q=>z.has(Q.route.id)).map(Q=>Q.route.id).join(",")),[q.pathname+q.search]},[f,m,s,o,y,e,r,u]),D=Y.useMemo(()=>Aw(E,o),[E,o]),L=Ow(E);return Y.createElement(Y.Fragment,null,w.map(z=>Y.createElement("link",{key:z,rel:"prefetch",as:"fetch",href:z,...n})),D.map(z=>Y.createElement("link",{key:z,rel:"modulepreload",href:z,...n})),L.map(({key:z,link:K})=>Y.createElement("link",{key:z,...K})))}function Mw(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var mE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{mE&&(window.__reactRouterVersion="7.3.0")}catch{}function Vw({basename:r,children:e,window:n}){let s=Y.useRef();s.current==null&&(s.current=SS({window:n,v5Compat:!0}));let o=s.current,[u,f]=Y.useState({action:o.action,location:o.location}),m=Y.useCallback(p=>{Y.startTransition(()=>f(p))},[f]);return Y.useLayoutEffect(()=>o.listen(m),[o,m]),Y.createElement(cw,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var pE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gE=Y.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:y,preventScrollReset:E,viewTransition:w,...D},L){let{basename:z}=Y.useContext(mi),K=typeof y=="string"&&pE.test(y),q,Q=!1;if(typeof y=="string"&&K&&(q=y,mE))try{let S=new URL(window.location.href),C=y.startsWith("//")?new URL(S.protocol+y):new URL(y),V=Ki(C.pathname,z);C.origin===S.origin&&V!=null?y=V+C.search+C.hash:Q=!0}catch{hi(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Z=$S(y,{relative:o}),[ne,pe,le]=Iw(s,D),Se=xw(y,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:w});function M(S){e&&e(S),S.defaultPrevented||Se(S)}let b=Y.createElement("a",{...D,...le,href:q||Z,onClick:Q||u?e:M,ref:Mw(L,pe),target:p,"data-discover":!K&&n==="render"?"true":void 0});return ne&&!K?Y.createElement(Y.Fragment,null,b,Y.createElement(Dw,{page:Z})):b});gE.displayName="Link";var Pw=Y.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...y},E){let w=jl(f,{relative:y.relative}),D=Hs(),L=Y.useContext(ah),{navigator:z,basename:K}=Y.useContext(mi),q=L!=null&&qw(w)&&m===!0,Q=z.encodeLocation?z.encodeLocation(w).pathname:w.pathname,Z=D.pathname,ne=L&&L.navigation&&L.navigation.location?L.navigation.location.pathname:null;n||(Z=Z.toLowerCase(),ne=ne?ne.toLowerCase():null,Q=Q.toLowerCase()),ne&&K&&(ne=Ki(ne,K)||ne);const pe=Q!=="/"&&Q.endsWith("/")?Q.length-1:Q.length;let le=Z===Q||!o&&Z.startsWith(Q)&&Z.charAt(pe)==="/",Se=ne!=null&&(ne===Q||!o&&ne.startsWith(Q)&&ne.charAt(Q.length)==="/"),M={isActive:le,isPending:Se,isTransitioning:q},b=le?e:void 0,S;typeof s=="function"?S=s(M):S=[s,le?"active":null,Se?"pending":null,q?"transitioning":null].filter(Boolean).join(" ");let C=typeof u=="function"?u(M):u;return Y.createElement(gE,{...y,"aria-current":b,className:S,ref:E,style:C,to:f,viewTransition:m},typeof p=="function"?p(M):p)});Pw.displayName="NavLink";var kw=Y.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Ic,action:m,onSubmit:p,relative:y,preventScrollReset:E,viewTransition:w,...D},L)=>{let z=Bw(),K=Hw(m,{relative:y}),q=f.toLowerCase()==="get"?"get":"post",Q=typeof m=="string"&&pE.test(m),Z=ne=>{if(p&&p(ne),ne.defaultPrevented)return;ne.preventDefault();let pe=ne.nativeEvent.submitter,le=(pe==null?void 0:pe.getAttribute("formmethod"))||f;z(pe||ne.currentTarget,{fetcherKey:e,method:le,navigate:n,replace:o,state:u,relative:y,preventScrollReset:E,viewTransition:w})};return Y.createElement("form",{ref:L,method:q,action:K,onSubmit:s?p:Z,...D,"data-discover":!Q&&r==="render"?"true":void 0})});kw.displayName="Form";function Lw(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yE(r){let e=Y.useContext(no);return bt(e,Lw(r)),e}function xw(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=Em(),p=Hs(),y=jl(r,{relative:u});return Y.useCallback(E=>{if(pw(E,e)){E.preventDefault();let w=n!==void 0?n:Ol(p)===Ol(y);m(r,{replace:w,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,y,n,s,e,r,o,u,f])}var Uw=0,zw=()=>`__${String(++Uw)}__`;function Bw(){let{router:r}=yE("useSubmit"),{basename:e}=Y.useContext(mi),n=aw();return Y.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:y}=_w(s,e);if(o.navigate===!1){let E=o.fetcherKey||zw();await r.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function Hw(r,{relative:e}={}){let{basename:n}=Y.useContext(mi),s=Y.useContext(Wi);bt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...jl(r||".",{relative:e})},f=Hs();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(w=>w).forEach(w=>m.append("index",w));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Gi([n,u.pathname])),Ol(u)}function qw(r,e={}){let n=Y.useContext(lE);bt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=yE("useViewTransitionState"),o=jl(r,{relative:e.relative});if(!n.isTransitioning)return!1;let u=Ki(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=Ki(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Bc(o.pathname,f)!=null||Bc(o.pathname,u)!=null}new TextEncoder;const jw=()=>{};var D_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},Fw=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},vE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,y=p?r[o+2]:0,E=u>>2,w=(u&3)<<4|m>>4;let D=(m&15)<<2|y>>6,L=y&63;p||(L=64,f||(D=64)),s.push(n[E],n[w],n[D],n[L])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(_E(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):Fw(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const w=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||y==null||w==null)throw new Gw;const D=u<<2|m>>4;if(s.push(D),y!==64){const L=m<<4&240|y>>2;if(s.push(L),w!==64){const z=y<<6&192|w;s.push(z)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Gw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Kw=function(r){const e=_E(r);return vE.encodeByteArray(e,!0)},Hc=function(r){return Kw(r).replace(/\./g,"")},EE=function(r){try{return vE.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw=()=>Qw().__FIREBASE_DEFAULTS__,$w=()=>{if(typeof process>"u"||typeof D_>"u")return;const r=D_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Xw=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&EE(r[1]);return e&&JSON.parse(e)},uh=()=>{try{return jw()||Yw()||$w()||Xw()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},TE=r=>{var e,n;return(n=(e=uh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},Ww=r=>{const e=TE(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},AE=()=>{var r;return(r=uh())===null||r===void 0?void 0:r.config},SE=r=>{var e;return(e=uh())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jw(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Hc(JSON.stringify(n)),Hc(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function eb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($t())}function tb(){var r;const e=(r=uh())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ib(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function rb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function sb(){const r=$t();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function ab(){return!tb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ob(){try{return typeof indexedDB=="object"}catch{return!1}}function lb(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ub="FirebaseError";class Zi extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=ub,Object.setPrototypeOf(this,Zi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fl.prototype.create)}}class Fl{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?cb(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Zi(o,m,s)}}function cb(r,e){return r.replace(hb,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const hb=/\{\$([^}]+)}/g;function fb(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Ls(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(O_(u)&&O_(f)){if(!Ls(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function O_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gl(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function El(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Tl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function db(r,e){const n=new mb(r,e);return n.subscribe.bind(n)}class mb{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");pb(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Ld),o.error===void 0&&(o.error=Ld),o.complete===void 0&&(o.complete=Ld);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pb(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Ld(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(r){return r&&r._delegate?r._delegate:r}class xs{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Zw;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_b(e))try{this.getOrInitializeService({instanceIdentifier:Ps})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Ps){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ps){return this.instances.has(e)}getOptions(e=Ps){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:yb(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ps){return this.component?this.component.multipleInstances?e:Ps:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function yb(r){return r===Ps?void 0:r}function _b(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new gb(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Oe||(Oe={}));const Eb={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},Tb=Oe.INFO,Ab={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},Sb=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=Ab[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class bm{constructor(e){this.name=e,this._logLevel=Tb,this._logHandler=Sb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Eb[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const wb=(r,e)=>e.some(n=>r instanceof n);let N_,M_;function bb(){return N_||(N_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Rb(){return M_||(M_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wE=new WeakMap,$d=new WeakMap,bE=new WeakMap,xd=new WeakMap,Rm=new WeakMap;function Cb(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(qr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&wE.set(n,r)}).catch(()=>{}),Rm.set(e,r),e}function Ib(r){if($d.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});$d.set(r,e)}let Xd={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return $d.get(r);if(e==="objectStoreNames")return r.objectStoreNames||bE.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return qr(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function Db(r){Xd=r(Xd)}function Ob(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Ud(this),e,...n);return bE.set(s,e.sort?e.sort():[e]),qr(s)}:Rb().includes(r)?function(...e){return r.apply(Ud(this),e),qr(wE.get(this))}:function(...e){return qr(r.apply(Ud(this),e))}}function Nb(r){return typeof r=="function"?Ob(r):(r instanceof IDBTransaction&&Ib(r),wb(r,bb())?new Proxy(r,Xd):r)}function qr(r){if(r instanceof IDBRequest)return Cb(r);if(xd.has(r))return xd.get(r);const e=Nb(r);return e!==r&&(xd.set(r,e),Rm.set(e,r)),e}const Ud=r=>Rm.get(r);function Mb(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=qr(f);return s&&f.addEventListener("upgradeneeded",p=>{s(qr(f.result),p.oldVersion,p.newVersion,qr(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const Vb=["get","getKey","getAll","getAllKeys","count"],Pb=["put","add","delete","clear"],zd=new Map;function V_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(zd.get(e))return zd.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=Pb.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||Vb.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&p.done]))[0]};return zd.set(e,u),u}Db(r=>({...r,get:(e,n,s)=>V_(e,n)||r.get(e,n,s),has:(e,n)=>!!V_(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Lb(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function Lb(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Wd="@firebase/app",P_="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qi=new bm("@firebase/app"),xb="@firebase/app-compat",Ub="@firebase/analytics-compat",zb="@firebase/analytics",Bb="@firebase/app-check-compat",Hb="@firebase/app-check",qb="@firebase/auth",jb="@firebase/auth-compat",Fb="@firebase/database",Gb="@firebase/data-connect",Kb="@firebase/database-compat",Qb="@firebase/functions",Yb="@firebase/functions-compat",$b="@firebase/installations",Xb="@firebase/installations-compat",Wb="@firebase/messaging",Zb="@firebase/messaging-compat",Jb="@firebase/performance",eR="@firebase/performance-compat",tR="@firebase/remote-config",nR="@firebase/remote-config-compat",iR="@firebase/storage",rR="@firebase/storage-compat",sR="@firebase/firestore",aR="@firebase/vertexai",oR="@firebase/firestore-compat",lR="firebase",uR="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zd="[DEFAULT]",cR={[Wd]:"fire-core",[xb]:"fire-core-compat",[zb]:"fire-analytics",[Ub]:"fire-analytics-compat",[Hb]:"fire-app-check",[Bb]:"fire-app-check-compat",[qb]:"fire-auth",[jb]:"fire-auth-compat",[Fb]:"fire-rtdb",[Gb]:"fire-data-connect",[Kb]:"fire-rtdb-compat",[Qb]:"fire-fn",[Yb]:"fire-fn-compat",[$b]:"fire-iid",[Xb]:"fire-iid-compat",[Wb]:"fire-fcm",[Zb]:"fire-fcm-compat",[Jb]:"fire-perf",[eR]:"fire-perf-compat",[tR]:"fire-rc",[nR]:"fire-rc-compat",[iR]:"fire-gcs",[rR]:"fire-gcs-compat",[sR]:"fire-fst",[oR]:"fire-fst-compat",[aR]:"fire-vertex","fire-js":"fire-js",[lR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qc=new Map,hR=new Map,Jd=new Map;function k_(r,e){try{r.container.addComponent(e)}catch(n){Qi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Qa(r){const e=r.name;if(Jd.has(e))return Qi.debug(`There were multiple attempts to register component ${e}.`),!1;Jd.set(e,r);for(const n of qc.values())k_(n,r);for(const n of hR.values())k_(n,r);return!0}function Cm(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function zn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},jr=new Fl("app","Firebase",fR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new xs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw jr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io=uR;function RE(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Zd,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw jr.create("bad-app-name",{appName:String(o)});if(n||(n=AE()),!n)throw jr.create("no-options");const u=qc.get(o);if(u){if(Ls(n,u.options)&&Ls(s,u.config))return u;throw jr.create("duplicate-app",{appName:o})}const f=new vb(o);for(const p of Jd.values())f.addComponent(p);const m=new dR(n,s,f);return qc.set(o,m),m}function CE(r=Zd){const e=qc.get(r);if(!e&&r===Zd&&AE())return RE();if(!e)throw jr.create("no-app",{appName:r});return e}function Fr(r,e,n){var s;let o=(s=cR[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qi.warn(m.join(" "));return}Qa(new xs(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR="firebase-heartbeat-database",pR=1,Nl="firebase-heartbeat-store";let Bd=null;function IE(){return Bd||(Bd=Mb(mR,pR,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Nl)}catch(n){console.warn(n)}}}}).catch(r=>{throw jr.create("idb-open",{originalErrorMessage:r.message})})),Bd}async function gR(r){try{const n=(await IE()).transaction(Nl),s=await n.objectStore(Nl).get(DE(r));return await n.done,s}catch(e){if(e instanceof Zi)Qi.warn(e.message);else{const n=jr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Qi.warn(n.message)}}}async function L_(r,e){try{const s=(await IE()).transaction(Nl,"readwrite");await s.objectStore(Nl).put(e,DE(r)),await s.done}catch(n){if(n instanceof Zi)Qi.warn(n.message);else{const s=jr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Qi.warn(s.message)}}}function DE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR=1024,_R=30;class vR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new TR(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=x_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>_R){const f=AR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Qi.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=x_(),{heartbeatsToSend:s,unsentEntries:o}=ER(this._heartbeatsCache.heartbeats),u=Hc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Qi.warn(n),""}}}function x_(){return new Date().toISOString().substring(0,10)}function ER(r,e=yR){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),U_(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),U_(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class TR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ob()?lb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await gR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return L_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return L_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function U_(r){return Hc(JSON.stringify({version:2,heartbeats:r})).length}function AR(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SR(r){Qa(new xs("platform-logger",e=>new kb(e),"PRIVATE")),Qa(new xs("heartbeat",e=>new vR(e),"PRIVATE")),Fr(Wd,P_,r),Fr(Wd,P_,"esm2017"),Fr("fire-js","")}SR("");function Im(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function OE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const wR=OE,NE=new Fl("auth","Firebase",OE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jc=new bm("@firebase/auth");function bR(r,...e){jc.logLevel<=Oe.WARN&&jc.warn(`Auth (${io}): ${r}`,...e)}function Oc(r,...e){jc.logLevel<=Oe.ERROR&&jc.error(`Auth (${io}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qn(r,...e){throw Dm(r,...e)}function ai(r,...e){return Dm(r,...e)}function ME(r,e,n){const s=Object.assign(Object.assign({},wR()),{[e]:n});return new Fl("auth","Firebase",s).create(e,{appName:r.name})}function Gr(r){return ME(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Dm(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return NE.create(r,...e)}function ye(r,e,...n){if(!r)throw Dm(e,...n)}function qi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Oc(e),new Error(e)}function Yi(r,e){r||qi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function em(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function RR(){return z_()==="http:"||z_()==="https:"}function z_(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(RR()||ib()||"connection"in navigator)?navigator.onLine:!0}function IR(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e,n){this.shortDelay=e,this.longDelay=n,Yi(n>e,"Short delay should be less than long delay!"),this.isMobile=eb()||rb()}get(){return CR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Om(r,e){Yi(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;qi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;qi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;qi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR=new Kl(3e4,6e4);function qs(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function ts(r,e,n,s,o={}){return PE(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=Gl(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const y=Object.assign({method:e,headers:p},u);return nb()||(y.referrerPolicy="no-referrer"),VE.fetch()(kE(r,r.config.apiHost,n,m),y)})}async function PE(r,e,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},DR),e);try{const o=new MR(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Tc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Tc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Tc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw Tc(r,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw ME(r,E,y);qn(r,E)}}catch(o){if(o instanceof Zi)throw o;qn(r,"network-request-failed",{message:String(o)})}}async function ch(r,e,n,s,o={}){const u=await ts(r,e,n,s,o);return"mfaPendingCredential"in u&&qn(r,"multi-factor-auth-required",{_serverResponse:u}),u}function kE(r,e,n,s){const o=`${e}${n}?${s}`;return r.config.emulator?Om(r.config,o):`${r.config.apiScheme}://${o}`}function NR(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class MR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ai(this.auth,"network-request-failed")),OR.get())})}}function Tc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=ai(r,e,s);return o.customData._tokenResponse=n,o}function B_(r){return r!==void 0&&r.enterprise!==void 0}class VR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return NR(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function PR(r,e){return ts(r,"GET","/v2/recaptchaConfig",qs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kR(r,e){return ts(r,"POST","/v1/accounts:delete",e)}async function LE(r,e){return ts(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function LR(r,e=!1){const n=mn(r),s=await n.getIdToken(e),o=Nm(s);ye(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:bl(Hd(o.auth_time)),issuedAtTime:bl(Hd(o.iat)),expirationTime:bl(Hd(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Hd(r){return Number(r)*1e3}function Nm(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return Oc("JWT malformed, contained fewer than 3 sections"),null;try{const o=EE(n);return o?JSON.parse(o):(Oc("Failed to decode base64 JWT payload"),null)}catch(o){return Oc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function H_(r){const e=Nm(r);return ye(e,"internal-error"),ye(typeof e.exp<"u","internal-error"),ye(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ml(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Zi&&xR(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function xR({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=bl(this.lastLoginAt),this.creationTime=bl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fc(r){var e;const n=r.auth,s=await r.getIdToken(),o=await Ml(r,LE(n,{idToken:s}));ye(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?xE(u.providerUserInfo):[],m=BR(r.providerData,f),p=r.isAnonymous,y=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),E=p?y:!1,w={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new tm(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(r,w)}async function zR(r){const e=mn(r);await Fc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function BR(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function xE(r){return r.map(e=>{var{providerId:n}=e,s=Im(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HR(r,e){const n=await PE(r,{},async()=>{const s=Gl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=kE(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",VE.fetch()(f,{method:"POST",headers:m,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function qR(r,e){return ts(r,"POST","/v2/accounts:revokeToken",qs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ye(e.idToken,"internal-error"),ye(typeof e.idToken<"u","internal-error"),ye(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):H_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ye(e.length!==0,"internal-error");const n=H_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ye(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await HR(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new ja;return s&&(ye(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(ye(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(ye(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ja,this.toJSON())}_performRefresh(){return qi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lr(r,e){ye(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ji{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=Im(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new UR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new tm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await Ml(this,this.stsTokenManager.getToken(this.auth,e));return ye(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return LR(this,e)}reload(){return zR(this)}_assign(e){this!==e&&(ye(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ji(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Fc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(zn(this.auth.app))return Promise.reject(Gr(this.auth));const e=await this.getIdToken();return await Ml(this,kR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,f,m,p,y,E;const w=(s=n.displayName)!==null&&s!==void 0?s:void 0,D=(o=n.email)!==null&&o!==void 0?o:void 0,L=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,z=(f=n.photoURL)!==null&&f!==void 0?f:void 0,K=(m=n.tenantId)!==null&&m!==void 0?m:void 0,q=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,Q=(y=n.createdAt)!==null&&y!==void 0?y:void 0,Z=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:ne,emailVerified:pe,isAnonymous:le,providerData:Se,stsTokenManager:M}=n;ye(ne&&M,e,"internal-error");const b=ja.fromJSON(this.name,M);ye(typeof ne=="string",e,"internal-error"),Lr(w,e.name),Lr(D,e.name),ye(typeof pe=="boolean",e,"internal-error"),ye(typeof le=="boolean",e,"internal-error"),Lr(L,e.name),Lr(z,e.name),Lr(K,e.name),Lr(q,e.name),Lr(Q,e.name),Lr(Z,e.name);const S=new ji({uid:ne,auth:e,email:D,emailVerified:pe,displayName:w,isAnonymous:le,photoURL:z,phoneNumber:L,tenantId:K,stsTokenManager:b,createdAt:Q,lastLoginAt:Z});return Se&&Array.isArray(Se)&&(S.providerData=Se.map(C=>Object.assign({},C))),q&&(S._redirectEventId=q),S}static async _fromIdTokenResponse(e,n,s=!1){const o=new ja;o.updateFromServerResponse(n);const u=new ji({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Fc(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];ye(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?xE(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new ja;m.updateFromIdToken(s);const p=new ji({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new tm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_=new Map;function Fi(r){Yi(r instanceof Function,"Expected a class definition");let e=q_.get(r);return e?(Yi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,q_.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}UE.type="NONE";const j_=UE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nc(r,e,n){return`firebase:${r}:${e}:${n}`}class Fa{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Nc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Nc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ji._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Fa(Fi(j_),e,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||Fi(j_);const f=Nc(s,e.config.apiKey,e.name);let m=null;for(const y of n)try{const E=await y._get(f);if(E){const w=ji._fromJSON(e,E);y!==u&&(m=w),u=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Fa(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new Fa(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F_(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(qE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(zE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(FE(e))return"Blackberry";if(GE(e))return"Webos";if(BE(e))return"Safari";if((e.includes("chrome/")||HE(e))&&!e.includes("edge/"))return"Chrome";if(jE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function zE(r=$t()){return/firefox\//i.test(r)}function BE(r=$t()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function HE(r=$t()){return/crios\//i.test(r)}function qE(r=$t()){return/iemobile/i.test(r)}function jE(r=$t()){return/android/i.test(r)}function FE(r=$t()){return/blackberry/i.test(r)}function GE(r=$t()){return/webos/i.test(r)}function Mm(r=$t()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function jR(r=$t()){var e;return Mm(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function FR(){return sb()&&document.documentMode===10}function KE(r=$t()){return Mm(r)||jE(r)||GE(r)||FE(r)||/windows phone/i.test(r)||qE(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QE(r,e=[]){let n;switch(r){case"Browser":n=F_($t());break;case"Worker":n=`${F_($t())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${io}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KR(r,e={}){return ts(r,"GET","/v2/passwordPolicy",qs(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR=6;class YR{constructor(e){var n,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:QR,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new G_(this),this.idTokenSubscription=new G_(this),this.beforeStateQueue=new GR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=NE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Fi(n)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await Fa.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await LE(this,{idToken:e}),s=await ji._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(zn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return ye(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Fc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=IR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(zn(this.app))return Promise.reject(Gr(this));const n=e?mn(e):null;return n&&ye(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ye(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return zn(this.app)?Promise.reject(Gr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return zn(this.app)?Promise.reject(Gr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Fi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await KR(this),n=new YR(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Fl("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await qR(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Fi(e)||this._popupRedirectResolver;ye(n,this,"argument-error"),this.redirectPersistenceManager=await Fa.create(this,[Fi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ye(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=QE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&bR(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ro(r){return mn(r)}class G_{constructor(e){this.auth=e,this.observer=null,this.addObserver=db(n=>this.observer=n)}get next(){return ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function XR(r){hh=r}function YE(r){return hh.loadJS(r)}function WR(){return hh.recaptchaEnterpriseScript}function ZR(){return hh.gapiScript}function JR(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class eC{constructor(){this.enterprise=new tC}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class tC{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const nC="recaptcha-enterprise",$E="NO_RECAPTCHA";class iC{constructor(e){this.type=nC,this.auth=ro(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{PR(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new VR(p);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;B_(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(y=>{f(y)}).catch(()=>{f($E)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new eC().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&B_(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=WR();p.length!==0&&(p+=m),YE(p).then(()=>{o(m,u,f)}).catch(y=>{f(y)})}}).catch(m=>{f(m)})})}}async function K_(r,e,n,s=!1,o=!1){const u=new iC(r);let f;if(o)f=$E;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Q_(r,e,n,s,o){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await K_(r,e,n,n==="getOobCode");return s(r,f)}else return s(r,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await K_(r,e,n,n==="getOobCode");return s(r,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rC(r,e){const n=Cm(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Ls(u,e??{}))return o;qn(o,"already-initialized")}return n.initialize({options:e})}function sC(r,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Fi);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function aC(r,e,n){const s=ro(r);ye(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=XE(e),{host:f,port:m}=oC(e),p=m===null?"":`:${m}`,y={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ye(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ye(Ls(y,s.config.emulator)&&Ls(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,lC()}function XE(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function oC(r){const e=XE(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:Y_(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:Y_(f)}}}function Y_(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function lC(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return qi("not implemented")}_getIdTokenResponse(e){return qi("not implemented")}_linkToIdToken(e,n){return qi("not implemented")}_getReauthenticationResolver(e){return qi("not implemented")}}async function uC(r,e){return ts(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cC(r,e){return ch(r,"POST","/v1/accounts:signInWithPassword",qs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hC(r,e){return ch(r,"POST","/v1/accounts:signInWithEmailLink",qs(r,e))}async function fC(r,e){return ch(r,"POST","/v1/accounts:signInWithEmailLink",qs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl extends Vm{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Vl(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Vl(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Q_(e,n,"signInWithPassword",cC);case"emailLink":return hC(e,{email:this._email,oobCode:this._password});default:qn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Q_(e,s,"signUpPassword",uC);case"emailLink":return fC(e,{idToken:n,email:this._email,oobCode:this._password});default:qn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ga(r,e){return ch(r,"POST","/v1/accounts:signInWithIdp",qs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC="http://localhost";class Us extends Vm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Us(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):qn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=Im(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new Us(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return Ga(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Ga(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ga(e,n)}buildRequest(){const e={requestUri:dC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Gl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mC(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function pC(r){const e=El(Tl(r)).link,n=e?El(Tl(e)).deep_link_id:null,s=El(Tl(r)).deep_link_id;return(s?El(Tl(s)).link:null)||s||n||e||r}class Pm{constructor(e){var n,s,o,u,f,m;const p=El(Tl(e)),y=(n=p.apiKey)!==null&&n!==void 0?n:null,E=(s=p.oobCode)!==null&&s!==void 0?s:null,w=mC((o=p.mode)!==null&&o!==void 0?o:null);ye(y&&E&&w,"argument-error"),this.apiKey=y,this.operation=w,this.code=E,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=p.languageCode)!==null&&f!==void 0?f:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const n=pC(e);try{return new Pm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(){this.providerId=so.PROVIDER_ID}static credential(e,n){return Vl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Pm.parseLink(n);return ye(s,"argument-error"),Vl._fromEmailAndCode(e,s.code,s.tenantId)}}so.PROVIDER_ID="password";so.EMAIL_PASSWORD_SIGN_IN_METHOD="password";so.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql extends WE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr extends Ql{constructor(){super("facebook.com")}static credential(e){return Us._fromParams({providerId:xr.PROVIDER_ID,signInMethod:xr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xr.credentialFromTaggedObject(e)}static credentialFromError(e){return xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xr.credential(e.oauthAccessToken)}catch{return null}}}xr.FACEBOOK_SIGN_IN_METHOD="facebook.com";xr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur extends Ql{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Us._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ur.credentialFromTaggedObject(e)}static credentialFromError(e){return Ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Ur.credential(n,s)}catch{return null}}}Ur.GOOGLE_SIGN_IN_METHOD="google.com";Ur.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr extends Ql{constructor(){super("github.com")}static credential(e){return Us._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zr.credentialFromTaggedObject(e)}static credentialFromError(e){return zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zr.credential(e.oauthAccessToken)}catch{return null}}}zr.GITHUB_SIGN_IN_METHOD="github.com";zr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br extends Ql{constructor(){super("twitter.com")}static credential(e,n){return Us._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Br.credentialFromTaggedObject(e)}static credentialFromError(e){return Br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Br.credential(n,s)}catch{return null}}}Br.TWITTER_SIGN_IN_METHOD="twitter.com";Br.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await ji._fromIdTokenResponse(e,s,o),f=$_(s);return new Ya({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=$_(s);return new Ya({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function $_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc extends Zi{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Gc.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Gc(e,n,s,o)}}function ZE(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Gc._fromErrorAndOperation(r,u,e,s):u})}async function gC(r,e,n=!1){const s=await Ml(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return Ya._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yC(r,e,n=!1){const{auth:s}=r;if(zn(s.app))return Promise.reject(Gr(s));const o="reauthenticate";try{const u=await Ml(r,ZE(s,o,e,r),n);ye(u.idToken,s,"internal-error");const f=Nm(u.idToken);ye(f,s,"internal-error");const{sub:m}=f;return ye(r.uid===m,s,"user-mismatch"),Ya._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&qn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JE(r,e,n=!1){if(zn(r.app))return Promise.reject(Gr(r));const s="signIn",o=await ZE(r,s,e),u=await Ya._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function _C(r,e){return JE(ro(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vC(r){const e=ro(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function EC(r,e,n){return zn(r.app)?Promise.reject(Gr(r)):_C(mn(r),so.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&vC(r),s})}function TC(r,e,n,s){return mn(r).onIdTokenChanged(e,n,s)}function AC(r,e,n){return mn(r).beforeAuthStateChanged(e,n)}function SC(r,e,n,s){return mn(r).onAuthStateChanged(e,n,s)}const Kc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Kc,"1"),this.storage.removeItem(Kc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC=1e3,bC=10;class tT extends eT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=KE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);FR()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,bC):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},wC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}tT.type="LOCAL";const RC=tT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT extends eT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}nT.type="SESSION";const iT=nT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CC(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new fh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),p=await CC(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}fh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function km(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const y=km("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(w){const D=w;if(D.data.eventId===y)switch(D.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(D.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(){return window}function DC(r){oi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rT(){return typeof oi().WorkerGlobalScope<"u"&&typeof oi().importScripts=="function"}async function OC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function NC(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function MC(){return rT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT="firebaseLocalStorageDb",VC=1,Qc="firebaseLocalStorage",aT="fbase_key";class Yl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function dh(r,e){return r.transaction([Qc],e?"readwrite":"readonly").objectStore(Qc)}function PC(){const r=indexedDB.deleteDatabase(sT);return new Yl(r).toPromise()}function nm(){const r=indexedDB.open(sT,VC);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Qc,{keyPath:aT})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Qc)?e(s):(s.close(),await PC(),e(await nm()))})})}async function X_(r,e,n){const s=dh(r,!0).put({[aT]:e,value:n});return new Yl(s).toPromise()}async function kC(r,e){const n=dh(r,!1).get(e),s=await new Yl(n).toPromise();return s===void 0?null:s.value}function W_(r,e){const n=dh(r,!0).delete(e);return new Yl(n).toPromise()}const LC=800,xC=3;class oT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await nm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>xC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return rT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=fh._getInstance(MC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await OC(),!this.activeServiceWorker)return;this.sender=new IC(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||NC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await nm();return await X_(e,Kc,"1"),await W_(e,Kc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>X_(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>kC(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>W_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=dh(o,!1).getAll();return new Yl(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),LC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}oT.type="LOCAL";const UC=oT;new Kl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zC(r,e){return e?Fi(e):(ye(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm extends Vm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ga(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ga(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ga(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function BC(r){return JE(r.auth,new Lm(r),r.bypassAuthState)}function HC(r){const{auth:e,user:n}=r;return ye(n,e,"internal-error"),yC(n,new Lm(r),r.bypassAuthState)}async function qC(r){const{auth:e,user:n}=r;return ye(n,e,"internal-error"),gC(n,new Lm(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return BC;case"linkViaPopup":case"linkViaRedirect":return qC;case"reauthViaPopup":case"reauthViaRedirect":return HC;default:qn(this.auth,"internal-error")}}resolve(e){Yi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Yi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC=new Kl(2e3,1e4);class Ha extends lT{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Ha.currentPopupAction&&Ha.currentPopupAction.cancel(),Ha.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ye(e,this.auth,"internal-error"),e}async onExecution(){Yi(this.filter.length===1,"Popup operations only handle one event");const e=km();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ai(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ai(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ha.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ai(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,jC.get())};e()}}Ha.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC="pendingRedirect",Mc=new Map;class GC extends lT{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Mc.get(this.auth._key());if(!e){try{const s=await KC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Mc.set(this.auth._key(),e)}return this.bypassAuthState||Mc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function KC(r,e){const n=$C(e),s=YC(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function QC(r,e){Mc.set(r._key(),e)}function YC(r){return Fi(r._redirectPersistence)}function $C(r){return Nc(FC,r.config.apiKey,r.name)}async function XC(r,e,n=!1){if(zn(r.app))return Promise.reject(Gr(r));const s=ro(r),o=zC(s,e),f=await new GC(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC=10*60*1e3;class ZC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!JC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!uT(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(ai(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=WC&&this.cachedEventUids.clear(),this.cachedEventUids.has(Z_(e))}saveEventToCache(e){this.cachedEventUids.add(Z_(e)),this.lastProcessedEventTime=Date.now()}}function Z_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function uT({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function JC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return uT(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e1(r,e={}){return ts(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,n1=/^https?/;async function i1(r){if(r.config.emulator)return;const{authorizedDomains:e}=await e1(r);for(const n of e)try{if(r1(n))return}catch{}qn(r,"unauthorized-domain")}function r1(r){const e=em(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!n1.test(n))return!1;if(t1.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1=new Kl(3e4,6e4);function J_(){const r=oi().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function a1(r){return new Promise((e,n)=>{var s,o,u;function f(){J_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{J_(),n(ai(r,"network-request-failed"))},timeout:s1.get()})}if(!((o=(s=oi().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=oi().gapi)===null||u===void 0)&&u.load)f();else{const m=JR("iframefcb");return oi()[m]=()=>{gapi.load?f():n(ai(r,"network-request-failed"))},YE(`${ZR()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw Vc=null,e})}let Vc=null;function o1(r){return Vc=Vc||a1(r),Vc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1=new Kl(5e3,15e3),u1="__/auth/iframe",c1="emulator/auth/iframe",h1={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},f1=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function d1(r){const e=r.config;ye(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Om(e,c1):`https://${r.config.authDomain}/${u1}`,s={apiKey:e.apiKey,appName:r.name,v:io},o=f1.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Gl(s).slice(1)}`}async function m1(r){const e=await o1(r),n=oi().gapi;return ye(n,r,"internal-error"),e.open({where:document.body,url:d1(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:h1,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=ai(r,"network-request-failed"),m=oi().setTimeout(()=>{u(f)},l1.get());function p(){oi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},g1=500,y1=600,_1="_blank",v1="http://localhost";class ev{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function E1(r,e,n,s=g1,o=y1){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},p1),{width:s.toString(),height:o.toString(),top:u,left:f}),y=$t().toLowerCase();n&&(m=HE(y)?_1:n),zE(y)&&(e=e||v1,p.scrollbars="yes");const E=Object.entries(p).reduce((D,[L,z])=>`${D}${L}=${z},`,"");if(jR(y)&&m!=="_self")return T1(e||"",m),new ev(null);const w=window.open(e||"",m,E);ye(w,r,"popup-blocked");try{w.focus()}catch{}return new ev(w)}function T1(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1="__/auth/handler",S1="emulator/auth/handler",w1=encodeURIComponent("fac");async function tv(r,e,n,s,o,u){ye(r.config.authDomain,r,"auth-domain-config-required"),ye(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:io,eventId:o};if(e instanceof WE){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",fb(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,w]of Object.entries({}))f[E]=w}if(e instanceof Ql){const E=e.getScopes().filter(w=>w!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),y=p?`#${w1}=${encodeURIComponent(p)}`:"";return`${b1(r)}?${Gl(m).slice(1)}${y}`}function b1({config:r}){return r.emulator?Om(r,S1):`https://${r.authDomain}/${A1}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qd="webStorageSupport";class R1{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=iT,this._completeRedirectFn=XC,this._overrideRedirectResult=QC}async _openPopup(e,n,s,o){var u;Yi((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await tv(e,n,s,em(),o);return E1(e,f,km())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await tv(e,n,s,em(),o);return DC(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Yi(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await m1(e),s=new ZC(e);return n.register("authEvent",o=>(ye(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(qd,{type:qd},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[qd];f!==void 0&&n(!!f),qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=i1(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return KE()||BE()||Mm()}}const C1=R1;var nv="@firebase/auth",iv="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D1(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function O1(r){Qa(new xs("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;ye(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:QE(r)},y=new $R(s,o,u,p);return sC(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Qa(new xs("auth-internal",e=>{const n=ro(e.getProvider("auth").getImmediate());return(s=>new I1(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fr(nv,iv,D1(r)),Fr(nv,iv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1=5*60,M1=SE("authIdTokenMaxAge")||N1;let rv=null;const V1=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>M1)return;const o=n==null?void 0:n.token;rv!==o&&(rv=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function P1(r=CE()){const e=Cm(r,"auth");if(e.isInitialized())return e.getImmediate();const n=rC(r,{popupRedirectResolver:C1,persistence:[UC,RC,iT]}),s=SE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=V1(u.toString());AC(n,f,()=>f(n.currentUser)),TC(n,m=>f(m))}}const o=TE("auth");return o&&aC(n,`http://${o}`),n}function k1(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}XR({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=ai("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",k1().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});O1("Browser");var L1="firebase",x1="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fr(L1,x1,"app");var sv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Kr,cT;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,b){function S(){}S.prototype=b.prototype,M.D=b.prototype,M.prototype=new S,M.prototype.constructor=M,M.C=function(C,V,U){for(var I=Array(arguments.length-2),yt=2;yt<arguments.length;yt++)I[yt-2]=arguments[yt];return b.prototype[V].apply(C,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,b,S){S||(S=0);var C=Array(16);if(typeof b=="string")for(var V=0;16>V;++V)C[V]=b.charCodeAt(S++)|b.charCodeAt(S++)<<8|b.charCodeAt(S++)<<16|b.charCodeAt(S++)<<24;else for(V=0;16>V;++V)C[V]=b[S++]|b[S++]<<8|b[S++]<<16|b[S++]<<24;b=M.g[0],S=M.g[1],V=M.g[2];var U=M.g[3],I=b+(U^S&(V^U))+C[0]+3614090360&4294967295;b=S+(I<<7&4294967295|I>>>25),I=U+(V^b&(S^V))+C[1]+3905402710&4294967295,U=b+(I<<12&4294967295|I>>>20),I=V+(S^U&(b^S))+C[2]+606105819&4294967295,V=U+(I<<17&4294967295|I>>>15),I=S+(b^V&(U^b))+C[3]+3250441966&4294967295,S=V+(I<<22&4294967295|I>>>10),I=b+(U^S&(V^U))+C[4]+4118548399&4294967295,b=S+(I<<7&4294967295|I>>>25),I=U+(V^b&(S^V))+C[5]+1200080426&4294967295,U=b+(I<<12&4294967295|I>>>20),I=V+(S^U&(b^S))+C[6]+2821735955&4294967295,V=U+(I<<17&4294967295|I>>>15),I=S+(b^V&(U^b))+C[7]+4249261313&4294967295,S=V+(I<<22&4294967295|I>>>10),I=b+(U^S&(V^U))+C[8]+1770035416&4294967295,b=S+(I<<7&4294967295|I>>>25),I=U+(V^b&(S^V))+C[9]+2336552879&4294967295,U=b+(I<<12&4294967295|I>>>20),I=V+(S^U&(b^S))+C[10]+4294925233&4294967295,V=U+(I<<17&4294967295|I>>>15),I=S+(b^V&(U^b))+C[11]+2304563134&4294967295,S=V+(I<<22&4294967295|I>>>10),I=b+(U^S&(V^U))+C[12]+1804603682&4294967295,b=S+(I<<7&4294967295|I>>>25),I=U+(V^b&(S^V))+C[13]+4254626195&4294967295,U=b+(I<<12&4294967295|I>>>20),I=V+(S^U&(b^S))+C[14]+2792965006&4294967295,V=U+(I<<17&4294967295|I>>>15),I=S+(b^V&(U^b))+C[15]+1236535329&4294967295,S=V+(I<<22&4294967295|I>>>10),I=b+(V^U&(S^V))+C[1]+4129170786&4294967295,b=S+(I<<5&4294967295|I>>>27),I=U+(S^V&(b^S))+C[6]+3225465664&4294967295,U=b+(I<<9&4294967295|I>>>23),I=V+(b^S&(U^b))+C[11]+643717713&4294967295,V=U+(I<<14&4294967295|I>>>18),I=S+(U^b&(V^U))+C[0]+3921069994&4294967295,S=V+(I<<20&4294967295|I>>>12),I=b+(V^U&(S^V))+C[5]+3593408605&4294967295,b=S+(I<<5&4294967295|I>>>27),I=U+(S^V&(b^S))+C[10]+38016083&4294967295,U=b+(I<<9&4294967295|I>>>23),I=V+(b^S&(U^b))+C[15]+3634488961&4294967295,V=U+(I<<14&4294967295|I>>>18),I=S+(U^b&(V^U))+C[4]+3889429448&4294967295,S=V+(I<<20&4294967295|I>>>12),I=b+(V^U&(S^V))+C[9]+568446438&4294967295,b=S+(I<<5&4294967295|I>>>27),I=U+(S^V&(b^S))+C[14]+3275163606&4294967295,U=b+(I<<9&4294967295|I>>>23),I=V+(b^S&(U^b))+C[3]+4107603335&4294967295,V=U+(I<<14&4294967295|I>>>18),I=S+(U^b&(V^U))+C[8]+1163531501&4294967295,S=V+(I<<20&4294967295|I>>>12),I=b+(V^U&(S^V))+C[13]+2850285829&4294967295,b=S+(I<<5&4294967295|I>>>27),I=U+(S^V&(b^S))+C[2]+4243563512&4294967295,U=b+(I<<9&4294967295|I>>>23),I=V+(b^S&(U^b))+C[7]+1735328473&4294967295,V=U+(I<<14&4294967295|I>>>18),I=S+(U^b&(V^U))+C[12]+2368359562&4294967295,S=V+(I<<20&4294967295|I>>>12),I=b+(S^V^U)+C[5]+4294588738&4294967295,b=S+(I<<4&4294967295|I>>>28),I=U+(b^S^V)+C[8]+2272392833&4294967295,U=b+(I<<11&4294967295|I>>>21),I=V+(U^b^S)+C[11]+1839030562&4294967295,V=U+(I<<16&4294967295|I>>>16),I=S+(V^U^b)+C[14]+4259657740&4294967295,S=V+(I<<23&4294967295|I>>>9),I=b+(S^V^U)+C[1]+2763975236&4294967295,b=S+(I<<4&4294967295|I>>>28),I=U+(b^S^V)+C[4]+1272893353&4294967295,U=b+(I<<11&4294967295|I>>>21),I=V+(U^b^S)+C[7]+4139469664&4294967295,V=U+(I<<16&4294967295|I>>>16),I=S+(V^U^b)+C[10]+3200236656&4294967295,S=V+(I<<23&4294967295|I>>>9),I=b+(S^V^U)+C[13]+681279174&4294967295,b=S+(I<<4&4294967295|I>>>28),I=U+(b^S^V)+C[0]+3936430074&4294967295,U=b+(I<<11&4294967295|I>>>21),I=V+(U^b^S)+C[3]+3572445317&4294967295,V=U+(I<<16&4294967295|I>>>16),I=S+(V^U^b)+C[6]+76029189&4294967295,S=V+(I<<23&4294967295|I>>>9),I=b+(S^V^U)+C[9]+3654602809&4294967295,b=S+(I<<4&4294967295|I>>>28),I=U+(b^S^V)+C[12]+3873151461&4294967295,U=b+(I<<11&4294967295|I>>>21),I=V+(U^b^S)+C[15]+530742520&4294967295,V=U+(I<<16&4294967295|I>>>16),I=S+(V^U^b)+C[2]+3299628645&4294967295,S=V+(I<<23&4294967295|I>>>9),I=b+(V^(S|~U))+C[0]+4096336452&4294967295,b=S+(I<<6&4294967295|I>>>26),I=U+(S^(b|~V))+C[7]+1126891415&4294967295,U=b+(I<<10&4294967295|I>>>22),I=V+(b^(U|~S))+C[14]+2878612391&4294967295,V=U+(I<<15&4294967295|I>>>17),I=S+(U^(V|~b))+C[5]+4237533241&4294967295,S=V+(I<<21&4294967295|I>>>11),I=b+(V^(S|~U))+C[12]+1700485571&4294967295,b=S+(I<<6&4294967295|I>>>26),I=U+(S^(b|~V))+C[3]+2399980690&4294967295,U=b+(I<<10&4294967295|I>>>22),I=V+(b^(U|~S))+C[10]+4293915773&4294967295,V=U+(I<<15&4294967295|I>>>17),I=S+(U^(V|~b))+C[1]+2240044497&4294967295,S=V+(I<<21&4294967295|I>>>11),I=b+(V^(S|~U))+C[8]+1873313359&4294967295,b=S+(I<<6&4294967295|I>>>26),I=U+(S^(b|~V))+C[15]+4264355552&4294967295,U=b+(I<<10&4294967295|I>>>22),I=V+(b^(U|~S))+C[6]+2734768916&4294967295,V=U+(I<<15&4294967295|I>>>17),I=S+(U^(V|~b))+C[13]+1309151649&4294967295,S=V+(I<<21&4294967295|I>>>11),I=b+(V^(S|~U))+C[4]+4149444226&4294967295,b=S+(I<<6&4294967295|I>>>26),I=U+(S^(b|~V))+C[11]+3174756917&4294967295,U=b+(I<<10&4294967295|I>>>22),I=V+(b^(U|~S))+C[2]+718787259&4294967295,V=U+(I<<15&4294967295|I>>>17),I=S+(U^(V|~b))+C[9]+3951481745&4294967295,M.g[0]=M.g[0]+b&4294967295,M.g[1]=M.g[1]+(V+(I<<21&4294967295|I>>>11))&4294967295,M.g[2]=M.g[2]+V&4294967295,M.g[3]=M.g[3]+U&4294967295}s.prototype.u=function(M,b){b===void 0&&(b=M.length);for(var S=b-this.blockSize,C=this.B,V=this.h,U=0;U<b;){if(V==0)for(;U<=S;)o(this,M,U),U+=this.blockSize;if(typeof M=="string"){for(;U<b;)if(C[V++]=M.charCodeAt(U++),V==this.blockSize){o(this,C),V=0;break}}else for(;U<b;)if(C[V++]=M[U++],V==this.blockSize){o(this,C),V=0;break}}this.h=V,this.o+=b},s.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var b=1;b<M.length-8;++b)M[b]=0;var S=8*this.o;for(b=M.length-8;b<M.length;++b)M[b]=S&255,S/=256;for(this.u(M),M=Array(16),b=S=0;4>b;++b)for(var C=0;32>C;C+=8)M[S++]=this.g[b]>>>C&255;return M};function u(M,b){var S=m;return Object.prototype.hasOwnProperty.call(S,M)?S[M]:S[M]=b(M)}function f(M,b){this.h=b;for(var S=[],C=!0,V=M.length-1;0<=V;V--){var U=M[V]|0;C&&U==b||(S[V]=U,C=!1)}this.g=S}var m={};function p(M){return-128<=M&&128>M?u(M,function(b){return new f([b|0],0>b?-1:0)}):new f([M|0],0>M?-1:0)}function y(M){if(isNaN(M)||!isFinite(M))return w;if(0>M)return q(y(-M));for(var b=[],S=1,C=0;M>=S;C++)b[C]=M/S|0,S*=4294967296;return new f(b,0)}function E(M,b){if(M.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(M.charAt(0)=="-")return q(E(M.substring(1),b));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=y(Math.pow(b,8)),C=w,V=0;V<M.length;V+=8){var U=Math.min(8,M.length-V),I=parseInt(M.substring(V,V+U),b);8>U?(U=y(Math.pow(b,U)),C=C.j(U).add(y(I))):(C=C.j(S),C=C.add(y(I)))}return C}var w=p(0),D=p(1),L=p(16777216);r=f.prototype,r.m=function(){if(K(this))return-q(this).m();for(var M=0,b=1,S=0;S<this.g.length;S++){var C=this.i(S);M+=(0<=C?C:4294967296+C)*b,b*=4294967296}return M},r.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(z(this))return"0";if(K(this))return"-"+q(this).toString(M);for(var b=y(Math.pow(M,6)),S=this,C="";;){var V=pe(S,b).g;S=Q(S,V.j(b));var U=((0<S.g.length?S.g[0]:S.h)>>>0).toString(M);if(S=V,z(S))return U+C;for(;6>U.length;)U="0"+U;C=U+C}},r.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function z(M){if(M.h!=0)return!1;for(var b=0;b<M.g.length;b++)if(M.g[b]!=0)return!1;return!0}function K(M){return M.h==-1}r.l=function(M){return M=Q(this,M),K(M)?-1:z(M)?0:1};function q(M){for(var b=M.g.length,S=[],C=0;C<b;C++)S[C]=~M.g[C];return new f(S,~M.h).add(D)}r.abs=function(){return K(this)?q(this):this},r.add=function(M){for(var b=Math.max(this.g.length,M.g.length),S=[],C=0,V=0;V<=b;V++){var U=C+(this.i(V)&65535)+(M.i(V)&65535),I=(U>>>16)+(this.i(V)>>>16)+(M.i(V)>>>16);C=I>>>16,U&=65535,I&=65535,S[V]=I<<16|U}return new f(S,S[S.length-1]&-2147483648?-1:0)};function Q(M,b){return M.add(q(b))}r.j=function(M){if(z(this)||z(M))return w;if(K(this))return K(M)?q(this).j(q(M)):q(q(this).j(M));if(K(M))return q(this.j(q(M)));if(0>this.l(L)&&0>M.l(L))return y(this.m()*M.m());for(var b=this.g.length+M.g.length,S=[],C=0;C<2*b;C++)S[C]=0;for(C=0;C<this.g.length;C++)for(var V=0;V<M.g.length;V++){var U=this.i(C)>>>16,I=this.i(C)&65535,yt=M.i(V)>>>16,ht=M.i(V)&65535;S[2*C+2*V]+=I*ht,Z(S,2*C+2*V),S[2*C+2*V+1]+=U*ht,Z(S,2*C+2*V+1),S[2*C+2*V+1]+=I*yt,Z(S,2*C+2*V+1),S[2*C+2*V+2]+=U*yt,Z(S,2*C+2*V+2)}for(C=0;C<b;C++)S[C]=S[2*C+1]<<16|S[2*C];for(C=b;C<2*b;C++)S[C]=0;return new f(S,0)};function Z(M,b){for(;(M[b]&65535)!=M[b];)M[b+1]+=M[b]>>>16,M[b]&=65535,b++}function ne(M,b){this.g=M,this.h=b}function pe(M,b){if(z(b))throw Error("division by zero");if(z(M))return new ne(w,w);if(K(M))return b=pe(q(M),b),new ne(q(b.g),q(b.h));if(K(b))return b=pe(M,q(b)),new ne(q(b.g),b.h);if(30<M.g.length){if(K(M)||K(b))throw Error("slowDivide_ only works with positive integers.");for(var S=D,C=b;0>=C.l(M);)S=le(S),C=le(C);var V=Se(S,1),U=Se(C,1);for(C=Se(C,2),S=Se(S,2);!z(C);){var I=U.add(C);0>=I.l(M)&&(V=V.add(S),U=I),C=Se(C,1),S=Se(S,1)}return b=Q(M,V.j(b)),new ne(V,b)}for(V=w;0<=M.l(b);){for(S=Math.max(1,Math.floor(M.m()/b.m())),C=Math.ceil(Math.log(S)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),U=y(S),I=U.j(b);K(I)||0<I.l(M);)S-=C,U=y(S),I=U.j(b);z(U)&&(U=D),V=V.add(U),M=Q(M,I)}return new ne(V,M)}r.A=function(M){return pe(this,M).h},r.and=function(M){for(var b=Math.max(this.g.length,M.g.length),S=[],C=0;C<b;C++)S[C]=this.i(C)&M.i(C);return new f(S,this.h&M.h)},r.or=function(M){for(var b=Math.max(this.g.length,M.g.length),S=[],C=0;C<b;C++)S[C]=this.i(C)|M.i(C);return new f(S,this.h|M.h)},r.xor=function(M){for(var b=Math.max(this.g.length,M.g.length),S=[],C=0;C<b;C++)S[C]=this.i(C)^M.i(C);return new f(S,this.h^M.h)};function le(M){for(var b=M.g.length+1,S=[],C=0;C<b;C++)S[C]=M.i(C)<<1|M.i(C-1)>>>31;return new f(S,M.h)}function Se(M,b){var S=b>>5;b%=32;for(var C=M.g.length-S,V=[],U=0;U<C;U++)V[U]=0<b?M.i(U+S)>>>b|M.i(U+S+1)<<32-b:M.i(U+S);return new f(V,M.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,cT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,Kr=f}).apply(typeof sv<"u"?sv:typeof self<"u"?self:typeof window<"u"?window:{});var Ac=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var hT,Al,fT,Pc,im,dT,mT,pT;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,_){return c==Array.prototype||c==Object.prototype||(c[g]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ac=="object"&&Ac];for(var g=0;g<c.length;++g){var _=c[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,g){if(g)e:{var _=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var x=c[A];if(!(x in _))break e;_=_[x]}c=c[c.length-1],A=_[c],g=g(A),g!=A&&g!=null&&e(_,c,{configurable:!0,writable:!0,value:g})}}function u(c,g){c instanceof String&&(c+="");var _=0,A=!1,x={next:function(){if(!A&&_<c.length){var j=_++;return{value:g(j,c[j]),done:!1}}return A=!0,{done:!0,value:void 0}}};return x[Symbol.iterator]=function(){return x},x}o("Array.prototype.values",function(c){return c||function(){return u(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function y(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function E(c,g,_){return c.call.apply(c.bind,arguments)}function w(c,g,_){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var x=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(x,A),c.apply(g,x)}}return function(){return c.apply(g,arguments)}}function D(c,g,_){return D=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:w,D.apply(null,arguments)}function L(c,g){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function z(c,g){function _(){}_.prototype=g.prototype,c.aa=g.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(A,x,j){for(var te=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)te[Pe-2]=arguments[Pe];return g.prototype[x].apply(A,te)}}function K(c){const g=c.length;if(0<g){const _=Array(g);for(let A=0;A<g;A++)_[A]=c[A];return _}return[]}function q(c,g){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(p(A)){const x=c.length||0,j=A.length||0;c.length=x+j;for(let te=0;te<j;te++)c[x+te]=A[te]}else c.push(A)}}class Q{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function Z(c){return/^[\s\xa0]*$/.test(c)}function ne(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function pe(c){return pe[" "](c),c}pe[" "]=function(){};var le=ne().indexOf("Gecko")!=-1&&!(ne().toLowerCase().indexOf("webkit")!=-1&&ne().indexOf("Edge")==-1)&&!(ne().indexOf("Trident")!=-1||ne().indexOf("MSIE")!=-1)&&ne().indexOf("Edge")==-1;function Se(c,g,_){for(const A in c)g.call(_,c[A],A,c)}function M(c,g){for(const _ in c)g.call(void 0,c[_],_,c)}function b(c){const g={};for(const _ in c)g[_]=c[_];return g}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(c,g){let _,A;for(let x=1;x<arguments.length;x++){A=arguments[x];for(_ in A)c[_]=A[_];for(let j=0;j<S.length;j++)_=S[j],Object.prototype.hasOwnProperty.call(A,_)&&(c[_]=A[_])}}function V(c){var g=1;c=c.split(":");const _=[];for(;0<g&&c.length;)_.push(c.shift()),g--;return c.length&&_.push(c.join(":")),_}function U(c){m.setTimeout(()=>{throw c},0)}function I(){var c=qe;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class yt{constructor(){this.h=this.g=null}add(g,_){const A=ht.get();A.set(g,_),this.h?this.h.next=A:this.g=A,this.h=A}}var ht=new Q(()=>new ie,c=>c.reset());class ie{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let _e,fe=!1,qe=new yt,O=()=>{const c=m.Promise.resolve(void 0);_e=()=>{c.then(ee)}};var ee=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(_){U(_)}var g=ht;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}fe=!1};function ce(){this.s=this.s,this.C=this.C}ce.prototype.s=!1,ce.prototype.ma=function(){this.s||(this.s=!0,this.N())},ce.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function re(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}re.prototype.h=function(){this.defaultPrevented=!0};var se=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,g),m.removeEventListener("test",_,g)}catch{}return c}();function Re(c,g){if(re.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(le){e:{try{pe(g.nodeName);var x=!0;break e}catch{}x=!1}x||(g=null)}}else _=="mouseover"?g=c.fromElement:_=="mouseout"&&(g=c.toElement);this.relatedTarget=g,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:we[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Re.aa.h.call(this)}}z(Re,re);var we={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ft="closure_listenable_"+(1e6*Math.random()|0),Ue=0;function it(c,g,_,A,x){this.listener=c,this.proxy=null,this.src=g,this.type=_,this.capture=!!A,this.ha=x,this.key=++Ue,this.da=this.fa=!1}function Ge(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Xt(c){this.src=c,this.g={},this.h=0}Xt.prototype.add=function(c,g,_,A,x){var j=c.toString();c=this.g[j],c||(c=this.g[j]=[],this.h++);var te=pn(c,g,A,x);return-1<te?(g=c[te],_||(g.fa=!1)):(g=new it(g,this.src,j,!!A,x),g.fa=_,c.push(g)),g};function pi(c,g){var _=g.type;if(_ in c.g){var A=c.g[_],x=Array.prototype.indexOf.call(A,g,void 0),j;(j=0<=x)&&Array.prototype.splice.call(A,x,1),j&&(Ge(g),c.g[_].length==0&&(delete c.g[_],c.h--))}}function pn(c,g,_,A){for(var x=0;x<c.length;++x){var j=c[x];if(!j.da&&j.listener==g&&j.capture==!!_&&j.ha==A)return x}return-1}var Ji="closure_lm_"+(1e6*Math.random()|0),er={};function gi(c,g,_,A,x){if(Array.isArray(g)){for(var j=0;j<g.length;j++)gi(c,g[j],_,A,x);return null}return _=Jl(_),c&&c[ft]?c.K(g,_,y(A)?!!A.capture:!1,x):co(c,g,_,!1,A,x)}function co(c,g,_,A,x,j){if(!g)throw Error("Invalid event type");var te=y(x)?!!x.capture:!!x,Pe=ho(c);if(Pe||(c[Ji]=Pe=new Xt(c)),_=Pe.add(g,_,A,te,j),_.proxy)return _;if(A=Qs(),_.proxy=A,A.src=c,A.listener=_,c.addEventListener)se||(x=te),x===void 0&&(x=!1),c.addEventListener(g.toString(),A,x);else if(c.attachEvent)c.attachEvent($s(g.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Qs(){function c(_){return g.call(c.src,c.listener,_)}const g=Dh;return c}function Ys(c,g,_,A,x){if(Array.isArray(g))for(var j=0;j<g.length;j++)Ys(c,g[j],_,A,x);else A=y(A)?!!A.capture:!!A,_=Jl(_),c&&c[ft]?(c=c.i,g=String(g).toString(),g in c.g&&(j=c.g[g],_=pn(j,_,A,x),-1<_&&(Ge(j[_]),Array.prototype.splice.call(j,_,1),j.length==0&&(delete c.g[g],c.h--)))):c&&(c=ho(c))&&(g=c.g[g.toString()],c=-1,g&&(c=pn(g,_,A,x)),(_=-1<c?g[c]:null)&&ns(_))}function ns(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[ft])pi(g.i,c);else{var _=c.type,A=c.proxy;g.removeEventListener?g.removeEventListener(_,A,c.capture):g.detachEvent?g.detachEvent($s(_),A):g.addListener&&g.removeListener&&g.removeListener(A),(_=ho(g))?(pi(_,c),_.h==0&&(_.src=null,g[Ji]=null)):Ge(c)}}}function $s(c){return c in er?er[c]:er[c]="on"+c}function Dh(c,g){if(c.da)c=!0;else{g=new Re(g,this);var _=c.listener,A=c.ha||c.src;c.fa&&ns(c),c=_.call(A,g)}return c}function ho(c){return c=c[Ji],c instanceof Xt?c:null}var nn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Jl(c){return typeof c=="function"?c:(c[nn]||(c[nn]=function(g){return c.handleEvent(g)}),c[nn])}function _t(){ce.call(this),this.i=new Xt(this),this.M=this,this.F=null}z(_t,ce),_t.prototype[ft]=!0,_t.prototype.removeEventListener=function(c,g,_,A){Ys(this,c,g,_,A)};function It(c,g){var _,A=c.F;if(A)for(_=[];A;A=A.F)_.push(A);if(c=c.M,A=g.type||g,typeof g=="string")g=new re(g,c);else if(g instanceof re)g.target=g.target||c;else{var x=g;g=new re(A,c),C(g,x)}if(x=!0,_)for(var j=_.length-1;0<=j;j--){var te=g.g=_[j];x=yi(te,A,!0,g)&&x}if(te=g.g=c,x=yi(te,A,!0,g)&&x,x=yi(te,A,!1,g)&&x,_)for(j=0;j<_.length;j++)te=g.g=_[j],x=yi(te,A,!1,g)&&x}_t.prototype.N=function(){if(_t.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var _=c.g[g],A=0;A<_.length;A++)Ge(_[A]);delete c.g[g],c.h--}}this.F=null},_t.prototype.K=function(c,g,_,A){return this.i.add(String(c),g,!1,_,A)},_t.prototype.L=function(c,g,_,A){return this.i.add(String(c),g,!0,_,A)};function yi(c,g,_,A){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var x=!0,j=0;j<g.length;++j){var te=g[j];if(te&&!te.da&&te.capture==_){var Pe=te.listener,Et=te.ha||te.src;te.fa&&pi(c.i,te),x=Pe.call(Et,A)!==!1&&x}}return x&&!A.defaultPrevented}function eu(c,g,_){if(typeof c=="function")_&&(c=D(c,_));else if(c&&typeof c.handleEvent=="function")c=D(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:m.setTimeout(c,g||0)}function fo(c){c.g=eu(()=>{c.g=null,c.i&&(c.i=!1,fo(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class Oh extends ce{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:fo(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function is(c){ce.call(this),this.h=c,this.g={}}z(is,ce);var tr=[];function jt(c){Se(c.g,function(g,_){this.g.hasOwnProperty(_)&&ns(g)},c),c.g={}}is.prototype.N=function(){is.aa.N.call(this),jt(this)},is.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var mo=m.JSON.stringify,jn=m.JSON.parse,Wt=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function po(){}po.prototype.h=null;function tu(c){return c.h||(c.h=c.i())}function nu(){}var Fn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function nr(){re.call(this,"d")}z(nr,re);function Vn(){re.call(this,"c")}z(Vn,re);var gn={},ir=null;function Xs(){return ir=ir||new _t}gn.La="serverreachability";function go(c){re.call(this,gn.La,c)}z(go,re);function rr(c){const g=Xs();It(g,new go(g))}gn.STAT_EVENT="statevent";function Ws(c,g){re.call(this,gn.STAT_EVENT,c),this.stat=g}z(Ws,re);function lt(c){const g=Xs();It(g,new Ws(g,c))}gn.Ma="timingevent";function iu(c,g){re.call(this,gn.Ma,c),this.size=g}z(iu,re);function sr(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},g)}function ar(){this.g=!0}ar.prototype.xa=function(){this.g=!1};function ru(c,g,_,A,x,j){c.info(function(){if(c.g)if(j)for(var te="",Pe=j.split("&"),Et=0;Et<Pe.length;Et++){var ke=Pe[Et].split("=");if(1<ke.length){var Nt=ke[0];ke=ke[1];var Tt=Nt.split("_");te=2<=Tt.length&&Tt[1]=="type"?te+(Nt+"="+ke+"&"):te+(Nt+"=redacted&")}}else te=null;else te=j;return"XMLHTTP REQ ("+A+") [attempt "+x+"]: "+g+`
`+_+`
`+te})}function su(c,g,_,A,x,j,te){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+x+"]: "+g+`
`+_+`
`+j+" "+te})}function or(c,g,_,A){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+Dt(c,_)+(A?" "+A:"")})}function Gn(c,g){c.info(function(){return"TIMEOUT: "+g})}ar.prototype.info=function(){};function Dt(c,g){if(!c.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var A=_[c];if(!(2>A.length)){var x=A[1];if(Array.isArray(x)&&!(1>x.length)){var j=x[0];if(j!="noop"&&j!="stop"&&j!="close")for(var te=1;te<x.length;te++)x[te]=""}}}}return mo(_)}catch{return g}}var vt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},_i={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},rs;function Zs(){}z(Zs,po),Zs.prototype.g=function(){return new XMLHttpRequest},Zs.prototype.i=function(){return{}},rs=new Zs;function Kn(c,g,_,A){this.j=c,this.i=g,this.l=_,this.R=A||1,this.U=new is(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new yo}function yo(){this.i=null,this.g="",this.h=!1}var lr={},ss={};function Pn(c,g,_){c.L=1,c.v=ls(rt(g)),c.m=_,c.P=!0,vi(c,null)}function vi(c,g){c.F=Date.now(),Je(c),c.A=rt(c.v);var _=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),Ai(_.i,"t",A),c.C=0,_=c.j.J,c.h=new yo,c.g=vu(c.j,_?g:null,!c.m),0<c.O&&(c.M=new Oh(D(c.Y,c,c.g),c.O)),g=c.U,_=c.g,A=c.ca;var x="readystatechange";Array.isArray(x)||(x&&(tr[0]=x.toString()),x=tr);for(var j=0;j<x.length;j++){var te=gi(_,x[j],A||g.handleEvent,!1,g.h||g);if(!te)break;g.g[te.key]=te}g=c.H?b(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),rr(),ru(c.i,c.u,c.A,c.l,c.R,c.m)}Kn.prototype.ca=function(c){c=c.target;const g=this.M;g&&Tn(c)==3?g.j():this.Y(c)},Kn.prototype.Y=function(c){try{if(c==this.g)e:{const Tt=Tn(this.g);var g=this.g.Ba();const Ri=this.g.Z();if(!(3>Tt)&&(Tt!=3||this.g&&(this.h.h||this.g.oa()||hu(this.g)))){this.J||Tt!=4||g==7||(g==8||0>=Ri?rr(3):rr(2)),Js(this);var _=this.g.Z();this.X=_;t:if(ur(this)){var A=hu(this.g);c="";var x=A.length,j=Tn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){rn(this),on(this);var te="";break t}this.h.i=new m.TextDecoder}for(g=0;g<x;g++)this.h.h=!0,c+=this.h.i.decode(A[g],{stream:!(j&&g==x-1)});A.length=0,this.h.g+=c,this.C=0,te=this.h.g}else te=this.g.oa();if(this.o=_==200,su(this.i,this.u,this.A,this.l,this.R,Tt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Pe,Et=this.g;if((Pe=Et.g?Et.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Z(Pe)){var ke=Pe;break t}}ke=null}if(_=ke)or(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ln(this,_);else{this.o=!1,this.s=3,lt(12),rn(this),on(this);break e}}if(this.P){_=!0;let Lt;for(;!this.J&&this.C<te.length;)if(Lt=cr(this,te),Lt==ss){Tt==4&&(this.s=4,lt(14),_=!1),or(this.i,this.l,null,"[Incomplete Response]");break}else if(Lt==lr){this.s=4,lt(15),or(this.i,this.l,te,"[Invalid Chunk]"),_=!1;break}else or(this.i,this.l,Lt,null),ln(this,Lt);if(ur(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||te.length!=0||this.h.h||(this.s=1,lt(16),_=!1),this.o=this.o&&_,!_)or(this.i,this.l,te,"[Invalid Chunked Response]"),rn(this),on(this);else if(0<te.length&&!this.W){this.W=!0;var Nt=this.j;Nt.g==this&&Nt.ba&&!Nt.M&&(Nt.j.info("Great, no buffering proxy detected. Bytes received: "+te.length),ps(Nt),Nt.M=!0,lt(11))}}else or(this.i,this.l,te,null),ln(this,te);Tt==4&&rn(this),this.o&&!this.J&&(Tt==4?gu(this.j,this):(this.o=!1,Je(this)))}else Lh(this.g),_==400&&0<te.indexOf("Unknown SID")?(this.s=3,lt(12)):(this.s=0,lt(13)),rn(this),on(this)}}}catch{}finally{}};function ur(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function cr(c,g){var _=c.C,A=g.indexOf(`
`,_);return A==-1?ss:(_=Number(g.substring(_,A)),isNaN(_)?lr:(A+=1,A+_>g.length?ss:(g=g.slice(A,A+_),c.C=A+_,g)))}Kn.prototype.cancel=function(){this.J=!0,rn(this)};function Je(c){c.S=Date.now()+c.I,_o(c,c.I)}function _o(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=sr(D(c.ba,c),g)}function Js(c){c.B&&(m.clearTimeout(c.B),c.B=null)}Kn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Gn(this.i,this.A),this.L!=2&&(rr(),lt(17)),rn(this),this.s=2,on(this)):_o(this,this.S-c)};function on(c){c.j.G==0||c.J||gu(c.j,c)}function rn(c){Js(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,jt(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function ln(c,g){try{var _=c.j;if(_.G!=0&&(_.g==c||hr(_.h,c))){if(!c.K&&hr(_.h,c)&&_.G==3){try{var A=_.Da.g.parse(g)}catch{A=null}if(Array.isArray(A)&&A.length==3){var x=A;if(x[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)ua(_),oa(_);else break e;Do(_),lt(18)}}else _.za=x[1],0<_.za-_.T&&37500>x[2]&&_.F&&_.v==0&&!_.C&&(_.C=sr(D(_.Za,_),6e3));if(1>=au(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else bi(_,11)}else if((c.K||_.g==c)&&ua(_),!Z(g))for(x=_.Da.g.parse(g),g=0;g<x.length;g++){let ke=x[g];if(_.T=ke[0],ke=ke[1],_.G==2)if(ke[0]=="c"){_.K=ke[1],_.ia=ke[2];const Nt=ke[3];Nt!=null&&(_.la=Nt,_.j.info("VER="+_.la));const Tt=ke[4];Tt!=null&&(_.Aa=Tt,_.j.info("SVER="+_.Aa));const Ri=ke[5];Ri!=null&&typeof Ri=="number"&&0<Ri&&(A=1.5*Ri,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const Lt=c.g;if(Lt){const Jn=Lt.g?Lt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Jn){var j=A.h;j.g||Jn.indexOf("spdy")==-1&&Jn.indexOf("quic")==-1&&Jn.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(fr(j,j.h),j.h=null))}if(A.D){const No=Lt.g?Lt.g.getResponseHeader("X-HTTP-Session-Id"):null;No&&(A.ya=No,ze(A.I,A.D,No))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var te=c;if(A.qa=_u(A,A.J?A.ia:null,A.W),te.K){yn(A.h,te);var Pe=te,Et=A.L;Et&&(Pe.I=Et),Pe.B&&(Js(Pe),Je(Pe)),A.g=te}else mu(A);0<_.i.length&&la(_)}else ke[0]!="stop"&&ke[0]!="close"||bi(_,7);else _.G==3&&(ke[0]=="stop"||ke[0]=="close"?ke[0]=="stop"?bi(_,7):Co(_):ke[0]!="noop"&&_.l&&_.l.ta(ke),_.v=0)}}rr(4)}catch{}}var Nh=class{constructor(c,g){this.g=c,this.map=g}};function vo(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Eo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function au(c){return c.h?1:c.g?c.g.size:0}function hr(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function fr(c,g){c.g?c.g.add(g):c.h=g}function yn(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}vo.prototype.cancel=function(){if(this.i=Zt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Zt(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const _ of c.g.values())g=g.concat(_.D);return g}return K(c.i)}function ou(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var g=[],_=c.length,A=0;A<_;A++)g.push(c[A]);return g}g=[],_=0;for(A in c)g[_++]=c[A];return g}function Mh(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var g=[];c=c.length;for(var _=0;_<c;_++)g.push(_);return g}g=[],_=0;for(const A in c)g[_++]=A;return g}}}function as(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var _=Mh(c),A=ou(c),x=A.length,j=0;j<x;j++)g.call(void 0,A[j],_&&_[j],c)}var To=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ea(c,g){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var A=c[_].indexOf("="),x=null;if(0<=A){var j=c[_].substring(0,A);x=c[_].substring(A+1)}else j=c[_];g(j,x?decodeURIComponent(x.replace(/\+/g," ")):"")}}}function Ei(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ei){this.h=c.h,dr(this,c.j),this.o=c.o,this.g=c.g,os(this,c.s),this.l=c.l;var g=c.i,_=new Qn;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),ta(this,_),this.m=c.m}else c&&(g=String(c).match(To))?(this.h=!1,dr(this,g[1]||"",!0),this.o=mr(g[2]||""),this.g=mr(g[3]||"",!0),os(this,g[4]),this.l=mr(g[5]||"",!0),ta(this,g[6]||"",!0),this.m=mr(g[7]||"")):(this.h=!1,this.i=new Qn(null,this.h))}Ei.prototype.toString=function(){var c=[],g=this.j;g&&c.push(_n(g,Ao,!0),":");var _=this.g;return(_||g=="file")&&(c.push("//"),(g=this.o)&&c.push(_n(g,Ao,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(_n(_,_.charAt(0)=="/"?So:lu,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",_n(_,kh)),c.join("")};function rt(c){return new Ei(c)}function dr(c,g,_){c.j=_?mr(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function os(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function ta(c,g,_){g instanceof Qn?(c.i=g,wo(c.i,c.h)):(_||(g=_n(g,Ph)),c.i=new Qn(g,c.h))}function ze(c,g,_){c.i.set(g,_)}function ls(c){return ze(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function mr(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function _n(c,g,_){return typeof c=="string"?(c=encodeURI(c).replace(g,Vh),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Vh(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ao=/[#\/\?@]/g,lu=/[#\?:]/g,So=/[#\?]/g,Ph=/[#\?@]/g,kh=/#/g;function Qn(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function vn(c){c.g||(c.g=new Map,c.h=0,c.i&&ea(c.i,function(g,_){c.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}r=Qn.prototype,r.add=function(c,g){vn(this),this.i=null,c=Si(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(g),this.h+=1,this};function na(c,g){vn(c),g=Si(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Ti(c,g){return vn(c),g=Si(c,g),c.g.has(g)}r.forEach=function(c,g){vn(this),this.g.forEach(function(_,A){_.forEach(function(x){c.call(g,x,A,this)},this)},this)},r.na=function(){vn(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let A=0;A<g.length;A++){const x=c[A];for(let j=0;j<x.length;j++)_.push(g[A])}return _},r.V=function(c){vn(this);let g=[];if(typeof c=="string")Ti(this,c)&&(g=g.concat(this.g.get(Si(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)g=g.concat(c[_])}return g},r.set=function(c,g){return vn(this),this.i=null,c=Si(this,c),Ti(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},r.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function Ai(c,g,_){na(c,g),0<_.length&&(c.i=null,c.g.set(Si(c,g),K(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var A=g[_];const j=encodeURIComponent(String(A)),te=this.V(A);for(A=0;A<te.length;A++){var x=j;te[A]!==""&&(x+="="+encodeURIComponent(String(te[A]))),c.push(x)}}return this.i=c.join("&")};function Si(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function wo(c,g){g&&!c.j&&(vn(c),c.i=null,c.g.forEach(function(_,A){var x=A.toLowerCase();A!=x&&(na(this,A),Ai(this,x,_))},c)),c.j=g}function uu(c,g){const _=new ar;if(m.Image){const A=new Image;A.onload=L(En,_,"TestLoadImage: loaded",!0,g,A),A.onerror=L(En,_,"TestLoadImage: error",!1,g,A),A.onabort=L(En,_,"TestLoadImage: abort",!1,g,A),A.ontimeout=L(En,_,"TestLoadImage: timeout",!1,g,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else g(!1)}function us(c,g){const _=new ar,A=new AbortController,x=setTimeout(()=>{A.abort(),En(_,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:A.signal}).then(j=>{clearTimeout(x),j.ok?En(_,"TestPingServer: ok",!0,g):En(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(x),En(_,"TestPingServer: error",!1,g)})}function En(c,g,_,A,x){try{x&&(x.onload=null,x.onerror=null,x.onabort=null,x.ontimeout=null),A(_)}catch{}}function cs(){this.g=new Wt}function Yn(c,g,_){const A=_||"";try{as(c,function(x,j){let te=x;y(x)&&(te=mo(x)),g.push(A+j+"="+encodeURIComponent(te))})}catch(x){throw g.push(A+"type="+encodeURIComponent("_badmap")),x}}function pr(c){this.l=c.Ub||null,this.j=c.eb||!1}z(pr,po),pr.prototype.g=function(){return new wi(this.l,this.j)},pr.prototype.i=function(c){return function(){return c}}({});function wi(c,g){_t.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}z(wi,_t),r=wi.prototype,r.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,Xn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||m).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,$n(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Xn(this)),this.g&&(this.readyState=3,Xn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;bo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function bo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?$n(this):Xn(this),this.readyState==3&&bo(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,$n(this))},r.Qa=function(c){this.g&&(this.response=c,$n(this))},r.ga=function(){this.g&&$n(this)};function $n(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Xn(c)}r.setRequestHeader=function(c,g){this.u.append(c,g)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=g.next();return c.join(`\r
`)};function Xn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(wi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Ro(c){let g="";return Se(c,function(_,A){g+=A,g+=":",g+=_,g+=`\r
`}),g}function Ot(c,g,_){e:{for(A in _){var A=!1;break e}A=!0}A||(_=Ro(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):ze(c,g,_))}function je(c){_t.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}z(je,_t);var ia=/^https?$/i,hs=["POST","PUT"];r=je.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,g,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():rs.g(),this.v=this.o?tu(this.o):tu(rs),this.g.onreadystatechange=D(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(j){cu(this,j);return}if(c=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var x in A)_.set(x,A[x]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const j of A.keys())_.set(j,A.get(j));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(j=>j.toLowerCase()=="content-type"),x=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(hs,g,void 0))||A||x||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,te]of _)this.g.setRequestHeader(j,te);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{fs(this),this.u=!0,this.g.send(c),this.u=!1}catch(j){cu(this,j)}};function cu(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,ra(c),Wn(c)}function ra(c){c.A||(c.A=!0,It(c,"complete"),It(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,It(this,"complete"),It(this,"abort"),Wn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wn(this,!0)),je.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?sa(this):this.bb())},r.bb=function(){sa(this)};function sa(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Tn(c)!=4||c.Z()!=2)){if(c.u&&Tn(c)==4)eu(c.Ea,0,c);else if(It(c,"readystatechange"),Tn(c)==4){c.h=!1;try{const te=c.Z();e:switch(te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var A;if(A=te===0){var x=String(c.D).match(To)[1]||null;!x&&m.self&&m.self.location&&(x=m.self.location.protocol.slice(0,-1)),A=!ia.test(x?x.toLowerCase():"")}_=A}if(_)It(c,"complete"),It(c,"success");else{c.m=6;try{var j=2<Tn(c)?c.g.statusText:""}catch{j=""}c.l=j+" ["+c.Z()+"]",ra(c)}}finally{Wn(c)}}}}function Wn(c,g){if(c.g){fs(c);const _=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||It(c,"ready");try{_.onreadystatechange=A}catch{}}}function fs(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Tn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Tn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),jn(g)}};function hu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Lh(c){const g={};c=(c.g&&2<=Tn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(Z(c[A]))continue;var _=V(c[A]);const x=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const j=g[x]||[];g[x]=j,j.push(_)}M(g,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ds(c,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||g}function aa(c){this.Aa=0,this.i=[],this.j=new ar,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ds("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ds("baseRetryDelayMs",5e3,c),this.cb=ds("retryDelaySeedMs",1e4,c),this.Wa=ds("forwardChannelMaxRetries",2,c),this.wa=ds("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new vo(c&&c.concurrentRequestLimit),this.Da=new cs,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=aa.prototype,r.la=8,r.G=1,r.connect=function(c,g,_,A){lt(0),this.W=c,this.H=g||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=_u(this,null,this.W),la(this)};function Co(c){if(fu(c),c.G==3){var g=c.U++,_=rt(c.I);if(ze(_,"SID",c.K),ze(_,"RID",g),ze(_,"TYPE","terminate"),ms(c,_),g=new Kn(c,c.j,g),g.L=2,g.v=ls(rt(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=g.v,_=!0),_||(g.g=vu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),Je(g)}yu(c)}function oa(c){c.g&&(ps(c),c.g.cancel(),c.g=null)}function fu(c){oa(c),c.u&&(m.clearTimeout(c.u),c.u=null),ua(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function la(c){if(!Eo(c.h)&&!c.s){c.s=!0;var g=c.Ga;_e||O(),fe||(_e(),fe=!0),qe.add(g,c),c.B=0}}function xh(c,g){return au(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=sr(D(c.Ga,c,g),Oo(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const x=new Kn(this,this.j,c);let j=this.o;if(this.S&&(j?(j=b(j),C(j,this.S)):j=this.S),this.m!==null||this.O||(x.H=j,j=null),this.P)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(g+=A,4096<g){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=du(this,x,g),_=rt(this.I),ze(_,"RID",c),ze(_,"CVER",22),this.D&&ze(_,"X-HTTP-Session-Id",this.D),ms(this,_),j&&(this.O?g="headers="+encodeURIComponent(String(Ro(j)))+"&"+g:this.m&&Ot(_,this.m,j)),fr(this.h,x),this.Ua&&ze(_,"TYPE","init"),this.P?(ze(_,"$req",g),ze(_,"SID","null"),x.T=!0,Pn(x,_,null)):Pn(x,_,g),this.G=2}}else this.G==3&&(c?Io(this,c):this.i.length==0||Eo(this.h)||Io(this))};function Io(c,g){var _;g?_=g.l:_=c.U++;const A=rt(c.I);ze(A,"SID",c.K),ze(A,"RID",_),ze(A,"AID",c.T),ms(c,A),c.m&&c.o&&Ot(A,c.m,c.o),_=new Kn(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),g&&(c.i=g.D.concat(c.i)),g=du(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),fr(c.h,_),Pn(_,A,g)}function ms(c,g){c.H&&Se(c.H,function(_,A){ze(g,A,_)}),c.l&&as({},function(_,A){ze(g,A,_)})}function du(c,g,_){_=Math.min(c.i.length,_);var A=c.l?D(c.l.Na,c.l,c):null;e:{var x=c.i;let j=-1;for(;;){const te=["count="+_];j==-1?0<_?(j=x[0].g,te.push("ofs="+j)):j=0:te.push("ofs="+j);let Pe=!0;for(let Et=0;Et<_;Et++){let ke=x[Et].g;const Nt=x[Et].map;if(ke-=j,0>ke)j=Math.max(0,x[Et].g-100),Pe=!1;else try{Yn(Nt,te,"req"+ke+"_")}catch{A&&A(Nt)}}if(Pe){A=te.join("&");break e}}}return c=c.i.splice(0,_),g.D=c,A}function mu(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;_e||O(),fe||(_e(),fe=!0),qe.add(g,c),c.v=0}}function Do(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=sr(D(c.Fa,c),Oo(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,pu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=sr(D(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,lt(10),oa(this),pu(this))};function ps(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function pu(c){c.g=new Kn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=rt(c.qa);ze(g,"RID","rpc"),ze(g,"SID",c.K),ze(g,"AID",c.T),ze(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&ze(g,"TO",c.ja),ze(g,"TYPE","xmlhttp"),ms(c,g),c.m&&c.o&&Ot(g,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=ls(rt(g)),_.m=null,_.P=!0,vi(_,c)}r.Za=function(){this.C!=null&&(this.C=null,oa(this),Do(this),lt(19))};function ua(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function gu(c,g){var _=null;if(c.g==g){ua(c),ps(c),c.g=null;var A=2}else if(hr(c.h,g))_=g.D,yn(c.h,g),A=1;else return;if(c.G!=0){if(g.o)if(A==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var x=c.B;A=Xs(),It(A,new iu(A,_)),la(c)}else mu(c);else if(x=g.s,x==3||x==0&&0<g.X||!(A==1&&xh(c,g)||A==2&&Do(c)))switch(_&&0<_.length&&(g=c.h,g.i=g.i.concat(_)),x){case 1:bi(c,5);break;case 4:bi(c,10);break;case 3:bi(c,6);break;default:bi(c,2)}}}function Oo(c,g){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*g}function bi(c,g){if(c.j.info("Error code "+g),g==2){var _=D(c.fb,c),A=c.Xa;const x=!A;A=new Ei(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||dr(A,"https"),ls(A),x?uu(A.toString(),_):us(A.toString(),_)}else lt(2);c.G=0,c.l&&c.l.sa(g),yu(c),fu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),lt(2)):(this.j.info("Failed to ping google.com"),lt(1))};function yu(c){if(c.G=0,c.ka=[],c.l){const g=Zt(c.h);(g.length!=0||c.i.length!=0)&&(q(c.ka,g),q(c.ka,c.i),c.h.i.length=0,K(c.i),c.i.length=0),c.l.ra()}}function _u(c,g,_){var A=_ instanceof Ei?rt(_):new Ei(_);if(A.g!="")g&&(A.g=g+"."+A.g),os(A,A.s);else{var x=m.location;A=x.protocol,g=g?g+"."+x.hostname:x.hostname,x=+x.port;var j=new Ei(null);A&&dr(j,A),g&&(j.g=g),x&&os(j,x),_&&(j.l=_),A=j}return _=c.D,g=c.ya,_&&g&&ze(A,_,g),ze(A,"VER",c.la),ms(c,A),A}function vu(c,g,_){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new je(new pr({eb:_})):new je(c.pa),g.Ha(c.J),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Eu(){}r=Eu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ca(){}ca.prototype.g=function(c,g){return new Jt(c,g)};function Jt(c,g){_t.call(this),this.g=new aa(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!Z(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!Z(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new Zn(this)}z(Jt,_t),Jt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Jt.prototype.close=function(){Co(this.g)},Jt.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=mo(c),c=_);g.i.push(new Nh(g.Ya++,c)),g.G==3&&la(g)},Jt.prototype.N=function(){this.g.l=null,delete this.j,Co(this.g),delete this.g,Jt.aa.N.call(this)};function Tu(c){nr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const _ in g){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}z(Tu,nr);function Au(){Vn.call(this),this.status=1}z(Au,Vn);function Zn(c){this.g=c}z(Zn,Eu),Zn.prototype.ua=function(){It(this.g,"a")},Zn.prototype.ta=function(c){It(this.g,new Tu(c))},Zn.prototype.sa=function(c){It(this.g,new Au)},Zn.prototype.ra=function(){It(this.g,"b")},ca.prototype.createWebChannel=ca.prototype.g,Jt.prototype.send=Jt.prototype.o,Jt.prototype.open=Jt.prototype.m,Jt.prototype.close=Jt.prototype.close,pT=function(){return new ca},mT=function(){return Xs()},dT=gn,im={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},vt.NO_ERROR=0,vt.TIMEOUT=8,vt.HTTP_ERROR=6,Pc=vt,_i.COMPLETE="complete",fT=_i,nu.EventType=Fn,Fn.OPEN="a",Fn.CLOSE="b",Fn.ERROR="c",Fn.MESSAGE="d",_t.prototype.listen=_t.prototype.K,Al=nu,je.prototype.listenOnce=je.prototype.L,je.prototype.getLastError=je.prototype.Ka,je.prototype.getLastErrorCode=je.prototype.Ba,je.prototype.getStatus=je.prototype.Z,je.prototype.getResponseJson=je.prototype.Oa,je.prototype.getResponseText=je.prototype.oa,je.prototype.send=je.prototype.ea,je.prototype.setWithCredentials=je.prototype.Ha,hT=je}).apply(typeof Ac<"u"?Ac:typeof self<"u"?self:typeof window<"u"?window:{});const av="@firebase/firestore",ov="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qt.UNAUTHENTICATED=new Qt(null),Qt.GOOGLE_CREDENTIALS=new Qt("google-credentials-uid"),Qt.FIRST_PARTY=new Qt("first-party-uid"),Qt.MOCK_USER=new Qt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ao="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zs=new bm("@firebase/firestore");function xa(){return zs.logLevel}function ae(r,...e){if(zs.logLevel<=Oe.DEBUG){const n=e.map(xm);zs.debug(`Firestore (${ao}): ${r}`,...n)}}function $i(r,...e){if(zs.logLevel<=Oe.ERROR){const n=e.map(xm);zs.error(`Firestore (${ao}): ${r}`,...n)}}function $a(r,...e){if(zs.logLevel<=Oe.WARN){const n=e.map(xm);zs.warn(`Firestore (${ao}): ${r}`,...n)}}function xm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(r="Unexpected state"){const e=`FIRESTORE (${ao}) INTERNAL ASSERTION FAILED: `+r;throw $i(e),new Error(e)}function Fe(r,e){r||ve()}function Ae(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends Zi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class U1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Qt.UNAUTHENTICATED))}shutdown(){}}class z1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class B1{constructor(e){this.t=e,this.currentUser=Qt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Fe(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Qr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Qr,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Qr)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Fe(typeof s.accessToken=="string"),new gT(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string"),new Qt(e)}}class H1{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=Qt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class q1{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new H1(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Qt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class lv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class j1{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,zn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){Fe(this.o===void 0);const s=u=>{u.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.R;return this.R=u.token,ae("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new lv(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Fe(typeof n.token=="string"),this.R=n.token,new lv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F1(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=F1(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ve(r,e){return r<e?-1:r>e?1:0}function Xa(r,e,n){return r.length===e.length&&r.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv=-62135596800,cv=1e6;class Rt{static now(){return Rt.fromMillis(Date.now())}static fromDate(e){return Rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*cv);return new Rt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<uv)throw new de(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/cv}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-uv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{static fromTimestamp(e){return new Ee(e)}static min(){return new Ee(new Rt(0,0))}static max(){return new Ee(new Rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hv="__name__";class si{constructor(e,n,s){n===void 0?n=0:n>e.length&&ve(),s===void 0?s=e.length-n:s>e.length-n&&ve(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return si.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof si?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=si.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Math.sign(e.length-n.length)}static compareSegments(e,n){const s=si.isNumericId(e),o=si.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?si.extractNumericId(e).compare(si.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Kr.fromString(e.substring(4,e.length-2))}}class Ze extends si{construct(e,n,s){return new Ze(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new de(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new Ze(n)}static emptyPath(){return new Ze([])}}const G1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ht extends si{construct(e,n,s){return new Ht(e,n,s)}static isValidIdentifier(e){return G1.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ht.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===hv}static keyField(){return new Ht([hv])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new de(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new de(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new de(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new de(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ht(n)}static emptyPath(){return new Ht([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.path=e}static fromPath(e){return new me(Ze.fromString(e))}static fromName(e){return new me(Ze.fromString(e).popFirst(5))}static empty(){return new me(Ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ze.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new Ze(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pl=-1;function K1(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Ee.fromTimestamp(s===1e9?new Rt(n+1,0):new Rt(n,s));return new $r(o,me.empty(),e)}function Q1(r){return new $r(r.readTime,r.key,Pl)}class $r{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new $r(Ee.min(),me.empty(),Pl)}static max(){return new $r(Ee.max(),me.empty(),Pl)}}function Y1(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=me.comparator(r.documentKey,e.documentKey),n!==0?n:Ve(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class X1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oo(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==$1)throw r;ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ve(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new X((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof X?n:X.resolve(n)}catch(n){return X.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):X.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):X.reject(n)}static resolve(e){return new X((n,s)=>{n(e)})}static reject(e){return new X((n,s)=>{s(e)})}static waitFor(e){return new X((n,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>s(p))}),f=!0,u===o&&n()})}static or(e){let n=X.resolve(!1);for(const s of e)n=n.next(o=>o?X.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new X((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const y=p;n(e[y]).next(E=>{f[y]=E,++m,m===u&&s(f)},E=>o(E))}})}static doWhile(e,n){return new X((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function W1(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function lo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.oe(s),this._e=s=>n.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}mh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Um=-1;function ph(r){return r==null}function Yc(r){return r===0&&1/r==-1/0}function Z1(r){return typeof r=="number"&&Number.isInteger(r)&&!Yc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T="";function J1(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=fv(e)),e=eI(r.get(n),e);return fv(e)}function eI(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case _T:n+="";break;default:n+=u}}return n}function fv(r){return r+_T+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dv(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function js(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function vT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e,n){this.comparator=e,this.root=n||Bt.EMPTY}insert(e,n){return new nt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Bt.BLACK,null,null))}remove(e){return new nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Bt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Sc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Sc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Sc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Sc(this.root,e,this.comparator,!0)}}class Sc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Bt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Bt.RED,this.left=o??Bt.EMPTY,this.right=u??Bt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Bt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Bt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Bt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Bt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Bt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ve();const e=this.left.check();if(e!==this.right.check())throw ve();return e+(this.isRed()?0:1)}}Bt.EMPTY=null,Bt.RED=!0,Bt.BLACK=!1;Bt.EMPTY=new class{constructor(){this.size=0}get key(){throw ve()}get value(){throw ve()}get color(){throw ve()}get left(){throw ve()}get right(){throw ve()}copy(e,n,s,o,u){return this}insert(e,n,s){return new Bt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.comparator=e,this.data=new nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new mv(this.data.getIterator())}getIteratorFrom(e){return new mv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Ct)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ct(this.comparator);return n.data=e,n}}class mv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.fields=e,e.sort(Ht.comparator)}static empty(){return new Bn([])}unionWith(e){let n=new Ct(Ht.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Bn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Xa(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new ET("Invalid base64 string: "+u):u}}(e);return new qt(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new qt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qt.EMPTY_BYTE_STRING=new qt("");const tI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xr(r){if(Fe(!!r),typeof r=="string"){let e=0;const n=tI.exec(r);if(Fe(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ct(r.seconds),nanos:ct(r.nanos)}}function ct(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Wr(r){return typeof r=="string"?qt.fromBase64String(r):qt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT="server_timestamp",AT="__type__",ST="__previous_value__",wT="__local_write_time__";function zm(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[AT])===null||n===void 0?void 0:n.stringValue)===TT}function gh(r){const e=r.mapValue.fields[ST];return zm(e)?gh(e):e}function kl(r){const e=Xr(r.mapValue.fields[wT].timestampValue);return new Rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(e,n,s,o,u,f,m,p,y){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y}}const $c="(default)";class Ll{constructor(e,n){this.projectId=e,this.database=n||$c}static empty(){return new Ll("","")}get isDefaultDatabase(){return this.database===$c}isEqual(e){return e instanceof Ll&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT="__type__",iI="__max__",wc={mapValue:{}},RT="__vector__",Xc="value";function Zr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?zm(r)?4:sI(r)?9007199254740991:rI(r)?10:11:ve()}function fi(r,e){if(r===e)return!0;const n=Zr(r);if(n!==Zr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return kl(r).isEqual(kl(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Xr(o.timestampValue),m=Xr(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return Wr(o.bytesValue).isEqual(Wr(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return ct(o.geoPointValue.latitude)===ct(u.geoPointValue.latitude)&&ct(o.geoPointValue.longitude)===ct(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return ct(o.integerValue)===ct(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=ct(o.doubleValue),m=ct(u.doubleValue);return f===m?Yc(f)===Yc(m):isNaN(f)&&isNaN(m)}return!1}(r,e);case 9:return Xa(r.arrayValue.values||[],e.arrayValue.values||[],fi);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(dv(f)!==dv(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!fi(f[p],m[p])))return!1;return!0}(r,e);default:return ve()}}function xl(r,e){return(r.values||[]).find(n=>fi(n,e))!==void 0}function Wa(r,e){if(r===e)return 0;const n=Zr(r),s=Zr(e);if(n!==s)return Ve(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(r.booleanValue,e.booleanValue);case 2:return function(u,f){const m=ct(u.integerValue||u.doubleValue),p=ct(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,e);case 3:return pv(r.timestampValue,e.timestampValue);case 4:return pv(kl(r),kl(e));case 5:return Ve(r.stringValue,e.stringValue);case 6:return function(u,f){const m=Wr(u),p=Wr(f);return m.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let y=0;y<m.length&&y<p.length;y++){const E=Ve(m[y],p[y]);if(E!==0)return E}return Ve(m.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,f){const m=Ve(ct(u.latitude),ct(f.latitude));return m!==0?m:Ve(ct(u.longitude),ct(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return gv(r.arrayValue,e.arrayValue);case 10:return function(u,f){var m,p,y,E;const w=u.fields||{},D=f.fields||{},L=(m=w[Xc])===null||m===void 0?void 0:m.arrayValue,z=(p=D[Xc])===null||p===void 0?void 0:p.arrayValue,K=Ve(((y=L==null?void 0:L.values)===null||y===void 0?void 0:y.length)||0,((E=z==null?void 0:z.values)===null||E===void 0?void 0:E.length)||0);return K!==0?K:gv(L,z)}(r.mapValue,e.mapValue);case 11:return function(u,f){if(u===wc.mapValue&&f===wc.mapValue)return 0;if(u===wc.mapValue)return 1;if(f===wc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),y=f.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let w=0;w<p.length&&w<E.length;++w){const D=Ve(p[w],E[w]);if(D!==0)return D;const L=Wa(m[p[w]],y[E[w]]);if(L!==0)return L}return Ve(p.length,E.length)}(r.mapValue,e.mapValue);default:throw ve()}}function pv(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ve(r,e);const n=Xr(r),s=Xr(e),o=Ve(n.seconds,s.seconds);return o!==0?o:Ve(n.nanos,s.nanos)}function gv(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Wa(n[o],s[o]);if(u)return u}return Ve(n.length,s.length)}function Za(r){return rm(r)}function rm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=Xr(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return Wr(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return me.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=rm(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${rm(n.fields[f])}`;return o+"}"}(r.mapValue):ve()}function kc(r){switch(Zr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=gh(r);return e?16+kc(e):16;case 5:return 2*r.stringValue.length;case 6:return Wr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+kc(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return js(s.fields,(u,f)=>{o+=u.length+kc(f)}),o}(r.mapValue);default:throw ve()}}function sm(r){return!!r&&"integerValue"in r}function Bm(r){return!!r&&"arrayValue"in r}function yv(r){return!!r&&"nullValue"in r}function _v(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Lc(r){return!!r&&"mapValue"in r}function rI(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[bT])===null||n===void 0?void 0:n.stringValue)===RT}function Rl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return js(r.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Rl(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Rl(r.arrayValue.values[n]);return e}return Object.assign({},r)}function sI(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===iI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.value=e}static empty(){return new Mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Lc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Rl(n)}setAll(e){let n=Ht.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Rl(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Lc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return fi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Lc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){js(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new Mn(Rl(this.value))}}function CT(r){const e=[];return js(r.fields,(n,s)=>{const o=new Ht([n]);if(Lc(s)){const u=CT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new Bn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Yt(e,0,Ee.min(),Ee.min(),Ee.min(),Mn.empty(),0)}static newFoundDocument(e,n,s,o){return new Yt(e,1,n,Ee.min(),s,o,0)}static newNoDocument(e,n){return new Yt(e,2,n,Ee.min(),Ee.min(),Mn.empty(),0)}static newUnknownDocument(e,n){return new Yt(e,3,n,Ee.min(),Ee.min(),Mn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Yt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Yt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e,n){this.position=e,this.inclusive=n}}function vv(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=me.comparator(me.fromName(f.referenceValue),n.key):s=Wa(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function Ev(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!fi(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e,n="asc"){this.field=e,this.dir=n}}function aI(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{}class wt extends IT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new lI(e,n,s):n==="array-contains"?new hI(e,s):n==="in"?new fI(e,s):n==="not-in"?new dI(e,s):n==="array-contains-any"?new mI(e,s):new wt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new uI(e,s):new cI(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Wa(n,this.value)):n!==null&&Zr(this.value)===Zr(n)&&this.matchesComparison(Wa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class di extends IT{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new di(e,n)}matches(e){return DT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function DT(r){return r.op==="and"}function OT(r){return oI(r)&&DT(r)}function oI(r){for(const e of r.filters)if(e instanceof di)return!1;return!0}function am(r){if(r instanceof wt)return r.field.canonicalString()+r.op.toString()+Za(r.value);if(OT(r))return r.filters.map(e=>am(e)).join(",");{const e=r.filters.map(n=>am(n)).join(",");return`${r.op}(${e})`}}function NT(r,e){return r instanceof wt?function(s,o){return o instanceof wt&&s.op===o.op&&s.field.isEqual(o.field)&&fi(s.value,o.value)}(r,e):r instanceof di?function(s,o){return o instanceof di&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&NT(f,o.filters[m]),!0):!1}(r,e):void ve()}function MT(r){return r instanceof wt?function(n){return`${n.field.canonicalString()} ${n.op} ${Za(n.value)}`}(r):r instanceof di?function(n){return n.op.toString()+" {"+n.getFilters().map(MT).join(" ,")+"}"}(r):"Filter"}class lI extends wt{constructor(e,n,s){super(e,n,s),this.key=me.fromName(s.referenceValue)}matches(e){const n=me.comparator(e.key,this.key);return this.matchesComparison(n)}}class uI extends wt{constructor(e,n){super(e,"in",n),this.keys=VT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class cI extends wt{constructor(e,n){super(e,"not-in",n),this.keys=VT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function VT(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>me.fromName(s.referenceValue))}class hI extends wt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Bm(n)&&xl(n.arrayValue,this.value)}}class fI extends wt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&xl(this.value.arrayValue,n)}}class dI extends wt{constructor(e,n){super(e,"not-in",n)}matches(e){if(xl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!xl(this.value.arrayValue,n)}}class mI extends wt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Bm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>xl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.le=null}}function Tv(r,e=null,n=[],s=[],o=null,u=null,f=null){return new pI(r,e,n,s,o,u,f)}function Hm(r){const e=Ae(r);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>am(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),ph(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Za(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Za(s)).join(",")),e.le=n}return e.le}function qm(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!aI(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!NT(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Ev(r.startAt,e.startAt)&&Ev(r.endAt,e.endAt)}function om(r){return me.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function gI(r,e,n,s,o,u,f,m){return new yh(r,e,n,s,o,u,f,m)}function PT(r){return new yh(r)}function Av(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function yI(r){return r.collectionGroup!==null}function Cl(r){const e=Ae(r);if(e.he===null){e.he=[];const n=new Set;for(const u of e.explicitOrderBy)e.he.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Ct(Ht.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.he.push(new Zc(u,s))}),n.has(Ht.keyField().canonicalString())||e.he.push(new Zc(Ht.keyField(),s))}return e.he}function li(r){const e=Ae(r);return e.Pe||(e.Pe=_I(e,Cl(r))),e.Pe}function _I(r,e){if(r.limitType==="F")return Tv(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Zc(o.field,u)});const n=r.endAt?new Wc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Wc(r.startAt.position,r.startAt.inclusive):null;return Tv(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function lm(r,e,n){return new yh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function _h(r,e){return qm(li(r),li(e))&&r.limitType===e.limitType}function kT(r){return`${Hm(li(r))}|lt:${r.limitType}`}function Ua(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>MT(o)).join(", ")}]`),ph(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>Za(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>Za(o)).join(",")),`Target(${s})`}(li(r))}; limitType=${r.limitType})`}function vh(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):me.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of Cl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(f,m,p){const y=vv(f,m,p);return f.inclusive?y<=0:y<0}(s.startAt,Cl(s),o)||s.endAt&&!function(f,m,p){const y=vv(f,m,p);return f.inclusive?y>=0:y>0}(s.endAt,Cl(s),o))}(r,e)}function vI(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function LT(r){return(e,n)=>{let s=!1;for(const o of Cl(r)){const u=EI(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function EI(r,e,n){const s=r.field.isKeyField()?me.comparator(e.key,n.key):function(u,f,m){const p=f.data.field(u),y=m.data.field(u);return p!==null&&y!==null?Wa(p,y):ve()}(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return ve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){js(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return vT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI=new nt(me.comparator);function Xi(){return TI}const xT=new nt(me.comparator);function Sl(...r){let e=xT;for(const n of r)e=e.insert(n.key,n);return e}function UT(r){let e=xT;return r.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function ks(){return Il()}function zT(){return Il()}function Il(){return new Fs(r=>r.toString(),(r,e)=>r.isEqual(e))}const AI=new nt(me.comparator),SI=new Ct(me.comparator);function Ne(...r){let e=SI;for(const n of r)e=e.add(n);return e}const wI=new Ct(Ve);function bI(){return wI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jm(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yc(e)?"-0":e}}function BT(r){return{integerValue:""+r}}function RI(r,e){return Z1(e)?BT(e):jm(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(){this._=void 0}}function CI(r,e,n){return r instanceof Jc?function(o,u){const f={fields:{[AT]:{stringValue:TT},[wT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&zm(u)&&(u=gh(u)),u&&(f.fields[ST]=u),{mapValue:f}}(n,e):r instanceof Ul?qT(r,e):r instanceof zl?jT(r,e):function(o,u){const f=HT(o,u),m=Sv(f)+Sv(o.Ie);return sm(f)&&sm(o.Ie)?BT(m):jm(o.serializer,m)}(r,e)}function II(r,e,n){return r instanceof Ul?qT(r,e):r instanceof zl?jT(r,e):n}function HT(r,e){return r instanceof eh?function(s){return sm(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class Jc extends Eh{}class Ul extends Eh{constructor(e){super(),this.elements=e}}function qT(r,e){const n=FT(e);for(const s of r.elements)n.some(o=>fi(o,s))||n.push(s);return{arrayValue:{values:n}}}class zl extends Eh{constructor(e){super(),this.elements=e}}function jT(r,e){let n=FT(e);for(const s of r.elements)n=n.filter(o=>!fi(o,s));return{arrayValue:{values:n}}}class eh extends Eh{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function Sv(r){return ct(r.integerValue||r.doubleValue)}function FT(r){return Bm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function DI(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof Ul&&o instanceof Ul||s instanceof zl&&o instanceof zl?Xa(s.elements,o.elements,fi):s instanceof eh&&o instanceof eh?fi(s.Ie,o.Ie):s instanceof Jc&&o instanceof Jc}(r.transform,e.transform)}class OI{constructor(e,n){this.version=e,this.transformResults=n}}class ui{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ui}static exists(e){return new ui(void 0,e)}static updateTime(e){return new ui(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Th{}function GT(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Fm(r.key,ui.none()):new $l(r.key,r.data,ui.none());{const n=r.data,s=Mn.empty();let o=new Ct(Ht.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new Gs(r.key,s,new Bn(o.toArray()),ui.none())}}function NI(r,e,n){r instanceof $l?function(o,u,f){const m=o.value.clone(),p=bv(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,e,n):r instanceof Gs?function(o,u,f){if(!xc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=bv(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(KT(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function Dl(r,e,n,s){return r instanceof $l?function(u,f,m,p){if(!xc(u.precondition,f))return m;const y=u.value.clone(),E=Rv(u.fieldTransforms,p,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null}(r,e,n,s):r instanceof Gs?function(u,f,m,p){if(!xc(u.precondition,f))return m;const y=Rv(u.fieldTransforms,p,f),E=f.data;return E.setAll(KT(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(w=>w.field))}(r,e,n,s):function(u,f,m){return xc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,e,n)}function MI(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=HT(s.transform,o||null);u!=null&&(n===null&&(n=Mn.empty()),n.set(s.field,u))}return n||null}function wv(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Xa(s,o,(u,f)=>DI(u,f))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class $l extends Th{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Gs extends Th{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function KT(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}}),e}function bv(r,e,n){const s=new Map;Fe(r.length===n.length);for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,II(f,m,n[o]))}return s}function Rv(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,CI(u,f,e))}return s}class Fm extends Th{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class VI extends Th{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&NI(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Dl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Dl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=zT();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=GT(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Ee.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ne())}isEqual(e){return this.batchId===e.batchId&&Xa(this.mutations,e.mutations,(n,s)=>wv(n,s))&&Xa(this.baseMutations,e.baseMutations,(n,s)=>wv(n,s))}}class Gm{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Fe(e.mutations.length===s.length);let o=function(){return AI}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Gm(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gt,xe;function xI(r){switch(r){case J.OK:return ve();case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return ve()}}function QT(r){if(r===void 0)return $i("GRPC error has no .code"),J.UNKNOWN;switch(r){case gt.OK:return J.OK;case gt.CANCELLED:return J.CANCELLED;case gt.UNKNOWN:return J.UNKNOWN;case gt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case gt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case gt.INTERNAL:return J.INTERNAL;case gt.UNAVAILABLE:return J.UNAVAILABLE;case gt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case gt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case gt.NOT_FOUND:return J.NOT_FOUND;case gt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case gt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case gt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case gt.ABORTED:return J.ABORTED;case gt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case gt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case gt.DATA_LOSS:return J.DATA_LOSS;default:return ve()}}(xe=gt||(gt={}))[xe.OK=0]="OK",xe[xe.CANCELLED=1]="CANCELLED",xe[xe.UNKNOWN=2]="UNKNOWN",xe[xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xe[xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xe[xe.NOT_FOUND=5]="NOT_FOUND",xe[xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",xe[xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",xe[xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",xe[xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xe[xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xe[xe.ABORTED=10]="ABORTED",xe[xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",xe[xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",xe[xe.INTERNAL=13]="INTERNAL",xe[xe.UNAVAILABLE=14]="UNAVAILABLE",xe[xe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UI(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI=new Kr([4294967295,4294967295],0);function Cv(r){const e=UI().encode(r),n=new cT;return n.update(e),new Uint8Array(n.digest())}function Iv(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Kr([n,s],0),new Kr([o,u],0)]}class Km{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new wl(`Invalid padding: ${n}`);if(s<0)throw new wl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new wl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new wl(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=Kr.fromNumber(this.Ee)}Ae(e,n,s){let o=e.add(n.multiply(Kr.fromNumber(s)));return o.compare(zI)===1&&(o=new Kr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=Cv(e),[s,o]=Iv(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);if(!this.Re(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Km(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.Ee===0)return;const n=Cv(e),[s,o]=Iv(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);this.Ve(f)}}Ve(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class wl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Xl.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Ah(Ee.min(),o,new nt(Ve),Xi(),Ne())}}class Xl{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Xl(s,n,Ne(),Ne(),Ne())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,n,s,o){this.me=e,this.removedTargetIds=n,this.key=s,this.fe=o}}class YT{constructor(e,n){this.targetId=e,this.ge=n}}class $T{constructor(e,n,s=qt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class Dv{constructor(){this.pe=0,this.ye=Ov(),this.we=qt.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=Ne(),n=Ne(),s=Ne();return this.ye.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:ve()}}),new Xl(this.we,this.be,e,n,s)}Me(){this.Se=!1,this.ye=Ov()}xe(e,n){this.Se=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Fe(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class BI{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Xi(),this.$e=bc(),this.Ke=bc(),this.Ue=new nt(Ve)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const s=this.He(n);switch(e.state){case 0:this.Je(n)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(n);break;case 3:this.Je(n)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),s.Ce(e.resumeToken));break;default:ve()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((s,o)=>{this.Je(o)&&n(o)})}Ze(e){const n=e.targetId,s=e.ge.count,o=this.Xe(n);if(o){const u=o.target;if(om(u))if(s===0){const f=new me(u.path);this.ze(n,f,Yt.newNoDocument(f,Ee.min()))}else Fe(s===1);else{const f=this.et(n);if(f!==s){const m=this.tt(e),p=m?this.nt(m,e,f):1;if(p!==0){this.Ye(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,y)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Wr(s).toUint8Array()}catch(p){if(p instanceof ET)return $a("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Km(f,o,u)}catch(p){return $a(p instanceof wl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ee===0?null:m}nt(e,n,s){return n.ge.count===s-this.st(e,n.targetId)?0:2}st(e,n){const s=this.ke.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.ke.it(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.ze(n,u,null),o++)}),o}ot(e){const n=new Map;this.qe.forEach((u,f)=>{const m=this.Xe(f);if(m){if(u.current&&om(m.target)){const p=new me(m.target.path);this._t(p).has(f)||this.ut(f,p)||this.ze(f,p,Yt.newNoDocument(p,e))}u.ve&&(n.set(f,u.Fe()),u.Me())}});let s=Ne();this.Ke.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const y=this.Xe(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.Qe.forEach((u,f)=>f.setReadTime(e));const o=new Ah(e,n,this.Ue,this.Qe,s);return this.Qe=Xi(),this.$e=bc(),this.Ke=bc(),this.Ue=new nt(Ve),o}Ge(e,n){if(!this.Je(e))return;const s=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,s),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(e))}ze(e,n,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,n)?o.xe(n,1):o.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(e)),this.Ke=this.Ke.insert(n,this.ct(n).add(e)),s&&(this.Qe=this.Qe.insert(n,s))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new Dv,this.qe.set(e,n)),n}ct(e){let n=this.Ke.get(e);return n||(n=new Ct(Ve),this.Ke=this.Ke.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Ct(Ve),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||ae("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Dv),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function bc(){return new nt(me.comparator)}function Ov(){return new nt(me.comparator)}const HI={asc:"ASCENDING",desc:"DESCENDING"},qI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jI={and:"AND",or:"OR"};class FI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function um(r,e){return r.useProto3Json||ph(e)?e:{value:e}}function th(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function XT(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function GI(r,e){return th(r,e.toTimestamp())}function ci(r){return Fe(!!r),Ee.fromTimestamp(function(n){const s=Xr(n);return new Rt(s.seconds,s.nanos)}(r))}function Qm(r,e){return cm(r,e).canonicalString()}function cm(r,e){const n=function(o){return new Ze(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?n:n.child(e)}function WT(r){const e=Ze.fromString(r);return Fe(n0(e)),e}function hm(r,e){return Qm(r.databaseId,e.path)}function jd(r,e){const n=WT(e);if(n.get(1)!==r.databaseId.projectId)throw new de(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new de(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new me(JT(n))}function ZT(r,e){return Qm(r.databaseId,e)}function KI(r){const e=WT(r);return e.length===4?Ze.emptyPath():JT(e)}function fm(r){return new Ze(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function JT(r){return Fe(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function Nv(r,e,n){return{name:hm(r,e),fields:n.value.mapValue.fields}}function QI(r,e){let n;if("targetChange"in e){e.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:ve()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(y,E){return y.useProto3Json?(Fe(E===void 0||typeof E=="string"),qt.fromBase64String(E||"")):(Fe(E===void 0||E instanceof Buffer||E instanceof Uint8Array),qt.fromUint8Array(E||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(y){const E=y.code===void 0?J.UNKNOWN:QT(y.code);return new de(E,y.message||"")}(f);n=new $T(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=jd(r,s.document.name),u=ci(s.document.updateTime),f=s.document.createTime?ci(s.document.createTime):Ee.min(),m=new Mn({mapValue:{fields:s.document.fields}}),p=Yt.newFoundDocument(o,u,f,m),y=s.targetIds||[],E=s.removedTargetIds||[];n=new Uc(y,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=jd(r,s.document),u=s.readTime?ci(s.readTime):Ee.min(),f=Yt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Uc([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=jd(r,s.document),u=s.removedTargetIds||[];n=new Uc([],u,o,null)}else{if(!("filter"in e))return ve();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new LI(o,u),m=s.targetId;n=new YT(m,f)}}return n}function YI(r,e){let n;if(e instanceof $l)n={update:Nv(r,e.key,e.value)};else if(e instanceof Fm)n={delete:hm(r,e.key)};else if(e instanceof Gs)n={update:Nv(r,e.key,e.data),updateMask:iD(e.fieldMask)};else{if(!(e instanceof VI))return ve();n={verify:hm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof Jc)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Ul)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof zl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof eh)return{fieldPath:f.field.canonicalString(),increment:m.Ie};throw ve()}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:GI(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:ve()}(r,e.precondition)),n}function $I(r,e){return r&&r.length>0?(Fe(e!==void 0),r.map(n=>function(o,u){let f=o.updateTime?ci(o.updateTime):ci(u);return f.isEqual(Ee.min())&&(f=ci(u)),new OI(f,o.transformResults||[])}(n,e))):[]}function XI(r,e){return{documents:[ZT(r,e.path)]}}function WI(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=ZT(r,o);const u=function(y){if(y.length!==0)return t0(di.create(y,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(y){if(y.length!==0)return y.map(E=>function(D){return{field:za(D.field),direction:eD(D.dir)}}(E))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=um(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ht:n,parent:o}}function ZI(r){let e=KI(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Fe(s===1);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(w){const D=e0(w);return D instanceof di&&OT(D)?D.getFilters():[D]}(n.where));let f=[];n.orderBy&&(f=function(w){return w.map(D=>function(z){return new Zc(Ba(z.field),function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(z.direction))}(D))}(n.orderBy));let m=null;n.limit&&(m=function(w){let D;return D=typeof w=="object"?w.value:w,ph(D)?null:D}(n.limit));let p=null;n.startAt&&(p=function(w){const D=!!w.before,L=w.values||[];return new Wc(L,D)}(n.startAt));let y=null;return n.endAt&&(y=function(w){const D=!w.before,L=w.values||[];return new Wc(L,D)}(n.endAt)),gI(e,o,f,u,m,"F",p,y)}function JI(r,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function e0(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ba(n.unaryFilter.field);return wt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ba(n.unaryFilter.field);return wt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ba(n.unaryFilter.field);return wt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ba(n.unaryFilter.field);return wt.create(f,"!=",{nullValue:"NULL_VALUE"});default:return ve()}}(r):r.fieldFilter!==void 0?function(n){return wt.create(Ba(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ve()}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return di.create(n.compositeFilter.filters.map(s=>e0(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ve()}}(n.compositeFilter.op))}(r):ve()}function eD(r){return HI[r]}function tD(r){return qI[r]}function nD(r){return jI[r]}function za(r){return{fieldPath:r.canonicalString()}}function Ba(r){return Ht.fromServerFormat(r.fieldPath)}function t0(r){return r instanceof wt?function(n){if(n.op==="=="){if(_v(n.value))return{unaryFilter:{field:za(n.field),op:"IS_NAN"}};if(yv(n.value))return{unaryFilter:{field:za(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(_v(n.value))return{unaryFilter:{field:za(n.field),op:"IS_NOT_NAN"}};if(yv(n.value))return{unaryFilter:{field:za(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:za(n.field),op:tD(n.op),value:n.value}}}(r):r instanceof di?function(n){const s=n.getFilters().map(o=>t0(o));return s.length===1?s[0]:{compositeFilter:{op:nD(n.op),filters:s}}}(r):ve()}function iD(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function n0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e,n,s,o,u=Ee.min(),f=Ee.min(),m=qt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Hr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Hr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(e){this.Tt=e}}function sD(r){const e=ZI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?lm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(){this.Tn=new oD}addToCollectionParentIndex(e,n){return this.Tn.add(n),X.resolve()}getCollectionParents(e,n){return X.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return X.resolve()}deleteFieldIndex(e,n){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,n){return X.resolve()}getDocumentsMatchingTarget(e,n){return X.resolve(null)}getIndexType(e,n){return X.resolve(0)}getFieldIndexes(e,n){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,n){return X.resolve($r.min())}getMinOffsetFromCollectionGroup(e,n){return X.resolve($r.min())}updateCollectionGroup(e,n,s){return X.resolve()}updateIndexEntries(e,n){return X.resolve()}}class oD{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Ct(Ze.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ct(Ze.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},i0=41943040;class an{static withCacheSize(e){return new an(e,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */an.DEFAULT_COLLECTION_PERCENTILE=10,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,an.DEFAULT=new an(i0,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),an.DISABLED=new an(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new Ja(0)}static Un(){return new Ja(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv="LruGarbageCollector",lD=1048576;function Pv([r,e],[n,s]){const o=Ve(r,n);return o===0?Ve(e,s):o}class uD{constructor(e){this.Hn=e,this.buffer=new Ct(Pv),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Pv(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class cD{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ae(Vv,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){lo(n)?ae(Vv,"Ignoring IndexedDB error during garbage collection: ",n):await oo(n)}await this.er(3e5)})}}class hD{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return X.resolve(mh.ae);const s=new uD(n);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.tr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ae("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(Mv)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Mv):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let s,o,u,f,m,p,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,f=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(s=w,m=Date.now(),this.removeTargets(e,s,n))).next(w=>(u=w,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(w=>(y=Date.now(),xa()<=Oe.DEBUG&&ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${w} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:w})))}}function fD(r,e){return new hD(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(){this.changes=new Fs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Yt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?X.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&Dl(s.mutation,o,Bn.empty(),Rt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Ne()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Ne()){const o=ks();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=Sl();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=ks();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Ne()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,o){let u=Xi();const f=Il(),m=function(){return Il()}();return n.forEach((p,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof Gs)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),Dl(E.mutation,y,E.mutation.getFieldMask(),Rt.now())):f.set(y.key,Bn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((y,E)=>f.set(y,E)),n.forEach((y,E)=>{var w;return m.set(y,new mD(E,(w=f.get(y))!==null&&w!==void 0?w:null))}),m))}recalculateAndSaveOverlays(e,n){const s=Il();let o=new nt((f,m)=>f-m),u=Ne();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const y=n.get(p);if(y===null)return;let E=s.get(p)||Bn.empty();E=m.applyToLocalView(y,E),s.set(p,E);const w=(o.get(m.batchId)||Ne()).add(p);o=o.insert(m.batchId,w)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,E=p.value,w=zT();E.forEach(D=>{if(!u.has(D)){const L=GT(n.get(D),s.get(D));L!==null&&w.set(D,L),u=u.add(D)}}),f.push(this.documentOverlayCache.saveOverlays(e,y,w))}return X.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return me.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):yI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):X.resolve(ks());let m=Pl,p=u;return f.next(y=>X.forEach(y,(E,w)=>(m<w.largestBatchId&&(m=w.largestBatchId),u.get(E)?X.resolve():this.remoteDocumentCache.getEntry(e,E).next(D=>{p=p.insert(E,D)}))).next(()=>this.populateOverlays(e,y,u)).next(()=>this.computeViews(e,p,y,Ne())).next(E=>({batchId:m,changes:UT(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new me(n)).next(s=>{let o=Sl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Sl();return this.indexManager.getCollectionParents(e,u).next(m=>X.forEach(m,p=>{const y=function(w,D){return new yh(D,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next(E=>{E.forEach((w,D)=>{f=f.insert(w,D)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((p,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,Yt.newInvalidDocument(E)))});let m=Sl();return f.forEach((p,y)=>{const E=u.get(p);E!==void 0&&Dl(E.mutation,y,Bn.empty(),Rt.now()),vh(n,y)&&(m=m.insert(p,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return X.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:ci(o.createTime)}}(n)),X.resolve()}getNamedQuery(e,n){return X.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(o){return{name:o.name,query:sD(o.bundledQuery),readTime:ci(o.readTime)}}(n)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(){this.overlays=new nt(me.comparator),this.Rr=new Map}getOverlay(e,n){return X.resolve(this.overlays.get(n))}getOverlays(e,n){const s=ks();return X.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.Et(e,n,u)}),X.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),X.resolve()}getOverlaysForCollection(e,n,s){const o=ks(),u=n.length+1,f=new me(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return X.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new nt((y,E)=>y-E);const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=ks(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=ks(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,E)=>m.set(y,E)),!(m.size()>=o)););return X.resolve(m)}Et(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new kI(n,s));let u=this.Rr.get(n);u===void 0&&(u=Ne(),this.Rr.set(n,u)),this.Rr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(){this.sessionToken=qt.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(){this.Vr=new Ct(kt.mr),this.gr=new Ct(kt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const s=new kt(e,n);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.wr(new kt(e,n))}br(e,n){e.forEach(s=>this.removeReference(s,n))}Sr(e){const n=new me(new Ze([])),s=new kt(n,e),o=new kt(n,e+1),u=[];return this.gr.forEachInRange([s,o],f=>{this.wr(f),u.push(f.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new me(new Ze([])),s=new kt(n,e),o=new kt(n,e+1);let u=Ne();return this.gr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new kt(e,0),s=this.Vr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class kt{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return me.comparator(e.key,n.key)||Ve(e.Cr,n.Cr)}static pr(e,n){return Ve(e.Cr,n.Cr)||me.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Ct(kt.mr)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new PI(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Mr=this.Mr.add(new kt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return X.resolve(f)}lookupMutationBatch(e,n){return X.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Nr(s),u=o<0?0:o;return X.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Um:this.Fr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new kt(n,0),o=new kt(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,o],f=>{const m=this.Or(f.Cr);u.push(m)}),X.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ct(Ve);return n.forEach(o=>{const u=new kt(o,0),f=new kt(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,f],m=>{s=s.add(m.Cr)})}),X.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;me.isDocumentKey(u)||(u=u.child(""));const f=new kt(new me(u),0);let m=new Ct(Ve);return this.Mr.forEachWhile(p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.Cr)),!0)},f),X.resolve(this.Br(m))}Br(e){const n=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Fe(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return X.forEach(n.mutations,o=>{const u=new kt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,n){const s=new kt(n,0),o=this.Mr.firstAfterOrEqual(s);return X.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(e){this.kr=e,this.docs=function(){return new nt(me.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.kr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return X.resolve(s?s.document.mutableCopy():Yt.newInvalidDocument(n))}getEntries(e,n){let s=Xi();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Yt.newInvalidDocument(o))}),X.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=Xi();const f=n.path,m=new me(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||Y1(Q1(E),s)<=0||(o.has(E.key)||vh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return X.resolve(u)}getAllFromCollectionGroup(e,n,s,o){ve()}qr(e,n){return X.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new TD(this)}getSize(e){return X.resolve(this.size)}}class TD extends dD{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),X.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e){this.persistence=e,this.Qr=new Fs(n=>Hm(n),qm),this.lastRemoteSnapshotVersion=Ee.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Ym,this.targetCount=0,this.Ur=Ja.Kn()}forEachTarget(e,n){return this.Qr.forEach((s,o)=>n(o)),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.$r&&(this.$r=n),X.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ur=new Ja(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,X.resolve()}updateTargetData(e,n){return this.zn(n),X.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Kr.Sr(n.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.Qr.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Qr.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),X.waitFor(u).next(()=>o)}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,n){const s=this.Qr.get(n)||null;return X.resolve(s)}addMatchingKeys(e,n,s){return this.Kr.yr(n,s),X.resolve()}removeMatchingKeys(e,n,s){this.Kr.br(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),X.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.Kr.Sr(n),X.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Kr.vr(n);return X.resolve(s)}containsKey(e,n){return X.resolve(this.Kr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new mh(0),this.zr=!1,this.zr=!0,this.jr=new _D,this.referenceDelegate=e(this),this.Hr=new AD(this),this.indexManager=new aD,this.remoteDocumentCache=function(o){return new ED(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new rD(n),this.Yr=new gD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new yD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Wr[e.toKey()];return s||(s=new vD(n,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,s){ae("MemoryPersistence","Starting transaction:",e);const o=new SD(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(e,n){return X.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,n)))}}class SD extends X1{constructor(e){super(),this.currentSequenceNumber=e}}class $m{constructor(e){this.persistence=e,this.ti=new Ym,this.ni=null}static ri(e){return new $m(e)}get ii(){if(this.ni)return this.ni;throw ve()}addReference(e,n,s){return this.ti.addReference(s,n),this.ii.delete(s.toString()),X.resolve()}removeReference(e,n,s){return this.ti.removeReference(s,n),this.ii.add(s.toString()),X.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),X.resolve()}removeTarget(e,n){this.ti.Sr(n.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.ii,s=>{const o=me.fromPath(s);return this.si(e,o).next(u=>{u||n.removeEntry(o,Ee.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(s=>{s?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return X.or([()=>X.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class nh{constructor(e,n){this.persistence=e,this.oi=new Fs(s=>J1(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=fD(this,n)}static ri(e,n){return new nh(e,n)}Zr(){}Xr(e){return X.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}sr(e){let n=0;return this.rr(e,s=>{n++}).next(()=>n)}rr(e,n){return X.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(u=>u?X.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(e,f=>this.ar(e,f,n).next(m=>{m||(s++,u.removeEntry(f,Ee.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),X.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),X.resolve()}removeReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),X.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=kc(e.data.value)),n}ar(e,n,s){return X.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.oi.get(n);return X.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Hi=s,this.Ji=o}static Yi(e,n){let s=Ne(),o=Ne();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Xm(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return ab()?8:W1($t())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.rs(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ss(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new wD;return this._s(e,n,f).next(m=>{if(u.result=m,this.Xi)return this.us(e,n,f,m.size)})}).next(()=>u.result)}us(e,n,s,o){return s.documentReadCount<this.es?(xa()<=Oe.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",Ua(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),X.resolve()):(xa()<=Oe.DEBUG&&ae("QueryEngine","Query:",Ua(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(xa()<=Oe.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",Ua(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,li(n))):X.resolve())}rs(e,n){if(Av(n))return X.resolve(null);let s=li(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=lm(n,null,"F"),s=li(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=Ne(...u);return this.ns.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const y=this.cs(n,m);return this.ls(n,y,f,p.readTime)?this.rs(e,lm(n,null,"F")):this.hs(e,y,n,p)}))})))}ss(e,n,s,o){return Av(n)||o.isEqual(Ee.min())?X.resolve(null):this.ns.getDocuments(e,s).next(u=>{const f=this.cs(n,u);return this.ls(n,f,s,o)?X.resolve(null):(xa()<=Oe.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ua(n)),this.hs(e,f,n,K1(o,Pl)).next(m=>m))})}cs(e,n){let s=new Ct(LT(e));return n.forEach((o,u)=>{vh(e,u)&&(s=s.add(u))}),s}ls(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(e,n,s){return xa()<=Oe.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",Ua(n)),this.ns.getDocumentsMatchingQuery(e,n,$r.min(),s)}hs(e,n,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wm="LocalStore",RD=3e8;class CD{constructor(e,n,s,o){this.persistence=e,this.Ps=n,this.serializer=o,this.Ts=new nt(Ve),this.Is=new Fs(u=>Hm(u),qm),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new pD(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function ID(r,e,n,s){return new CD(r,e,n,s)}async function s0(r,e){const n=Ae(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.As(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=Ne();for(const y of o){f.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next(y=>({Rs:y,removedBatchIds:f,addedBatchIds:m}))})})}function DD(r,e){const n=Ae(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.ds.newChangeBuffer({trackRemovals:!0});return function(m,p,y,E){const w=y.batch,D=w.keys();let L=X.resolve();return D.forEach(z=>{L=L.next(()=>E.getEntry(p,z)).next(K=>{const q=y.docVersions.get(z);Fe(q!==null),K.version.compareTo(q)<0&&(w.applyToRemoteDocument(K,y),K.isValidDocument()&&(K.setReadTime(y.commitVersion),E.addEntry(K)))})}),L.next(()=>m.mutationQueue.removeMutationBatch(p,w))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Ne();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function a0(r){const e=Ae(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function OD(r,e){const n=Ae(r),s=e.snapshotVersion;let o=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.ds.newChangeBuffer({trackRemovals:!0});o=n.Ts;const m=[];e.targetChanges.forEach((E,w)=>{const D=o.get(w);if(!D)return;m.push(n.Hr.removeMatchingKeys(u,E.removedDocuments,w).next(()=>n.Hr.addMatchingKeys(u,E.addedDocuments,w)));let L=D.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(w)!==null?L=L.withResumeToken(qt.EMPTY_BYTE_STRING,Ee.min()).withLastLimboFreeSnapshotVersion(Ee.min()):E.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(E.resumeToken,s)),o=o.insert(w,L),function(K,q,Q){return K.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=RD?!0:Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0}(D,L,E)&&m.push(n.Hr.updateTargetData(u,L))});let p=Xi(),y=Ne();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(ND(u,f,e.documentUpdates).next(E=>{p=E.Vs,y=E.fs})),!s.isEqual(Ee.min())){const E=n.Hr.getLastRemoteSnapshotVersion(u).next(w=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return X.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,y)).next(()=>p)}).then(u=>(n.Ts=o,u))}function ND(r,e,n){let s=Ne(),o=Ne();return n.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let f=Xi();return n.forEach((m,p)=>{const y=u.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Ee.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):ae(Wm,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)}),{Vs:f,fs:o}})}function MD(r,e){const n=Ae(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Um),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function VD(r,e){const n=Ae(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Hr.getTargetData(s,e).next(u=>u?(o=u,X.resolve(o)):n.Hr.allocateTargetId(s).next(f=>(o=new Hr(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(s.targetId,s),n.Is.set(e,s.targetId)),s})}async function dm(r,e,n){const s=Ae(r),o=s.Ts.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!lo(f))throw f;ae(Wm,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function kv(r,e,n){const s=Ae(r);let o=Ee.min(),u=Ne();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,y,E){const w=Ae(p),D=w.Is.get(E);return D!==void 0?X.resolve(w.Ts.get(D)):w.Hr.getTargetData(y,E)}(s,f,li(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(f,e,n?o:Ee.min(),n?u:Ne())).next(m=>(PD(s,vI(e),m),{documents:m,gs:u})))}function PD(r,e,n){let s=r.Es.get(e)||Ee.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Es.set(e,s)}class Lv{constructor(){this.activeTargetIds=bI()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class kD{constructor(){this.ho=new Lv,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,s){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Lv,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv="ConnectivityMonitor";class Uv{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ae(xv,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ae(xv,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rc=null;function mm(){return Rc===null?Rc=function(){return 268435456+Math.round(2147483648*Math.random())}():Rc++,"0x"+Rc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fd="RestConnection",xD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class UD{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===$c?`project_id=${s}`:`project_id=${s}&database_id=${o}`}bo(e,n,s,o,u){const f=mm(),m=this.So(e,n.toUriEncodedString());ae(Fd,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,u),this.vo(e,m,p,s).then(y=>(ae(Fd,`Received RPC '${e}' ${f}: `,y),y),y=>{throw $a(Fd,`RPC '${e}' ${f} failed with error: `,y,"url: ",m,"request:",s),y})}Co(e,n,s,o,u,f){return this.bo(e,n,s,o,u)}Do(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ao}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}So(e,n){const s=xD[e];return`${this.po}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kt="WebChannelConnection";class BD extends UD{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,s,o){const u=mm();return new Promise((f,m)=>{const p=new hT;p.setWithCredentials(!0),p.listenOnce(fT.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Pc.NO_ERROR:const E=p.getResponseJson();ae(Kt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),f(E);break;case Pc.TIMEOUT:ae(Kt,`RPC '${e}' ${u} timed out`),m(new de(J.DEADLINE_EXCEEDED,"Request time out"));break;case Pc.HTTP_ERROR:const w=p.getStatus();if(ae(Kt,`RPC '${e}' ${u} failed with status:`,w,"response text:",p.getResponseText()),w>0){let D=p.getResponseJson();Array.isArray(D)&&(D=D[0]);const L=D==null?void 0:D.error;if(L&&L.status&&L.message){const z=function(q){const Q=q.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(Q)>=0?Q:J.UNKNOWN}(L.status);m(new de(z,L.message))}else m(new de(J.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new de(J.UNAVAILABLE,"Connection failed."));break;default:ve()}}finally{ae(Kt,`RPC '${e}' ${u} completed.`)}});const y=JSON.stringify(o);ae(Kt,`RPC '${e}' ${u} sending request:`,o),p.send(n,"POST",y,s,15)})}Wo(e,n,s){const o=mm(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=pT(),m=mT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");ae(Kt,`Creating RPC '${e}' stream ${o}: ${E}`,p);const w=f.createWebChannel(E,p);let D=!1,L=!1;const z=new zD({Fo:q=>{L?ae(Kt,`Not sending because RPC '${e}' stream ${o} is closed:`,q):(D||(ae(Kt,`Opening RPC '${e}' stream ${o} transport.`),w.open(),D=!0),ae(Kt,`RPC '${e}' stream ${o} sending:`,q),w.send(q))},Mo:()=>w.close()}),K=(q,Q,Z)=>{q.listen(Q,ne=>{try{Z(ne)}catch(pe){setTimeout(()=>{throw pe},0)}})};return K(w,Al.EventType.OPEN,()=>{L||(ae(Kt,`RPC '${e}' stream ${o} transport opened.`),z.Qo())}),K(w,Al.EventType.CLOSE,()=>{L||(L=!0,ae(Kt,`RPC '${e}' stream ${o} transport closed`),z.Ko())}),K(w,Al.EventType.ERROR,q=>{L||(L=!0,$a(Kt,`RPC '${e}' stream ${o} transport errored:`,q),z.Ko(new de(J.UNAVAILABLE,"The operation could not be completed")))}),K(w,Al.EventType.MESSAGE,q=>{var Q;if(!L){const Z=q.data[0];Fe(!!Z);const ne=Z,pe=(ne==null?void 0:ne.error)||((Q=ne[0])===null||Q===void 0?void 0:Q.error);if(pe){ae(Kt,`RPC '${e}' stream ${o} received error:`,pe);const le=pe.status;let Se=function(S){const C=gt[S];if(C!==void 0)return QT(C)}(le),M=pe.message;Se===void 0&&(Se=J.INTERNAL,M="Unknown error status: "+le+" with message "+pe.message),L=!0,z.Ko(new de(Se,M)),w.close()}else ae(Kt,`RPC '${e}' stream ${o} received:`,Z),z.Uo(Z)}}),K(m,dT.STAT_EVENT,q=>{q.stat===im.PROXY?ae(Kt,`RPC '${e}' stream ${o} detected buffering proxy`):q.stat===im.NOPROXY&&ae(Kt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{z.$o()},0),z}}function Gd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sh(r){return new FI(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ti=e,this.timerId=n,this.Go=s,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,n-s);o>0&&ae("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zv="PersistentStream";class l0{constructor(e,n,s,o,u,f,m,p){this.Ti=e,this.n_=s,this.r_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new o0(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?($i(n.toString()),$i("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===n&&this.V_(s,o)},s=>{e(()=>{const o=new de(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,n){const s=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ae(zv,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(ae(zv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class HD extends l0{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=QI(this.serializer,e),s=function(u){if(!("targetChange"in u))return Ee.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Ee.min():f.readTime?ci(f.readTime):Ee.min()}(e);return this.listener.p_(n,s)}y_(e){const n={};n.database=fm(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=om(p)?{documents:XI(u,p)}:{query:WI(u,p).ht},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=XT(u,f.resumeToken);const y=um(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(Ee.min())>0){m.readTime=th(u,f.snapshotVersion.toTimestamp());const y=um(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,e);const s=JI(this.serializer,e);s&&(n.labels=s),this.I_(n)}w_(e){const n={};n.database=fm(this.serializer),n.removeTarget=e,this.I_(n)}}class qD extends l0{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return Fe(!!e.streamToken),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Fe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=$I(e.writeResults,e.commitTime),s=ci(e.commitTime);return this.listener.v_(s,n)}C_(){const e={};e.database=fm(this.serializer),this.I_(e)}S_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>YI(this.serializer,s))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{}class FD extends jD{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new de(J.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,n,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.bo(e,cm(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new de(J.UNKNOWN,u.toString())})}Co(e,n,s,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Co(e,cm(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new de(J.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class GD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?($i(n),this.N_=!1):ae("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs="RemoteStore";class KD{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(f=>{s.enqueueAndForget(async()=>{Ks(this)&&(ae(Bs,"Restarting streams for network reachability change."),await async function(p){const y=Ae(p);y.W_.add(4),await Wl(y),y.j_.set("Unknown"),y.W_.delete(4),await wh(y)}(this))})}),this.j_=new GD(s,o)}}async function wh(r){if(Ks(r))for(const e of r.G_)await e(!0)}async function Wl(r){for(const e of r.G_)await e(!1)}function u0(r,e){const n=Ae(r);n.U_.has(e.targetId)||(n.U_.set(e.targetId,e),tp(n)?ep(n):uo(n).c_()&&Jm(n,e))}function Zm(r,e){const n=Ae(r),s=uo(n);n.U_.delete(e),s.c_()&&c0(n,e),n.U_.size===0&&(s.c_()?s.P_():Ks(n)&&n.j_.set("Unknown"))}function Jm(r,e){if(r.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ee.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}uo(r).y_(e)}function c0(r,e){r.H_.Ne(e),uo(r).w_(e)}function ep(r){r.H_=new BI({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>r.U_.get(e)||null,it:()=>r.datastore.serializer.databaseId}),uo(r).start(),r.j_.B_()}function tp(r){return Ks(r)&&!uo(r).u_()&&r.U_.size>0}function Ks(r){return Ae(r).W_.size===0}function h0(r){r.H_=void 0}async function QD(r){r.j_.set("Online")}async function YD(r){r.U_.forEach((e,n)=>{Jm(r,e)})}async function $D(r,e){h0(r),tp(r)?(r.j_.q_(e),ep(r)):r.j_.set("Unknown")}async function XD(r,e,n){if(r.j_.set("Online"),e instanceof $T&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.U_.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.U_.delete(m),o.H_.removeTarget(m))}(r,e)}catch(s){ae(Bs,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await ih(r,s)}else if(e instanceof Uc?r.H_.We(e):e instanceof YT?r.H_.Ze(e):r.H_.je(e),!n.isEqual(Ee.min()))try{const s=await a0(r.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.H_.ot(f);return m.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.U_.get(y);E&&u.U_.set(y,E.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,y)=>{const E=u.U_.get(p);if(!E)return;u.U_.set(p,E.withResumeToken(qt.EMPTY_BYTE_STRING,E.snapshotVersion)),c0(u,p);const w=new Hr(E.target,p,y,E.sequenceNumber);Jm(u,w)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(s){ae(Bs,"Failed to raise snapshot:",s),await ih(r,s)}}async function ih(r,e,n){if(!lo(e))throw e;r.W_.add(1),await Wl(r),r.j_.set("Offline"),n||(n=()=>a0(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ae(Bs,"Retrying IndexedDB access"),await n(),r.W_.delete(1),await wh(r)})}function f0(r,e){return e().catch(n=>ih(r,n,e))}async function bh(r){const e=Ae(r),n=Jr(e);let s=e.K_.length>0?e.K_[e.K_.length-1].batchId:Um;for(;WD(e);)try{const o=await MD(e.localStore,s);if(o===null){e.K_.length===0&&n.P_();break}s=o.batchId,ZD(e,o)}catch(o){await ih(e,o)}d0(e)&&m0(e)}function WD(r){return Ks(r)&&r.K_.length<10}function ZD(r,e){r.K_.push(e);const n=Jr(r);n.c_()&&n.b_&&n.S_(e.mutations)}function d0(r){return Ks(r)&&!Jr(r).u_()&&r.K_.length>0}function m0(r){Jr(r).start()}async function JD(r){Jr(r).C_()}async function eO(r){const e=Jr(r);for(const n of r.K_)e.S_(n.mutations)}async function tO(r,e,n){const s=r.K_.shift(),o=Gm.from(s,e,n);await f0(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await bh(r)}async function nO(r,e){e&&Jr(r).b_&&await async function(s,o){if(function(f){return xI(f)&&f!==J.ABORTED}(o.code)){const u=s.K_.shift();Jr(s).h_(),await f0(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await bh(s)}}(r,e),d0(r)&&m0(r)}async function Bv(r,e){const n=Ae(r);n.asyncQueue.verifyOperationInProgress(),ae(Bs,"RemoteStore received new credentials");const s=Ks(n);n.W_.add(3),await Wl(n),s&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await wh(n)}async function iO(r,e){const n=Ae(r);e?(n.W_.delete(2),await wh(n)):e||(n.W_.add(2),await Wl(n),n.j_.set("Unknown"))}function uo(r){return r.J_||(r.J_=function(n,s,o){const u=Ae(n);return u.M_(),new HD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:QD.bind(null,r),No:YD.bind(null,r),Lo:$D.bind(null,r),p_:XD.bind(null,r)}),r.G_.push(async e=>{e?(r.J_.h_(),tp(r)?ep(r):r.j_.set("Unknown")):(await r.J_.stop(),h0(r))})),r.J_}function Jr(r){return r.Y_||(r.Y_=function(n,s,o){const u=Ae(n);return u.M_(),new qD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:JD.bind(null,r),Lo:nO.bind(null,r),D_:eO.bind(null,r),v_:tO.bind(null,r)}),r.G_.push(async e=>{e?(r.Y_.h_(),await bh(r)):(await r.Y_.stop(),r.K_.length>0&&(ae(Bs,`Stopping write stream with ${r.K_.length} pending writes`),r.K_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new np(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ip(r,e){if($i("AsyncQueue",`${e}: ${r}`),lo(r))return new de(J.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{static emptySet(e){return new Ka(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||me.comparator(n.key,s.key):(n,s)=>me.comparator(n.key,s.key),this.keyedMap=Sl(),this.sortedSet=new nt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ka)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Ka;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{constructor(){this.Z_=new nt(me.comparator)}track(e){const n=e.doc.key,s=this.Z_.get(n);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(n):e.type===1&&s.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):ve():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,s)=>{e.push(s)}),e}}class eo{constructor(e,n,s,o,u,f,m,p,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new eo(e,n,Ka.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_h(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class sO{constructor(){this.queries=qv(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,s){const o=Ae(n),u=o.queries;o.queries=qv(),u.forEach((f,m)=>{for(const p of m.ta)p.onError(s)})})(this,new de(J.ABORTED,"Firestore shutting down"))}}function qv(){return new Fs(r=>kT(r),_h)}async function aO(r,e){const n=Ae(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.na()&&e.ra()&&(s=2):(u=new rO,s=e.ra()?0:1);try{switch(s){case 0:u.ea=await n.onListen(o,!0);break;case 1:u.ea=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=ip(f,`Initialization of query '${Ua(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ta.push(e),e.sa(n.onlineState),u.ea&&e.oa(u.ea)&&rp(n)}async function oO(r,e){const n=Ae(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.ta.indexOf(e);f>=0&&(u.ta.splice(f,1),u.ta.length===0?o=e.ra()?0:1:!u.na()&&e.ra()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function lO(r,e){const n=Ae(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ta)m.oa(o)&&(s=!0);f.ea=o}}s&&rp(n)}function uO(r,e,n){const s=Ae(r),o=s.queries.get(e);if(o)for(const u of o.ta)u.onError(n);s.queries.delete(e)}function rp(r){r.ia.forEach(e=>{e.next()})}var pm,jv;(jv=pm||(pm={}))._a="default",jv.Cache="cache";class cO{constructor(e,n,s){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new eo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const s=n!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=eo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==pm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(e){this.key=e}}class g0{constructor(e){this.key=e}}class hO{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ne(),this.mutatedKeys=Ne(),this.ya=LT(e),this.wa=new Ka(this.ya)}get ba(){return this.fa}Sa(e,n){const s=n?n.Da:new Hv,o=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,w)=>{const D=o.get(E),L=vh(this.query,w)?w:null,z=!!D&&this.mutatedKeys.has(D.key),K=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let q=!1;D&&L?D.data.isEqual(L.data)?z!==K&&(s.track({type:3,doc:L}),q=!0):this.va(D,L)||(s.track({type:2,doc:L}),q=!0,(p&&this.ya(L,p)>0||y&&this.ya(L,y)<0)&&(m=!0)):!D&&L?(s.track({type:0,doc:L}),q=!0):D&&!L&&(s.track({type:1,doc:D}),q=!0,(p||y)&&(m=!0)),q&&(L?(f=f.add(L),u=K?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{wa:f,Da:s,ls:m,mutatedKeys:u}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const f=e.Da.X_();f.sort((E,w)=>function(L,z){const K=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve()}};return K(L)-K(z)}(E.type,w.type)||this.ya(E.doc,w.doc)),this.Ca(s),o=o!=null&&o;const m=n&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,y=p!==this.ga;return this.ga=p,f.length!==0||y?{snapshot:new eo(this.query,e.wa,u,f,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Hv,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ne(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const n=[];return e.forEach(s=>{this.pa.has(s)||n.push(new g0(s))}),this.pa.forEach(s=>{e.has(s)||n.push(new p0(s))}),n}Oa(e){this.fa=e.gs,this.pa=Ne();const n=this.Sa(e.documents);return this.applyChanges(n,!0)}Na(){return eo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const sp="SyncEngine";class fO{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class dO{constructor(e){this.key=e,this.Ba=!1}}class mO{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new Fs(m=>kT(m),_h),this.qa=new Map,this.Qa=new Set,this.$a=new nt(me.comparator),this.Ka=new Map,this.Ua=new Ym,this.Wa={},this.Ga=new Map,this.za=Ja.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function pO(r,e,n=!0){const s=A0(r);let o;const u=s.ka.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await y0(s,e,n,!0),o}async function gO(r,e){const n=A0(r);await y0(n,e,!0,!1)}async function y0(r,e,n,s){const o=await VD(r.localStore,li(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await yO(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&u0(r.remoteStore,o),m}async function yO(r,e,n,s,o){r.Ha=(w,D,L)=>async function(K,q,Q,Z){let ne=q.view.Sa(Q);ne.ls&&(ne=await kv(K.localStore,q.query,!1).then(({documents:M})=>q.view.Sa(M,ne)));const pe=Z&&Z.targetChanges.get(q.targetId),le=Z&&Z.targetMismatches.get(q.targetId)!=null,Se=q.view.applyChanges(ne,K.isPrimaryClient,pe,le);return Gv(K,q.targetId,Se.Ma),Se.snapshot}(r,w,D,L);const u=await kv(r.localStore,e,!0),f=new hO(e,u.gs),m=f.Sa(u.documents),p=Xl.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(m,r.isPrimaryClient,p);Gv(r,n,y.Ma);const E=new fO(e,n,f);return r.ka.set(e,E),r.qa.has(n)?r.qa.get(n).push(e):r.qa.set(n,[e]),y.snapshot}async function _O(r,e,n){const s=Ae(r),o=s.ka.get(e),u=s.qa.get(o.targetId);if(u.length>1)return s.qa.set(o.targetId,u.filter(f=>!_h(f,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await dm(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Zm(s.remoteStore,o.targetId),gm(s,o.targetId)}).catch(oo)):(gm(s,o.targetId),await dm(s.localStore,o.targetId,!0))}async function vO(r,e){const n=Ae(r),s=n.ka.get(e),o=n.qa.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Zm(n.remoteStore,s.targetId))}async function EO(r,e,n){const s=CO(r);try{const o=await function(f,m){const p=Ae(f),y=Rt.now(),E=m.reduce((L,z)=>L.add(z.key),Ne());let w,D;return p.persistence.runTransaction("Locally write mutations","readwrite",L=>{let z=Xi(),K=Ne();return p.ds.getEntries(L,E).next(q=>{z=q,z.forEach((Q,Z)=>{Z.isValidDocument()||(K=K.add(Q))})}).next(()=>p.localDocuments.getOverlayedDocuments(L,z)).next(q=>{w=q;const Q=[];for(const Z of m){const ne=MI(Z,w.get(Z.key).overlayedDocument);ne!=null&&Q.push(new Gs(Z.key,ne,CT(ne.value.mapValue),ui.exists(!0)))}return p.mutationQueue.addMutationBatch(L,y,Q,m)}).next(q=>{D=q;const Q=q.applyToLocalDocumentSet(w,K);return p.documentOverlayCache.saveOverlays(L,q.batchId,Q)})}).then(()=>({batchId:D.batchId,changes:UT(w)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let y=f.Wa[f.currentUser.toKey()];y||(y=new nt(Ve)),y=y.insert(m,p),f.Wa[f.currentUser.toKey()]=y}(s,o.batchId,n),await Zl(s,o.changes),await bh(s.remoteStore)}catch(o){const u=ip(o,"Failed to persist write");n.reject(u)}}async function _0(r,e){const n=Ae(r);try{const s=await OD(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Ka.get(u);f&&(Fe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Ba=!0:o.modifiedDocuments.size>0?Fe(f.Ba):o.removedDocuments.size>0&&(Fe(f.Ba),f.Ba=!1))}),await Zl(n,s,e)}catch(s){await oo(s)}}function Fv(r,e,n){const s=Ae(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.ka.forEach((u,f)=>{const m=f.view.sa(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=Ae(f);p.onlineState=m;let y=!1;p.queries.forEach((E,w)=>{for(const D of w.ta)D.sa(m)&&(y=!0)}),y&&rp(p)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function TO(r,e,n){const s=Ae(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Ka.get(e),u=o&&o.key;if(u){let f=new nt(me.comparator);f=f.insert(u,Yt.newNoDocument(u,Ee.min()));const m=Ne().add(u),p=new Ah(Ee.min(),new Map,new nt(Ve),f,m);await _0(s,p),s.$a=s.$a.remove(u),s.Ka.delete(e),ap(s)}else await dm(s.localStore,e,!1).then(()=>gm(s,e,n)).catch(oo)}async function AO(r,e){const n=Ae(r),s=e.batch.batchId;try{const o=await DD(n.localStore,e);E0(n,s,null),v0(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Zl(n,o)}catch(o){await oo(o)}}async function SO(r,e,n){const s=Ae(r);try{const o=await function(f,m){const p=Ae(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return p.mutationQueue.lookupMutationBatch(y,m).next(w=>(Fe(w!==null),E=w.keys(),p.mutationQueue.removeMutationBatch(y,w))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>p.localDocuments.getDocuments(y,E))})}(s.localStore,e);E0(s,e,n),v0(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Zl(s,o)}catch(o){await oo(o)}}function v0(r,e){(r.Ga.get(e)||[]).forEach(n=>{n.resolve()}),r.Ga.delete(e)}function E0(r,e,n){const s=Ae(r);let o=s.Wa[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function gm(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.qa.get(e))r.ka.delete(s),n&&r.La.Ja(s,n);r.qa.delete(e),r.isPrimaryClient&&r.Ua.Sr(e).forEach(s=>{r.Ua.containsKey(s)||T0(r,s)})}function T0(r,e){r.Qa.delete(e.path.canonicalString());const n=r.$a.get(e);n!==null&&(Zm(r.remoteStore,n),r.$a=r.$a.remove(e),r.Ka.delete(n),ap(r))}function Gv(r,e,n){for(const s of n)s instanceof p0?(r.Ua.addReference(s.key,e),wO(r,s)):s instanceof g0?(ae(sp,"Document no longer in limbo: "+s.key),r.Ua.removeReference(s.key,e),r.Ua.containsKey(s.key)||T0(r,s.key)):ve()}function wO(r,e){const n=e.key,s=n.path.canonicalString();r.$a.get(n)||r.Qa.has(s)||(ae(sp,"New document in limbo: "+n),r.Qa.add(s),ap(r))}function ap(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const e=r.Qa.values().next().value;r.Qa.delete(e);const n=new me(Ze.fromString(e)),s=r.za.next();r.Ka.set(s,new dO(n)),r.$a=r.$a.insert(n,s),u0(r.remoteStore,new Hr(li(PT(n.path)),s,"TargetPurposeLimboResolution",mh.ae))}}async function Zl(r,e,n){const s=Ae(r),o=[],u=[],f=[];s.ka.isEmpty()||(s.ka.forEach((m,p)=>{f.push(s.Ha(p,e,n).then(y=>{var E;if((y||n)&&s.isPrimaryClient){const w=y?!y.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(y){o.push(y);const w=Xm.Yi(p.targetId,y);u.push(w)}}))}),await Promise.all(f),s.La.p_(o),await async function(p,y){const E=Ae(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>X.forEach(y,D=>X.forEach(D.Hi,L=>E.persistence.referenceDelegate.addReference(w,D.targetId,L)).next(()=>X.forEach(D.Ji,L=>E.persistence.referenceDelegate.removeReference(w,D.targetId,L)))))}catch(w){if(!lo(w))throw w;ae(Wm,"Failed to update sequence numbers: "+w)}for(const w of y){const D=w.targetId;if(!w.fromCache){const L=E.Ts.get(D),z=L.snapshotVersion,K=L.withLastLimboFreeSnapshotVersion(z);E.Ts=E.Ts.insert(D,K)}}}(s.localStore,u))}async function bO(r,e){const n=Ae(r);if(!n.currentUser.isEqual(e)){ae(sp,"User change. New user:",e.toKey());const s=await s0(n.localStore,e);n.currentUser=e,function(u,f){u.Ga.forEach(m=>{m.forEach(p=>{p.reject(new de(J.CANCELLED,f))})}),u.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Zl(n,s.Rs)}}function RO(r,e){const n=Ae(r),s=n.Ka.get(e);if(s&&s.Ba)return Ne().add(s.key);{let o=Ne();const u=n.qa.get(e);if(!u)return o;for(const f of u){const m=n.ka.get(f);o=o.unionWith(m.view.ba)}return o}}function A0(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=_0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=RO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=TO.bind(null,e),e.La.p_=lO.bind(null,e.eventManager),e.La.Ja=uO.bind(null,e.eventManager),e}function CO(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=AO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=SO.bind(null,e),e}class rh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Sh(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return ID(this.persistence,new bD,e.initialUser,this.serializer)}Xa(e){return new r0($m.ri,this.serializer)}Za(e){return new kD}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}rh.provider={build:()=>new rh};class IO extends rh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){Fe(this.persistence.referenceDelegate instanceof nh);const s=this.persistence.referenceDelegate.garbageCollector;return new cD(s,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?an.withCacheSize(this.cacheSizeBytes):an.DEFAULT;return new r0(s=>nh.ri(s,n),this.serializer)}}class ym{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Fv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=bO.bind(null,this.syncEngine),await iO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new sO}()}createDatastore(e){const n=Sh(e.databaseInfo.databaseId),s=function(u){return new BD(u)}(e.databaseInfo);return function(u,f,m,p){return new FD(u,f,m,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,m){return new KD(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>Fv(this.syncEngine,n,0),function(){return Uv.D()?new Uv:new LD}())}createSyncEngine(e,n){return function(o,u,f,m,p,y,E){const w=new mO(o,u,f,m,p,y);return E&&(w.ja=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=Ae(o);ae(Bs,"RemoteStore shutting down."),u.W_.add(5),await Wl(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}ym.provider={build:()=>new ym};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):$i("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const es="FirestoreClient";class OO{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Qt.UNAUTHENTICATED,this.clientId=yT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{ae(es,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(ae(es,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Qr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=ip(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Kd(r,e){r.asyncQueue.verifyOperationInProgress(),ae(es,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await s0(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function Kv(r,e){r.asyncQueue.verifyOperationInProgress();const n=await NO(r);ae(es,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(s=>Bv(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>Bv(e.remoteStore,o)),r._onlineComponents=e}async function NO(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ae(es,"Using user provided OfflineComponentProvider");try{await Kd(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;$a("Error using user provided cache. Falling back to memory cache: "+n),await Kd(r,new rh)}}else ae(es,"Using default OfflineComponentProvider"),await Kd(r,new IO(void 0));return r._offlineComponents}async function S0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ae(es,"Using user provided OnlineComponentProvider"),await Kv(r,r._uninitializedComponentsProvider._online)):(ae(es,"Using default OnlineComponentProvider"),await Kv(r,new ym))),r._onlineComponents}function MO(r){return S0(r).then(e=>e.syncEngine)}async function VO(r){const e=await S0(r),n=e.eventManager;return n.onListen=pO.bind(null,e.syncEngine),n.onUnlisten=_O.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=gO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=vO.bind(null,e.syncEngine),n}function PO(r,e,n={}){const s=new Qr;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,y){const E=new DO({next:D=>{E.su(),f.enqueueAndForget(()=>oO(u,w)),D.fromCache&&p.source==="server"?y.reject(new de(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(D)},error:D=>y.reject(D)}),w=new cO(m,E,{includeMetadataChanges:!0,Ta:!0});return aO(u,w)}(await VO(r),r.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w0(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b0(r,e,n){if(!n)throw new de(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function kO(r,e,n,s){if(e===!0&&s===!0)throw new de(J.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function Yv(r){if(!me.isDocumentKey(r))throw new de(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function $v(r){if(me.isDocumentKey(r))throw new de(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function op(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":ve()}function Bl(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new de(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=op(r);throw new de(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R0="firestore.googleapis.com",Xv=!0;class Wv{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new de(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=R0,this.ssl=Xv}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:Xv;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=i0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<lD)throw new de(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}kO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=w0((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new de(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new de(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new de(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Rh{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Wv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Wv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new U1;switch(s.type){case"firstParty":return new q1(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new de(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=Qv.get(n);s&&(ae("ComponentProvider","Removing Datastore"),Qv.delete(n),s.terminate())}(this),Promise.resolve()}}function LO(r,e,n,s={}){var o;const u=(r=Bl(r,Rh))._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:r._getEmulatorOptions()}),m=`${e}:${n}`;u.host!==R0&&u.host!==m&&$a("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:m,ssl:!1,emulatorOptions:s});if(!Ls(p,f)&&(r._setSettings(p),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=Qt.MOCK_USER;else{y=Jw(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const w=s.mockUserToken.sub||s.mockUserToken.user_id;if(!w)throw new de(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Qt(w)}r._authCredentials=new z1(new gT(y,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ch(this.firestore,e,this._query)}}class Hn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Hn(this.firestore,e,this._key)}}class Yr extends Ch{constructor(e,n,s){super(e,n,PT(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Hn(this.firestore,null,new me(e))}withConverter(e){return new Yr(this.firestore,e,this._path)}}function Zv(r,e,...n){if(r=mn(r),b0("collection","path",e),r instanceof Rh){const s=Ze.fromString(e,...n);return $v(s),new Yr(r,null,s)}{if(!(r instanceof Hn||r instanceof Yr))throw new de(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Ze.fromString(e,...n));return $v(s),new Yr(r.firestore,null,s)}}function C0(r,e,...n){if(r=mn(r),arguments.length===1&&(e=yT.newId()),b0("doc","path",e),r instanceof Rh){const s=Ze.fromString(e,...n);return Yv(s),new Hn(r,null,new me(s))}{if(!(r instanceof Hn||r instanceof Yr))throw new de(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Ze.fromString(e,...n));return Yv(s),new Hn(r.firestore,r instanceof Yr?r.converter:null,new me(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv="AsyncQueue";class eE{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new o0(this,"async_queue_retry"),this.bu=()=>{const s=Gd();s&&ae(Jv,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.Su=e;const n=Gd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=Gd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Qr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!lo(e))throw e;ae(Jv,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.Su.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(s);throw $i("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.Su=n,n}enqueueAfterDelay(e,n,s){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const o=np.createAndSchedule(this,e,n,s,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&ve()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class Ih extends Rh{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new eE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new eE(e),this._firestoreClient=void 0,await e}}}function xO(r,e){const n=typeof r=="object"?r:CE(),s=typeof r=="string"?r:$c,o=Cm(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=Ww("firestore");u&&LO(o,...u)}return o}function I0(r){if(r._terminated)throw new de(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||UO(r),r._firestoreClient}function UO(r){var e,n,s;const o=r._freezeSettings(),u=function(m,p,y,E){return new nI(m,p,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,w0(E.experimentalLongPollingOptions),E.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new OO(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e){this._byteString=e}static fromBase64String(e){try{return new to(qt.fromBase64String(e))}catch(n){throw new de(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new to(qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zO=/^__.*__$/;class BO{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Gs(e,this.data,this.fieldMask,n,this.fieldTransforms):new $l(e,this.data,n,this.fieldTransforms)}}function O0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve()}}class hp{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new hp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Ku(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return sh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(O0(this.Lu)&&zO.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class HO{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Sh(e)}ju(e,n,s,o=!1){return new hp({Lu:e,methodName:n,zu:s,path:Ht.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qO(r){const e=r._freezeSettings(),n=Sh(r._databaseId);return new HO(r._databaseId,!!e.ignoreUndefinedProperties,n)}function jO(r,e,n,s,o,u={}){const f=r.ju(u.merge||u.mergeFields?2:0,e,n,o);P0("Data must be an object, but it was:",f,s);const m=M0(s,f);let p,y;if(u.merge)p=new Bn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const w of u.mergeFields){const D=FO(e,w,n);if(!f.contains(D))throw new de(J.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);KO(E,D)||E.push(D)}p=new Bn(E),y=f.fieldTransforms.filter(w=>p.covers(w.field))}else p=null,y=f.fieldTransforms;return new BO(new Mn(m),p,y)}function N0(r,e){if(V0(r=mn(r)))return P0("Unsupported field value:",e,r),M0(r,e);if(r instanceof D0)return function(s,o){if(!O0(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=N0(m,o.Uu(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=mn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return RI(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Rt.fromDate(s);return{timestampValue:th(o.serializer,u)}}if(s instanceof Rt){const u=new Rt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:th(o.serializer,u)}}if(s instanceof up)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof to)return{bytesValue:XT(o.serializer,s._byteString)};if(s instanceof Hn){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Qm(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof cp)return function(f,m){return{mapValue:{fields:{[bT]:{stringValue:RT},[Xc]:{arrayValue:{values:f.toArray().map(y=>{if(typeof y!="number")throw m.Wu("VectorValues must only contain numeric values.");return jm(m.serializer,y)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${op(s)}`)}(r,e)}function M0(r,e){const n={};return vT(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):js(r,(s,o)=>{const u=N0(o,e.qu(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function V0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Rt||r instanceof up||r instanceof to||r instanceof Hn||r instanceof D0||r instanceof cp)}function P0(r,e,n){if(!V0(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=op(n);throw s==="an object"?e.Wu(r+" a custom object"):e.Wu(r+" "+s)}}function FO(r,e,n){if((e=mn(e))instanceof lp)return e._internalPath;if(typeof e=="string")return k0(r,e);throw sh("Field path arguments must be of type string or ",r,!1,void 0,n)}const GO=new RegExp("[~\\*/\\[\\]]");function k0(r,e,n){if(e.search(GO)>=0)throw sh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new lp(...e.split("."))._internalPath}catch{throw sh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function sh(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new de(J.INVALID_ARGUMENT,m+r+p)}function KO(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Hn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new QO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(x0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class QO extends L0{data(){return super.data()}}function x0(r,e){return typeof e=="string"?k0(r,e):e instanceof lp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YO(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new de(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $O{convertValue(e,n="none"){switch(Zr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Wr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ve()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return js(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[Xc].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>ct(f.doubleValue));return new cp(u)}convertGeoPoint(e){return new up(ct(e.latitude),ct(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=gh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(kl(e));default:return null}}convertTimestamp(e){const n=Xr(e);return new Rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Ze.fromString(e);Fe(n0(s));const o=new Ll(s.get(1),s.get(3)),u=new me(s.popFirst(5));return o.isEqual(n)||$i(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XO(r,e,n){let s;return s=r?r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class WO extends L0{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new zc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(x0("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class zc extends WO{data(e={}){return super.data(e)}}class ZO{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Cc(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new zc(this._firestore,this._userDataWriter,s.key,s,new Cc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new zc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Cc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new zc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Cc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:JO(m.type),doc:p,oldIndex:y,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function JO(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve()}}class e2 extends $O{constructor(e){super(),this.firestore=e}convertBytes(e){return new to(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Hn(this.firestore,null,n)}}function t2(r){r=Bl(r,Ch);const e=Bl(r.firestore,Ih),n=I0(e),s=new e2(e);return YO(r._query),PO(n,r._query).then(o=>new ZO(e,s,r,o))}function n2(r){return U0(Bl(r.firestore,Ih),[new Fm(r._key,ui.none())])}function i2(r,e){const n=Bl(r.firestore,Ih),s=C0(r),o=XO(r.converter,e);return U0(n,[jO(qO(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,ui.exists(!1))]).then(()=>s)}function U0(r,e){return function(s,o){const u=new Qr;return s.asyncQueue.enqueueAndForget(async()=>EO(await MO(s),o,u)),u.promise}(I0(r),e)}(function(e,n=!0){(function(o){ao=o})(io),Qa(new xs("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Ih(new B1(s.getProvider("auth-internal")),new j1(f,s.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new de(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ll(y.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Fr(av,ov,e),Fr(av,ov,"esm2017")})();const r2={apiKey:"AIzaSyA-SWrkNo18UClN9smmwKizvdCg1qXObPs",authDomain:"code-manager-f080d.firebaseapp.com",projectId:"code-manager-f080d",storageBucket:"code-manager-f080d.firebasestorage.app",messagingSenderId:"116094193451",appId:"1:116094193451:web:26c4531f436a49bb123f6e"},z0=RE(r2),qa=P1(z0),Qd=xO(z0),s2=r=>SC(qa,e=>{r(e)}),a2=()=>{const[r,e]=Y.useState(""),[n,s]=Y.useState(""),[o,u]=Y.useState(""),[f,m]=Y.useState(!1),p=Em(),y=async E=>{E.preventDefault(),u(""),m(!0);try{await EC(qa,r,n),alert("Login Successful!"),p("/dashboard")}catch{u("Invalid email or password")}m(!1)};return We.jsxs("div",{children:[We.jsx("h2",{children:"Login"}),o&&We.jsx("p",{style:{color:"red"},children:o}),We.jsxs("form",{onSubmit:y,children:[We.jsx("input",{type:"email",placeholder:"Email",value:r,onChange:E=>e(E.target.value),required:!0}),We.jsx("input",{type:"password",placeholder:"Password",value:n,onChange:E=>s(E.target.value),required:!0}),We.jsx("button",{type:"submit",disabled:f,children:f?"Logging in...":"Login"})]})]})},o2=()=>{const[r,e]=Y.useState(""),[n,s]=Y.useState([]),o=async()=>{if(!r.trim())return alert("Please paste codes first.");const p=r.split(/\s+/).map(E=>E.replace(/\d+\./g,"")).filter(E=>E.length===7),y=qa.currentUser;if(y)try{const E=Zv(Qd,"users",y.uid,"codes");await Promise.all(p.map(w=>i2(E,{code:w}))),s(w=>[...w,...p.map(D=>({id:Date.now().toString(),code:D}))]),e("")}catch(E){console.error("Error adding codes:",E)}},u=()=>{qa.signOut()},f=p=>{navigator.clipboard.writeText(p),alert(`Code copied: ${p}`)},m=async p=>{const y=qa.currentUser;if(y)try{await n2(C0(Qd,"users",y.uid,"codes",p)),s(E=>E.filter(w=>w.id!==p))}catch(E){console.error("Error deleting code:",E)}};return Y.useEffect(()=>{(async()=>{const y=qa.currentUser;if(y)try{const w=(await t2(Zv(Qd,"users",y.uid,"codes"))).docs.map(D=>({id:D.id,code:D.data().code}));s(w)}catch(E){console.error("Error fetching codes:",E)}})()},[]),We.jsxs("div",{children:[We.jsx("h2",{children:"TEST DASHBOARD"}),We.jsx("button",{onClick:u,children:"Logout"}),We.jsxs("div",{children:[We.jsx("textarea",{value:r,onChange:p=>e(p.target.value),placeholder:"Paste your codes here (multiple codes allowed)",rows:"6",cols:"50"}),We.jsx("button",{onClick:o,children:"Add Codes"})]}),We.jsx("h3",{children:"Your Codes:"}),We.jsx("div",{children:n.length>0?n.map(p=>We.jsxs("div",{style:{marginBottom:"10px",padding:"5px",border:"1px solid #ccc"},children:[We.jsx("span",{children:p.code}),We.jsx("button",{onClick:()=>f(p.code),style:{marginLeft:"10px"},children:"Copy"}),We.jsx("button",{onClick:()=>m(p.id),style:{marginLeft:"10px"},children:"Delete"})]},p.id)):We.jsx("p",{children:"No codes found!"})})]})};function l2(){const[r,e]=Y.useState(!1),n=Em();return Y.useEffect(()=>{const s=s2(o=>{e(!!o),n(o?"/dashboard":"/")});return()=>s()},[n]),We.jsx("div",{children:r?We.jsx(o2,{}):We.jsx(a2,{})})}TS.createRoot(document.getElementById("root")).render(We.jsx(dS.StrictMode,{children:We.jsx(Vw,{children:We.jsx(l2,{})})}));
